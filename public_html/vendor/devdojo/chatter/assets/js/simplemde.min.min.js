!function(b){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.SimpleMDE=b()}}}(function(){var b;return function a(g,j,f){function d(i,e){if(!j[i]){if(!g[i]){var m="function"==typeof require&&require;if(!e&&m){return m(i,!0)}if(h){return h(i,!0)}var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var k=j[i]={exports:{}};g[i][0].call(k.exports,function(l){var o=g[i][1][l];return d(o?o:l)},k,k.exports,a,g,j,f)}return j[i].exports}for(var h="function"==typeof require&&require,c=0;c<f.length;c++){d(f[c])}return d}({1:[function(k,v,g){function d(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=i.length;l>c;++c){w[c]=i[c],m[i.charCodeAt(c)]=c}m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63}function j(A){var C,x,c,z,u,B,y=A.length;if(y%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}u="="===A[y-2]?2:"="===A[y-1]?1:0,B=new q(3*y/4-u),c=u>0?y-4:y;var D=0;for(C=0,x=0;c>C;C+=4,x+=3){z=m[A.charCodeAt(C)]<<18|m[A.charCodeAt(C+1)]<<12|m[A.charCodeAt(C+2)]<<6|m[A.charCodeAt(C+3)],B[D++]=z>>16&255,B[D++]=z>>8&255,B[D++]=255&z}return 2===u?(z=m[A.charCodeAt(C)]<<2|m[A.charCodeAt(C+1)]>>4,B[D++]=255&z):1===u&&(z=m[A.charCodeAt(C)]<<10|m[A.charCodeAt(C+1)]<<4|m[A.charCodeAt(C+2)]>>2,B[D++]=z>>8&255,B[D++]=255&z),B}function f(c){return w[c>>18&63]+w[c>>12&63]+w[c>>6&63]+w[63&c]}function p(u,o,x){for(var s,l=[],c=o;x>c;c+=3){s=(u[c]<<16)+(u[c+1]<<8)+u[c+2],l.push(f(s))}return l.join("")}function h(B){for(var E,y=B.length,s=y%3,A="",x=[],z=16383,C=0,D=y-s;D>C;C+=z){x.push(p(B,C,C+z>D?D:C+z))}return 1===s?(E=B[y-1],A+=w[E>>2],A+=w[E<<4&63],A+="=="):2===s&&(E=(B[y-2]<<8)+B[y-1],A+=w[E>>10],A+=w[E>>4&63],A+=w[E<<2&63],A+="="),x.push(A),x.join("")}g.toByteArray=j,g.fromByteArray=h;var w=[],m=[],q="undefined"!=typeof Uint8Array?Uint8Array:Array;d()},{}],2:[function(d,c,f){},{}],3:[function(d,c,f){(function(aG){function aI(){try{var h=new Uint8Array(1);return h.foo=function(){return 42},42===h.foo()&&"function"==typeof h.subarray&&0===h.subarray(1,1).byteLength}catch(g){return !1}}function aQ(){return aY.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function aL(h,g){if(aQ()<g){throw new RangeError("Invalid typed array length")}return aY.TYPED_ARRAY_SUPPORT?(h=new Uint8Array(g),h.__proto__=aY.prototype):(null===h&&(h=new aY(g)),h.length=g),h}function aY(h,g,i){if(!(aY.TYPED_ARRAY_SUPPORT||this instanceof aY)){return new aY(h,g,i)}if("number"==typeof h){if("string"==typeof g){throw new Error("If encoding is specified then the first argument must be a string")}return aF(this,h)}return aN(this,h,g,i)}function aN(i,g,j,h){if("number"==typeof g){throw new TypeError('"value" argument must not be a number')}return"undefined"!=typeof ArrayBuffer&&g instanceof ArrayBuffer?aU(i,g,j,h):"string"==typeof g?aT(i,g,j):aK(i,g)}function aH(g){if("number"!=typeof g){throw new TypeError('"size" argument must be a number')}}function aV(i,g,j,h){return aH(g),0>=g?aL(i,g):void 0!==j?"string"==typeof h?aL(i,g).fill(j,h):aL(i,g).fill(j):aL(i,g)}function aF(h,g){if(aH(g),h=aL(h,0>g?0:0|aM(g)),!aY.TYPED_ARRAY_SUPPORT){for(var i=0;g>i;i++){h[i]=0}}return h}function aT(i,g,j){if("string"==typeof j&&""!==j||(j="utf8"),!aY.isEncoding(j)){throw new TypeError('"encoding" must be a valid string encoding')}var h=0|aE(g,j);return i=aL(i,h),i.write(g,j),i}function aR(i,g){var j=0|aM(g.length);i=aL(i,j);for(var h=0;j>h;h+=1){i[h]=255&g[h]}return i}function aU(i,g,j,h){if(g.byteLength,0>j||g.byteLength<j){throw new RangeError("'offset' is out of bounds")}if(g.byteLength<j+(h||0)){throw new RangeError("'length' is out of bounds")}return g=void 0===h?new Uint8Array(g,j):new Uint8Array(g,j,h),aY.TYPED_ARRAY_SUPPORT?(i=g,i.__proto__=aY.prototype):i=aR(i,g),i}function aK(h,g){if(aY.isBuffer(g)){var i=0|aM(g.length);return h=aL(h,i),0===h.length?h:(g.copy(h,0,0,i),h)}if(g){if("undefined"!=typeof ArrayBuffer&&g.buffer instanceof ArrayBuffer||"length" in g){return"number"!=typeof g.length||an(g.length)?aL(h,0):aR(h,g)}if("Buffer"===g.type&&ao(g.data)){return aR(h,g.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function aM(g){if(g>=aQ()){throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+aQ().toString(16)+" bytes")}return 0|g}function aS(g){return +g!=g&&(g=0),aY.alloc(+g)}function aE(i,g){if(aY.isBuffer(i)){return i.length}if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(i)||i instanceof ArrayBuffer)){return i.byteLength}"string"!=typeof i&&(i=""+i);var j=i.length;if(0===j){return 0}for(var h=!1;;){switch(g){case"ascii":case"binary":case"raw":case"raws":return j;case"utf8":case"utf-8":case void 0:return aJ(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return az(i).length;default:if(h){return aJ(i).length}g=(""+g).toLowerCase(),h=!0}}}function aB(i,g,j){var h=!1;if((void 0===g||0>g)&&(g=0),g>this.length){return""}if((void 0===j||j>this.length)&&(j=this.length),0>=j){return""}if(j>>>=0,g>>>=0,g>=j){return""}for(i||(i="utf8");;){switch(i){case"hex":return ap(this,g,j);case"utf8":case"utf-8":return ak(this,g,j);case"ascii":return au(this,g,j);case"binary":return aj(this,g,j);case"base64":return al(this,g,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ai(this,g,j);default:if(h){throw new TypeError("Unknown encoding: "+i)}i=(i+"").toLowerCase(),h=!0}}}function aC(i,g,j){var h=i[g];i[g]=i[j],i[j]=h}function aW(p,v,j,g){function m(l,i){return 1===h?l[i]:l.readUInt16BE(i*h)}var h=1,u=p.length,k=v.length;if(void 0!==g&&(g=String(g).toLowerCase(),"ucs2"===g||"ucs-2"===g||"utf16le"===g||"utf-16le"===g)){if(p.length<2||v.length<2){return -1}h=2,u/=2,k/=2,j/=2}for(var w=-1,q=0;u>j+q;q++){if(m(p,j+q)===m(v,-1===w?0:q-w)){if(-1===w&&(w=q),q-w+1===k){return(j+w)*h}}else{-1!==w&&(q-=q-w),w=-1}}return -1}function aD(p,k,s,m){s=Number(s)||0;var j=p.length-s;m?(m=Number(m),m>j&&(m=j)):m=j;var q=k.length;if(q%2!==0){throw new Error("Invalid hex string")}m>q/2&&(m=q/2);for(var h=0;m>h;h++){var g=parseInt(k.substr(2*h,2),16);if(isNaN(g)){return h}p[s+h]=g}return h}function aO(i,g,j,h){return ac(aJ(g,i.length-j),i,j,h)}function af(i,g,j,h){return ac(ar(g),i,j,h)}function aw(i,g,j,h){return af(i,g,j,h)}function am(i,g,j,h){return ac(az(g),i,j,h)}function ae(i,g,j,h){return ac(n(g,i.length-j),i,j,h)}function al(h,g,i){return 0===g&&i===h.length?aa.fromByteArray(h):aa.fromByteArray(h.slice(g,i))}function ak(q,y,j){j=Math.min(q.length,j);for(var g=[],m=y;j>m;){var h=q[m],w=null,k=h>239?4:h>223?3:h>191?2:1;if(j>=m+k){var z,v,x,p;switch(k){case 1:128>h&&(w=h);break;case 2:z=q[m+1],128===(192&z)&&(p=(31&h)<<6|63&z,p>127&&(w=p));break;case 3:z=q[m+1],v=q[m+2],128===(192&z)&&128===(192&v)&&(p=(15&h)<<12|(63&z)<<6|63&v,p>2047&&(55296>p||p>57343)&&(w=p));break;case 4:z=q[m+1],v=q[m+2],x=q[m+3],128===(192&z)&&128===(192&v)&&128===(192&x)&&(p=(15&h)<<18|(63&z)<<12|(63&v)<<6|63&x,p>65535&&1114112>p&&(w=p))}}null===w?(w=65533,k=1):w>65535&&(w-=65536,g.push(w>>>10&1023|55296),w=56320|1023&w),g.push(w),m+=k}return ay(g)}function ay(i){var g=i.length;if(ah>=g){return String.fromCharCode.apply(String,i)}for(var j="",h=0;g>h;){j+=String.fromCharCode.apply(String,i.slice(h,h+=ah))}return j}function au(k,h,l){var j="";l=Math.min(k.length,l);for(var g=h;l>g;g++){j+=String.fromCharCode(127&k[g])}return j}function aj(k,h,l){var j="";l=Math.min(k.length,l);for(var g=h;l>g;g++){j+=String.fromCharCode(k[g])}return j}function ap(k,h,m){var j=k.length;(!h||0>h)&&(h=0),(!m||0>m||m>j)&&(m=j);for(var g="",l=h;m>l;l++){g+=ad(k[l])}return g}function ai(k,h,m){for(var j=k.slice(h,m),g="",l=0;l<j.length;l+=2){g+=String.fromCharCode(j[l]+256*j[l+1])}return g}function ag(h,g,i){if(h%1!==0||0>h){throw new RangeError("offset is not uint")}if(h+g>i){throw new RangeError("Trying to access beyond buffer length")}}function av(k,h,m,j,g,l){if(!aY.isBuffer(k)){throw new TypeError('"buffer" argument must be a Buffer instance')}if(h>g||l>h){throw new RangeError('"value" argument is out of bounds')}if(m+j>k.length){throw new RangeError("Index out of range")}}function aq(k,h,m,j){0>h&&(h=65535+h+1);for(var g=0,l=Math.min(k.length-m,2);l>g;g++){k[m+g]=(h&255<<8*(j?g:1-g))>>>8*(j?g:1-g)}}function ab(k,h,m,j){0>h&&(h=4294967295+h+1);for(var g=0,l=Math.min(k.length-m,4);l>g;g++){k[m+g]=h>>>8*(j?g:3-g)&255}}function ax(k,h,m,j,g,l){if(m+j>k.length){throw new RangeError("Index out of range")}if(0>m){throw new RangeError("Index out of range")}}function aZ(k,h,l,j,g){return g||ax(k,h,l,4,3.4028234663852886e+38,-3.4028234663852886e+38),e.write(k,h,l,j,23,4),l+4}function at(k,h,l,j,g){return g||ax(k,h,l,8,1.7976931348623157e+308,-1.7976931348623157e+308),e.write(k,h,l,j,52,8),l+8}function aA(g){if(g=aP(g).replace(aX,""),g.length<2){return""}for(;g.length%4!==0;){g+="="}return g}function aP(g){return g.trim?g.trim():g.replace(/^\s+|\s+$/g,"")}function ad(g){return 16>g?"0"+g.toString(16):g.toString(16)}function aJ(l,j){j=j||1/0;for(var p,k=l.length,h=null,m=[],g=0;k>g;g++){if(p=l.charCodeAt(g),p>55295&&57344>p){if(!h){if(p>56319){(j-=3)>-1&&m.push(239,191,189);continue}if(g+1===k){(j-=3)>-1&&m.push(239,191,189);continue}h=p;continue}if(56320>p){(j-=3)>-1&&m.push(239,191,189),h=p;continue}p=(h-55296<<10|p-56320)+65536}else{h&&(j-=3)>-1&&m.push(239,191,189)}if(h=null,128>p){if((j-=1)<0){break}m.push(p)}else{if(2048>p){if((j-=2)<0){break}m.push(p>>6|192,63&p|128)}else{if(65536>p){if((j-=3)<0){break}m.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(1114112>p)){throw new Error("Invalid code point")}if((j-=4)<0){break}m.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}}}return m}function ar(h){for(var g=[],i=0;i<h.length;i++){g.push(255&h.charCodeAt(i))}return g}function n(l,j){for(var p,k,h,m=[],g=0;g<l.length&&!((j-=2)<0);g++){p=l.charCodeAt(g),k=p>>8,h=p%256,m.push(h),m.push(k)}return m}function az(g){return aa.toByteArray(aA(g))}function ac(k,h,l,j){for(var g=0;j>g&&!(g+l>=h.length||g>=k.length);g++){h[g+l]=k[g]}return g}function an(g){return g!==g}var aa=d("base64-js"),e=d("ieee754"),ao=d("isarray");f.Buffer=aY,f.SlowBuffer=aS,f.INSPECT_MAX_BYTES=50,aY.TYPED_ARRAY_SUPPORT=void 0!==aG.TYPED_ARRAY_SUPPORT?aG.TYPED_ARRAY_SUPPORT:aI(),f.kMaxLength=aQ(),aY.poolSize=8192,aY._augment=function(g){return g.__proto__=aY.prototype,g},aY.from=function(h,g,i){return aN(null,h,g,i)},aY.TYPED_ARRAY_SUPPORT&&(aY.prototype.__proto__=Uint8Array.prototype,aY.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&aY[Symbol.species]===aY&&Object.defineProperty(aY,Symbol.species,{value:null,configurable:!0})),aY.alloc=function(h,g,i){return aV(null,h,g,i)},aY.allocUnsafe=function(g){return aF(null,g)},aY.allocUnsafeSlow=function(g){return aF(null,g)},aY.isBuffer=function(g){return !(null==g||!g._isBuffer)},aY.compare=function(k,h){if(!aY.isBuffer(k)||!aY.isBuffer(h)){throw new TypeError("Arguments must be Buffers")}if(k===h){return 0}for(var m=k.length,j=h.length,g=0,l=Math.min(m,j);l>g;++g){if(k[g]!==h[g]){m=k[g],j=h[g];break}}return j>m?-1:m>j?1:0},aY.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},aY.concat=function(k,h){if(!ao(k)){throw new TypeError('"list" argument must be an Array of Buffers')}if(0===k.length){return aY.alloc(0)}var m;if(void 0===h){for(h=0,m=0;m<k.length;m++){h+=k[m].length}}var j=aY.allocUnsafe(h),g=0;for(m=0;m<k.length;m++){var l=k[m];if(!aY.isBuffer(l)){throw new TypeError('"list" argument must be an Array of Buffers')}l.copy(j,g),g+=l.length}return j},aY.byteLength=aE,aY.prototype._isBuffer=!0,aY.prototype.swap16=function(){var h=this.length;if(h%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var g=0;h>g;g+=2){aC(this,g,g+1)}return this},aY.prototype.swap32=function(){var h=this.length;if(h%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var g=0;h>g;g+=4){aC(this,g,g+3),aC(this,g+1,g+2)}return this},aY.prototype.toString=function(){var g=0|this.length;return 0===g?"":0===arguments.length?ak(this,0,g):aB.apply(this,arguments)},aY.prototype.equals=function(g){if(!aY.isBuffer(g)){throw new TypeError("Argument must be a Buffer")}return this===g?!0:0===aY.compare(this,g)},aY.prototype.inspect=function(){var h="",g=f.INSPECT_MAX_BYTES;return this.length>0&&(h=this.toString("hex",0,g).match(/.{2}/g).join(" "),this.length>g&&(h+=" ... ")),"<Buffer "+h+">"},aY.prototype.compare=function(q,x,j,g,m){if(!aY.isBuffer(q)){throw new TypeError("Argument must be a Buffer")}if(void 0===x&&(x=0),void 0===j&&(j=q?q.length:0),void 0===g&&(g=0),void 0===m&&(m=this.length),0>x||j>q.length||0>g||m>this.length){throw new RangeError("out of range index")}if(g>=m&&x>=j){return 0}if(g>=m){return -1}if(x>=j){return 1}if(x>>>=0,j>>>=0,g>>>=0,m>>>=0,this===q){return 0}for(var h=m-g,k=j-x,y=Math.min(h,k),v=this.slice(g,m),w=q.slice(x,j),p=0;y>p;++p){if(v[p]!==w[p]){h=v[p],k=w[p];break}}return k>h?-1:h>k?1:0},aY.prototype.indexOf=function(h,g,i){if("string"==typeof g?(i=g,g=0):g>2147483647?g=2147483647:-2147483648>g&&(g=-2147483648),g>>=0,0===this.length){return -1}if(g>=this.length){return -1}if(0>g&&(g=Math.max(this.length+g,0)),"string"==typeof h&&(h=aY.from(h,i)),aY.isBuffer(h)){return 0===h.length?-1:aW(this,h,g,i)}if("number"==typeof h){return aY.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,h,g):aW(this,[h],g,i)}throw new TypeError("val must be string, number or Buffer")},aY.prototype.includes=function(h,g,i){return -1!==this.indexOf(h,g,i)},aY.prototype.write=function(k,h,m,j){if(void 0===h){j="utf8",m=this.length,h=0}else{if(void 0===m&&"string"==typeof h){j=h,m=this.length,h=0}else{if(!isFinite(h)){throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}h=0|h,isFinite(m)?(m=0|m,void 0===j&&(j="utf8")):(j=m,m=void 0)}}var g=this.length-h;if((void 0===m||m>g)&&(m=g),k.length>0&&(0>m||0>h)||h>this.length){throw new RangeError("Attempt to write outside buffer bounds")}j||(j="utf8");for(var l=!1;;){switch(j){case"hex":return aD(this,k,h,m);case"utf8":case"utf-8":return aO(this,k,h,m);case"ascii":return af(this,k,h,m);case"binary":return aw(this,k,h,m);case"base64":return am(this,k,h,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,k,h,m);default:if(l){throw new TypeError("Unknown encoding: "+j)}j=(""+j).toLowerCase(),l=!0}}},aY.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ah=4096;aY.prototype.slice=function(k,h){var m=this.length;k=~~k,h=void 0===h?m:~~h,0>k?(k+=m,0>k&&(k=0)):k>m&&(k=m),0>h?(h+=m,0>h&&(h=0)):h>m&&(h=m),k>h&&(h=k);var j;if(aY.TYPED_ARRAY_SUPPORT){j=this.subarray(k,h),j.__proto__=aY.prototype}else{var g=h-k;j=new aY(g,void 0);for(var l=0;g>l;l++){j[l]=this[l+k]}}return j},aY.prototype.readUIntLE=function(k,h,m){k=0|k,h=0|h,m||ag(k,h,this.length);for(var j=this[k],g=1,l=0;++l<h&&(g*=256);){j+=this[k+l]*g}return j},aY.prototype.readUIntBE=function(k,h,l){k=0|k,h=0|h,l||ag(k,h,this.length);for(var j=this[k+ --h],g=1;h>0&&(g*=256);){j+=this[k+ --h]*g}return j},aY.prototype.readUInt8=function(h,g){return g||ag(h,1,this.length),this[h]},aY.prototype.readUInt16LE=function(h,g){return g||ag(h,2,this.length),this[h]|this[h+1]<<8},aY.prototype.readUInt16BE=function(h,g){return g||ag(h,2,this.length),this[h]<<8|this[h+1]},aY.prototype.readUInt32LE=function(h,g){return g||ag(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+16777216*this[h+3]},aY.prototype.readUInt32BE=function(h,g){return g||ag(h,4,this.length),16777216*this[h]+(this[h+1]<<16|this[h+2]<<8|this[h+3])},aY.prototype.readIntLE=function(k,h,m){k=0|k,h=0|h,m||ag(k,h,this.length);for(var j=this[k],g=1,l=0;++l<h&&(g*=256);){j+=this[k+l]*g}return g*=128,j>=g&&(j-=Math.pow(2,8*h)),j},aY.prototype.readIntBE=function(k,h,m){k=0|k,h=0|h,m||ag(k,h,this.length);for(var j=h,g=1,l=this[k+ --j];j>0&&(g*=256);){l+=this[k+ --j]*g}return g*=128,l>=g&&(l-=Math.pow(2,8*h)),l},aY.prototype.readInt8=function(h,g){return g||ag(h,1,this.length),128&this[h]?-1*(255-this[h]+1):this[h]},aY.prototype.readInt16LE=function(h,g){g||ag(h,2,this.length);var i=this[h]|this[h+1]<<8;return 32768&i?4294901760|i:i},aY.prototype.readInt16BE=function(h,g){g||ag(h,2,this.length);var i=this[h+1]|this[h]<<8;return 32768&i?4294901760|i:i},aY.prototype.readInt32LE=function(h,g){return g||ag(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},aY.prototype.readInt32BE=function(h,g){return g||ag(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},aY.prototype.readFloatLE=function(h,g){return g||ag(h,4,this.length),e.read(this,h,!0,23,4)},aY.prototype.readFloatBE=function(h,g){return g||ag(h,4,this.length),e.read(this,h,!1,23,4)},aY.prototype.readDoubleLE=function(h,g){return g||ag(h,8,this.length),e.read(this,h,!0,52,8)},aY.prototype.readDoubleBE=function(h,g){return g||ag(h,8,this.length),e.read(this,h,!1,52,8)},aY.prototype.writeUIntLE=function(l,j,p,k){if(l=+l,j=0|j,p=0|p,!k){var h=Math.pow(2,8*p)-1;av(this,l,j,p,h,0)}var m=1,g=0;for(this[j]=255&l;++g<p&&(m*=256);){this[j+g]=l/m&255}return j+p},aY.prototype.writeUIntBE=function(l,j,p,k){if(l=+l,j=0|j,p=0|p,!k){var h=Math.pow(2,8*p)-1;av(this,l,j,p,h,0)}var m=p-1,g=1;for(this[j+m]=255&l;--m>=0&&(g*=256);){this[j+m]=l/g&255}return j+p},aY.prototype.writeUInt8=function(h,g,i){return h=+h,g=0|g,i||av(this,h,g,1,255,0),aY.TYPED_ARRAY_SUPPORT||(h=Math.floor(h)),this[g]=255&h,g+1},aY.prototype.writeUInt16LE=function(h,g,i){return h=+h,g=0|g,i||av(this,h,g,2,65535,0),aY.TYPED_ARRAY_SUPPORT?(this[g]=255&h,this[g+1]=h>>>8):aq(this,h,g,!0),g+2},aY.prototype.writeUInt16BE=function(h,g,i){return h=+h,g=0|g,i||av(this,h,g,2,65535,0),aY.TYPED_ARRAY_SUPPORT?(this[g]=h>>>8,this[g+1]=255&h):aq(this,h,g,!1),g+2},aY.prototype.writeUInt32LE=function(h,g,i){return h=+h,g=0|g,i||av(this,h,g,4,4294967295,0),aY.TYPED_ARRAY_SUPPORT?(this[g+3]=h>>>24,this[g+2]=h>>>16,this[g+1]=h>>>8,this[g]=255&h):ab(this,h,g,!0),g+4},aY.prototype.writeUInt32BE=function(h,g,i){return h=+h,g=0|g,i||av(this,h,g,4,4294967295,0),aY.TYPED_ARRAY_SUPPORT?(this[g]=h>>>24,this[g+1]=h>>>16,this[g+2]=h>>>8,this[g+3]=255&h):ab(this,h,g,!1),g+4},aY.prototype.writeIntLE=function(p,k,s,m){if(p=+p,k=0|k,!m){var j=Math.pow(2,8*s-1);av(this,p,k,s,j-1,-j)}var q=0,h=1,g=0;for(this[k]=255&p;++q<s&&(h*=256);){0>p&&0===g&&0!==this[k+q-1]&&(g=1),this[k+q]=(p/h>>0)-g&255}return k+s},aY.prototype.writeIntBE=function(p,k,s,m){if(p=+p,k=0|k,!m){var j=Math.pow(2,8*s-1);av(this,p,k,s,j-1,-j)}var q=s-1,h=1,g=0;for(this[k+q]=255&p;--q>=0&&(h*=256);){0>p&&0===g&&0!==this[k+q+1]&&(g=1),this[k+q]=(p/h>>0)-g&255}return k+s},aY.prototype.writeInt8=function(h,g,i){return h=+h,g=0|g,i||av(this,h,g,1,127,-128),aY.TYPED_ARRAY_SUPPORT||(h=Math.floor(h)),0>h&&(h=255+h+1),this[g]=255&h,g+1},aY.prototype.writeInt16LE=function(h,g,i){return h=+h,g=0|g,i||av(this,h,g,2,32767,-32768),aY.TYPED_ARRAY_SUPPORT?(this[g]=255&h,this[g+1]=h>>>8):aq(this,h,g,!0),g+2},aY.prototype.writeInt16BE=function(h,g,i){return h=+h,g=0|g,i||av(this,h,g,2,32767,-32768),aY.TYPED_ARRAY_SUPPORT?(this[g]=h>>>8,this[g+1]=255&h):aq(this,h,g,!1),g+2},aY.prototype.writeInt32LE=function(h,g,i){return h=+h,g=0|g,i||av(this,h,g,4,2147483647,-2147483648),aY.TYPED_ARRAY_SUPPORT?(this[g]=255&h,this[g+1]=h>>>8,this[g+2]=h>>>16,this[g+3]=h>>>24):ab(this,h,g,!0),g+4},aY.prototype.writeInt32BE=function(h,g,i){return h=+h,g=0|g,i||av(this,h,g,4,2147483647,-2147483648),0>h&&(h=4294967295+h+1),aY.TYPED_ARRAY_SUPPORT?(this[g]=h>>>24,this[g+1]=h>>>16,this[g+2]=h>>>8,this[g+3]=255&h):ab(this,h,g,!1),g+4},aY.prototype.writeFloatLE=function(h,g,i){return aZ(this,h,g,!0,i)},aY.prototype.writeFloatBE=function(h,g,i){return aZ(this,h,g,!1,i)},aY.prototype.writeDoubleLE=function(h,g,i){return at(this,h,g,!0,i)},aY.prototype.writeDoubleBE=function(h,g,i){return at(this,h,g,!1,i)},aY.prototype.copy=function(k,h,m,j){if(m||(m=0),j||0===j||(j=this.length),h>=k.length&&(h=k.length),h||(h=0),j>0&&m>j&&(j=m),j===m){return 0}if(0===k.length||0===this.length){return 0}if(0>h){throw new RangeError("targetStart out of bounds")}if(0>m||m>=this.length){throw new RangeError("sourceStart out of bounds")}if(0>j){throw new RangeError("sourceEnd out of bounds")}j>this.length&&(j=this.length),k.length-h<j-m&&(j=k.length-h+m);var g,l=j-m;if(this===k&&h>m&&j>h){for(g=l-1;g>=0;g--){k[g+h]=this[g+m]}}else{if(1000>l||!aY.TYPED_ARRAY_SUPPORT){for(g=0;l>g;g++){k[g+h]=this[g+m]}}else{Uint8Array.prototype.set.call(k,this.subarray(m,m+l),h)}}return l},aY.prototype.fill=function(p,j,u,m){if("string"==typeof p){if("string"==typeof j?(m=j,j=0,u=this.length):"string"==typeof u&&(m=u,u=this.length),1===p.length){var h=p.charCodeAt(0);256>h&&(p=h)}if(void 0!==m&&"string"!=typeof m){throw new TypeError("encoding must be a string")}if("string"==typeof m&&!aY.isEncoding(m)){throw new TypeError("Unknown encoding: "+m)}}else{"number"==typeof p&&(p=255&p)}if(0>j||this.length<j||this.length<u){throw new RangeError("Out of range index")}if(j>=u){return this}j>>>=0,u=void 0===u?this.length:u>>>0,p||(p=0);var q;if("number"==typeof p){for(q=j;u>q;q++){this[q]=p}}else{var g=aY.isBuffer(p)?p:aJ(new aY(p,m).toString()),k=g.length;for(q=0;u-j>q;q++){this[q+j]=g[q%k]}}return this};var aX=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:15,isarray:16}],4:[function(g,d,h){function f(i){return i=i||{},"function"!=typeof i.codeMirrorInstance||"function"!=typeof i.codeMirrorInstance.defineMode?void console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`"):(String.prototype.includes||(String.prototype.includes=function(){return -1!==String.prototype.indexOf.apply(this,arguments)}),void i.codeMirrorInstance.defineMode("spell-checker",function(k){if(!f.aff_loading){f.aff_loading=!0;var q=new XMLHttpRequest;q.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),q.onload=function(){4===q.readyState&&200===q.status&&(f.aff_data=q.responseText,f.num_loaded++,2==f.num_loaded&&(f.typo=new c("en_US",f.aff_data,f.dic_data,{platform:"any"})))},q.send(null)}if(!f.dic_loading){f.dic_loading=!0;var p=new XMLHttpRequest;p.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),p.onload=function(){4===p.readyState&&200===p.status&&(f.dic_data=p.responseText,f.num_loaded++,2==f.num_loaded&&(f.typo=new c("en_US",f.aff_data,f.dic_data,{platform:"any"})))},p.send(null)}var j='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',e={token:function(o){var l=o.peek(),r="";if(j.includes(l)){return o.next(),null}for(;null!=(l=o.peek())&&!j.includes(l);){r+=l,o.next()}return f.typo&&!f.typo.check(r)?"spell-error":null}},m=i.codeMirrorInstance.getMode(k,k.backdrop||"text/plain");return i.codeMirrorInstance.overlayMode(m,e,!0)}))}var c=g("typo-js");f.num_loaded=0,f.aff_loading=!1,f.dic_loading=!1,f.aff_data="",f.dic_data="",f.typo,d.exports=f},{"typo-js":18}],5:[function(c,e,d){!function(f){"object"==typeof d&&"object"==typeof e?f(c("../../lib/codemirror")):"function"==typeof b&&b.amd?b(["../../lib/codemirror"],f):f(CodeMirror)}(function(g){function f(j){var i=j.getWrapperElement();j.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:i.style.width,height:i.style.height},i.style.width="",i.style.height="auto",i.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",j.refresh()}function h(j){var i=j.getWrapperElement();i.className=i.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var k=j.state.fullScreenRestore;i.style.width=k.width,i.style.height=k.height,window.scrollTo(k.scrollLeft,k.scrollTop),j.refresh()}g.defineOption("fullScreen",!1,function(k,j,l){l==g.Init&&(l=!1),!l!=!j&&(j?f(k):h(k))})})},{"../../lib/codemirror":10}],6:[function(c,e,d){!function(f){"object"==typeof d&&"object"==typeof e?f(c("../../lib/codemirror")):"function"==typeof b&&b.amd?b(["../../lib/codemirror"],f):f(CodeMirror)}(function(j){function g(i){i.state.placeholder&&(i.state.placeholder.parentNode.removeChild(i.state.placeholder),i.state.placeholder=null)}function l(m){g(m);var o=m.state.placeholder=document.createElement("pre");o.style.cssText="height: 0; overflow: visible",o.className="CodeMirror-placeholder";var i=m.getOption("placeholder");"string"==typeof i&&(i=document.createTextNode(i)),o.appendChild(i),m.display.lineSpace.insertBefore(o,m.display.lineSpace.firstChild)}function h(i){k(i)&&l(i)}function f(o){var n=o.getWrapperElement(),m=k(o);n.className=n.className.replace(" CodeMirror-empty","")+(m?" CodeMirror-empty":""),m?l(o):g(o)}function k(i){return 1===i.lineCount()&&""===i.getLine(0)}j.defineOption("placeholder","",function(r,q,m){var i=m&&m!=j.Init;if(q&&!i){r.on("blur",h),r.on("change",f),r.on("swapDoc",f),f(r)}else{if(!q&&i){r.off("blur",h),r.off("change",f),r.off("swapDoc",f),g(r);var p=r.getWrapperElement();p.className=p.className.replace(" CodeMirror-empty","")}}q&&!r.hasFocus()&&h(r)})})},{"../../lib/codemirror":10}],7:[function(c,e,d){!function(f){"object"==typeof d&&"object"==typeof e?f(c("../../lib/codemirror")):"function"==typeof b&&b.amd?b(["../../lib/codemirror"],f):f(CodeMirror)}(function(h){var f=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,g=/[*+-]\s/;h.commands.newlineAndIndentContinueMarkdownList=function(r){if(r.getOption("disableInput")){return h.Pass}for(var k=r.listSelections(),z=[],q=0;q<k.length;q++){var B=k[q].head,y=r.getStateAfter(B.line),A=y.list!==!1,w=0!==y.quote,t=r.getLine(B.line),x=f.exec(t);if(!k[q].empty()||!A&&!w||!x){return void r.execCommand("newlineAndIndent")}if(i.test(t)){r.replaceRange("",{line:B.line,ch:0},{line:B.line,ch:B.ch+1}),z[q]="\n"}else{var j=x[1],n=x[5],v=g.test(x[2])||x[2].indexOf(">")>=0?x[2]:parseInt(x[3],10)+1+x[4];z[q]="\n"+j+v+n}}r.replaceSelections(z)}})},{"../../lib/codemirror":10}],8:[function(c,e,d){!function(f){"object"==typeof d&&"object"==typeof e?f(c("../../lib/codemirror")):"function"==typeof b&&b.amd?b(["../../lib/codemirror"],f):f(CodeMirror)}(function(f){f.overlayMode=function(g,i,h){return{startState:function(){return{base:f.startState(g),overlay:f.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(j){return{base:f.copyState(g,j.base),overlay:f.copyState(i,j.overlay),basePos:j.basePos,baseCur:null,overlayPos:j.overlayPos,overlayCur:null}},token:function(k,j){return(k!=j.streamSeen||Math.min(j.basePos,j.overlayPos)<k.start)&&(j.streamSeen=k,j.basePos=j.overlayPos=k.start),k.start==j.basePos&&(j.baseCur=g.token(k,j.base),j.basePos=k.pos),k.start==j.overlayPos&&(k.pos=k.start,j.overlayCur=i.token(k,j.overlay),j.overlayPos=k.pos),k.pos=Math.min(j.basePos,j.overlayPos),null==j.overlayCur?j.baseCur:null!=j.baseCur&&j.overlay.combineTokens||h&&null==j.overlay.combineTokens?j.baseCur+" "+j.overlayCur:j.overlayCur},indent:g.indent&&function(j,k){return g.indent(j.base,k)},electricChars:g.electricChars,innerMode:function(j){return{state:j.base,mode:g}},blankLine:function(j){g.blankLine&&g.blankLine(j.base),i.blankLine&&i.blankLine(j.overlay)}}}})},{"../../lib/codemirror":10}],9:[function(c,e,d){!function(f){"object"==typeof d&&"object"==typeof e?f(c("../../lib/codemirror")):"function"==typeof b&&b.amd?b(["../../lib/codemirror"],f):f(CodeMirror)}(function(m){function u(i){i.operation(function(){q(i)})}function h(i){i.state.markedSelection.length&&i.operation(function(){k(i)})}function f(B,F,x,l){if(0!=p(F,x)){for(var y=B.state.markedSelection,w=B.state.markedSelectionStyle,D=F.line;;){var E=D==F.line?F:v(D,0),A=D+j,z=A>=x.line,C=z?x:v(A,0),s=B.markText(E,C,{className:w});if(null==l?y.push(s):y.splice(l++,0,s),z){break}D=A}}}function k(l){for(var i=l.state.markedSelection,o=0;o<i.length;++o){i[o].clear()}i.length=0}function g(l){k(l);for(var i=l.listSelections(),o=0;o<i.length;o++){f(l,i[o].from(),i[o].to())}}function q(w){if(!w.somethingSelected()){return k(w)}if(w.listSelections().length>1){return g(w)}var o=w.getCursor("start"),x=w.getCursor("end"),i=w.state.markedSelection;if(!i.length){return f(w,o,x)}var r=i[0].find(),l=i[i.length-1].find();if(!r||!l||x.line-o.line<j||p(o,l.to)>=0||p(x,r.from)<=0){return g(w)}for(;p(o,r.from)>0;){i.shift().clear(),r=i[0].find()}for(p(o,r.from)<0&&(r.to.line-o.line<j?(i.shift().clear(),f(w,o,r.to,0)):f(w,o,r.from,0));p(x,l.to)<0;){i.pop().clear(),l=i[i.length-1].find()}p(x,l.to)>0&&(x.line-l.from.line<j?(i.pop().clear(),f(w,l.from,x)):f(w,l.to,x))}m.defineOption("styleSelectedText",!1,function(t,n,i){var o=i&&i!=m.Init;n&&!o?(t.state.markedSelection=[],t.state.markedSelectionStyle="string"==typeof n?n:"CodeMirror-selectedtext",g(t),t.on("cursorActivity",u),t.on("change",h)):!n&&o&&(t.off("cursorActivity",u),t.off("change",h),k(t),t.state.markedSelection=t.state.markedSelectionStyle=null)});var j=8,v=m.Pos,p=m.cmpPos})},{"../../lib/codemirror":10}],10:[function(c,e,d){!function(f){if("object"==typeof d&&"object"==typeof e){e.exports=f()}else{if("function"==typeof b&&b.amd){return b([],f)}(this||window).CodeMirror=f()}}(function(){function gF(q,l){if(!(this instanceof gF)){return new gF(q,l)}this.options=l=l?cM(l):{},cM(fM,l,!1),gG(l);var j=l.value;"string"==typeof j&&(j=new bq(j,l.mode,null,l.lineSeparator)),this.doc=j;var p=new gF.inputStyles[l.inputStyle](this),g=this.display=new gb(q,j,p);g.wrapper.CodeMirror=this,gH(this),gs(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),l.autofocus&&!bU&&g.input.focus(),f7(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new aP,keySeq:null,specialChars:null};var k=this;ad&&11>g0&&setTimeout(function(){k.display.input.reset(!0)},20),eg(this),f0(),gU(this),this.curOp.forceUpdate=!0,cq(this,j),l.autofocus&&!bU||k.hasFocus()?setTimeout(bD(aV,this),20):h0(this);for(var h in bA){bA.hasOwnProperty(h)&&bA[h](this,l[h],ds)}gu(this),l.finishInit&&l.finishInit(this);for(var m=0;m<hS.length;++m){hS[m](this)}d0(this),aG&&l.lineWrapping&&"optimizelegibility"==getComputedStyle(g.lineDiv).textRendering&&(g.lineDiv.style.textRendering="auto")}function gb(h,f,i){var g=this;this.input=i,g.scrollbarFiller=eq("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=eq("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=eq("div",null,"CodeMirror-code"),g.selectionDiv=eq("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=eq("div",null,"CodeMirror-cursors"),g.measure=eq("div",null,"CodeMirror-measure"),g.lineMeasure=eq("div",null,"CodeMirror-measure"),g.lineSpace=eq("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none"),g.mover=eq("div",[eq("div",[g.lineSpace],"CodeMirror-lines")],null,"position: relative"),g.sizer=eq("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=eq("div",null,null,"position: absolute; height: "+a7+"px; width: 1px;"),g.gutters=eq("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=eq("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=eq("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),ad&&8>g0&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),aG||e4&&bU||(g.scroller.draggable=!0),h&&(h.appendChild?h.appendChild(g.wrapper):h(g.wrapper)),g.viewFrom=g.viewTo=f.first,g.reportedViewFrom=g.reportedViewTo=f.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,i.init(g)}function gm(f){f.doc.mode=gF.getMode(f.options,f.doc.modeOption),gf(f)}function gf(f){f.doc.iter(function(g){g.stateAfter&&(g.stateAfter=null),g.styles&&(g.styles=null)}),f.doc.frontier=f.doc.first,az(f,100),f.state.modeGen++,f.curOp&&aY(f)}function gy(f){f.options.lineWrapping?(gO(f.display.wrapper,"CodeMirror-wrap"),f.display.sizer.style.minWidth="",f.display.sizerWidth=null):(bX(f.display.wrapper,"CodeMirror-wrap"),gA(f)),gL(f),aY(f),dL(f),setTimeout(function(){f4(f)},100)}function gk(h){var f=hW(h.display),i=h.options.lineWrapping,g=i&&Math.max(5,h.display.scroller.clientWidth/ib(h.display)-3);return function(k){if(d1(h.doc,k)){return 0}var l=0;if(k.widgets){for(var j=0;j<k.widgets.length;j++){k.widgets[j].height&&(l+=k.widgets[j].height)}}return i?l+(Math.ceil(k.text.length/g)||1)*f:l+f}}function gL(g){var f=g.doc,h=gk(g);f.iter(function(j){var i=h(j);i!=j.height&&fI(j,i)})}function gs(f){f.display.wrapper.className=f.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+f.options.theme.replace(/(^|\s)\s*/g," cm-s-"),dL(f)}function gc(f){gH(f),aY(f),setTimeout(function(){f6(f)},20)}function gH(j){var g=j.display.gutters,l=j.options.gutters;du(g);for(var h=0;h<l.length;++h){var f=l[h],k=g.appendChild(eq("div",null,"CodeMirror-gutter "+f));"CodeMirror-linenumbers"==f&&(j.display.lineGutter=k,k.style.width=(j.display.lineNumWidth||1)+"px")}g.style.display=h?"":"none",f8(j)}function f8(g){var f=g.display.gutters.offsetWidth;g.display.sizer.style.marginLeft=f+"px"}function gD(j){if(0==j.height){return 0}for(var g,k=j.text.length,h=j;g=dy(h);){var f=g.find(0,!0);h=f.from.line,k+=f.from.ch-f.to.ch}for(h=j;g=e3(h);){var f=g.find(0,!0);k-=h.text.length-f.from.ch,h=f.to.line,k+=h.text.length-f.to.ch}return k}function gA(g){var f=g.display,h=g.doc;f.maxLine=bL(h,h.first),f.maxLineLength=gD(f.maxLine),f.maxLineChanged=!0,h.iter(function(i){var j=gD(i);j>f.maxLineLength&&(f.maxLineLength=j,f.maxLine=i)})}function gG(g){var f=eL(g.gutters,"CodeMirror-linenumbers");-1==f&&g.lineNumbers?g.gutters=g.gutters.concat(["CodeMirror-linenumbers"]):f>-1&&!g.lineNumbers&&(g.gutters=g.gutters.slice(0),g.gutters.splice(f,1))}function gj(h){var f=h.display,i=f.gutters.offsetWidth,g=Math.round(h.doc.height+cw(h.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:h.options.fixedGutter?i:0,docHeight:g,scrollHeight:g+cg(h)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:i}}function gp(j,g,k){this.cm=k;var h=this.vert=eq("div",[eq("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),f=this.horiz=eq("div",[eq("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");j(h),j(f),aT(h,"scroll",function(){h.clientHeight&&g(h.scrollTop,"vertical")}),aT(f,"scroll",function(){f.clientWidth&&g(f.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ad&&8>g0&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function gB(){}function f7(f){f.display.scrollbars&&(f.display.scrollbars.clear(),f.display.scrollbars.addClass&&bX(f.display.wrapper,f.display.scrollbars.addClass)),f.display.scrollbars=new gF.scrollbarModel[f.options.scrollbarStyle](function(g){f.display.wrapper.insertBefore(g,f.display.scrollbarFiller),aT(g,"mousedown",function(){f.state.focused&&setTimeout(function(){f.display.input.focus()},0)}),g.setAttribute("cm-not-content","true")},function(g,h){"horizontal"==h?cS(f,g):b4(f,g)},f),f.display.scrollbars.addClass&&gO(f.display.wrapper,f.display.scrollbars.addClass)}function f4(j,g){g||(g=gj(j));var k=j.display.barWidth,h=j.display.barHeight;f5(j,g);for(var f=0;4>f&&k!=j.display.barWidth||h!=j.display.barHeight;f++){k!=j.display.barWidth&&j.options.lineWrapping&&g4(j),f5(j,gj(j)),k=j.display.barWidth,h=j.display.barHeight}}function f5(h,f){var i=h.display,g=i.scrollbars.update(f);i.sizer.style.paddingRight=(i.barWidth=g.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=g.bottom)+"px",i.heightForcer.style.borderBottom=g.bottom+"px solid transparent",g.right&&g.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=g.bottom+"px",i.scrollbarFiller.style.width=g.right+"px"):i.scrollbarFiller.style.display="",g.bottom&&h.options.coverGutterNextToScrollbar&&h.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=g.bottom+"px",i.gutterFiller.style.width=f.gutterWidth+"px"):i.gutterFiller.style.display=""}function gK(m,q,h){var f=h&&null!=h.top?Math.max(0,h.top):m.scroller.scrollTop;f=Math.floor(f-dv(m));var k=h&&null!=h.bottom?h.bottom:f+m.wrapper.clientHeight,g=dk(q,f),p=dk(q,k);if(h&&h.ensure){var j=h.ensure.from.line,u=h.ensure.to.line;g>j?(g=j,p=dk(q,b8(bL(q,j))+m.wrapper.clientHeight)):Math.min(u,q.lastLine())>=p&&(g=dk(q,b8(bL(q,u))-m.wrapper.clientHeight),p=u)}return{from:g,to:Math.max(p,g+1)}}function f6(m){var q=m.display,h=q.view;if(q.alignWidgets||q.gutters.firstChild&&m.options.fixedGutter){for(var f=hv(q)-q.scroller.scrollLeft+m.doc.scrollLeft,k=q.gutters.offsetWidth,g=f+"px",p=0;p<h.length;p++){if(!h[p].hidden){m.options.fixedGutter&&h[p].gutter&&(h[p].gutter.style.left=g);var j=h[p].alignable;if(j){for(var u=0;u<j.length;u++){j[u].style.left=g}}}}m.options.fixedGutter&&(q.gutters.style.left=f+k+"px")}}function gu(k){if(!k.options.lineNumbers){return !1}var h=k.doc,m=gY(k.options,h.first+h.size-1),j=k.display;if(m.length!=j.lineNumChars){var g=j.measure.appendChild(eq("div",[eq("div",m)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=g.firstChild.offsetWidth,f=g.offsetWidth-l;return j.lineGutter.style.width="",j.lineNumInnerWidth=Math.max(l,j.lineGutter.offsetWidth-f)+1,j.lineNumWidth=j.lineNumInnerWidth+f,j.lineNumChars=j.lineNumInnerWidth?m.length:-1,j.lineGutter.style.width=j.lineNumWidth+"px",f8(k),!0}return !1}function gY(g,f){return String(g.lineNumberFormatter(f+g.firstLineNumber))}function hv(f){return f.scroller.getBoundingClientRect().left-f.sizer.getBoundingClientRect().left}function g8(h,f,i){var g=h.display;this.viewport=f,this.visible=gK(g,h.doc,f),this.editorIsHidden=!g.wrapper.offsetWidth,this.wrapperHeight=g.wrapper.clientHeight,this.wrapperWidth=g.wrapper.clientWidth,this.oldDisplayWidth=dg(h),this.force=i,this.dims=g2(h),this.events=[]}function gW(g){var f=g.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=cg(g)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=cg(g)+"px",f.scrollbarsClipped=!0)}function g7(m,u){var h=m.display,f=m.doc;if(u.editorIsHidden){return cF(m),!1}if(!u.force&&u.visible.from>=h.viewFrom&&u.visible.to<=h.viewTo&&(null==h.updateLineNumbers||h.updateLineNumbers>=h.viewTo)&&h.renderedView==h.view&&0==hz(m)){return !1}gu(m)&&(cF(m),u.dims=g2(m));var k=f.first+f.size,g=Math.max(u.visible.from-m.options.viewportMargin,f.first),q=Math.min(k,u.visible.to+m.options.viewportMargin);h.viewFrom<g&&g-h.viewFrom<20&&(g=Math.max(f.first,h.viewFrom)),h.viewTo>q&&h.viewTo-q<20&&(q=Math.min(k,h.viewTo)),cI&&(g=gX(m.doc,g),q=aE(m.doc,q));var j=g!=h.viewFrom||q!=h.viewTo||h.lastWrapHeight!=u.wrapperHeight||h.lastWrapWidth!=u.wrapperWidth;aq(m,g,q),h.viewOffset=b8(bL(m.doc,h.viewFrom)),m.display.mover.style.top=h.viewOffset+"px";var v=hz(m);if(!j&&0==v&&!u.force&&h.renderedView==h.view&&(null==h.updateLineNumbers||h.updateLineNumbers>=h.viewTo)){return !1}var p=h8();return v>4&&(h.lineDiv.style.display="none"),gZ(m,h.updateLineNumbers,u.dims),v>4&&(h.lineDiv.style.display=""),h.renderedView=h.view,p&&h8()!=p&&p.offsetHeight&&p.focus(),du(h.cursorDiv),du(h.selectionDiv),h.gutters.style.height=h.sizer.style.minHeight=0,j&&(h.lastWrapHeight=u.wrapperHeight,h.lastWrapWidth=u.wrapperWidth,az(m,400)),h.updateLineNumbers=null,!0}function g5(j,g){for(var k=g.viewport,h=!0;(h&&j.options.lineWrapping&&g.oldDisplayWidth!=dg(j)||(k&&null!=k.top&&(k={top:Math.min(j.doc.height+cw(j.display)-c2(j),k.top)}),g.visible=gK(j.display,j.doc,k),!(g.visible.from>=j.display.viewFrom&&g.visible.to<=j.display.viewTo)))&&g7(j,g);h=!1){g4(j);var f=gj(j);ed(j),f4(j,f),hp(j,f)}g.signal(j,"update",j),j.display.viewFrom==j.display.reportedViewFrom&&j.display.viewTo==j.display.reportedViewTo||(g.signal(j,"viewportChange",j,j.display.viewFrom,j.display.viewTo),j.display.reportedViewFrom=j.display.viewFrom,j.display.reportedViewTo=j.display.viewTo)}function hx(h,f){var i=new g8(h,f);if(g7(h,i)){g4(h),g5(h,i);var g=gj(h);ed(h),f4(h,g),hp(h,g),i.finish()}}function hp(g,f){g.display.sizer.style.minHeight=f.docHeight+"px",g.display.heightForcer.style.top=f.docHeight+"px",g.display.gutters.style.height=f.docHeight+g.display.barHeight+cg(g)+"px"}function g4(m){for(var u=m.display,h=u.lineDiv.offsetTop,f=0;f<u.view.length;f++){var k,g=u.view[f];if(!g.hidden){if(ad&&8>g0){var q=g.node.offsetTop+g.node.offsetHeight;k=q-h,h=q}else{var j=g.node.getBoundingClientRect();k=j.bottom-j.top}var v=g.line.height-k;if(2>k&&(k=hW(u)),(v>0.001||-0.001>v)&&(fI(g.line,k),hg(g.line),g.rest)){for(var p=0;p<g.rest.length;p++){hg(g.rest[p])}}}}}function hg(g){if(g.widgets){for(var f=0;f<g.widgets.length;++f){g.widgets[f].height=g.widgets[f].node.parentNode.offsetHeight}}}function g2(k){for(var h=k.display,m={},j={},g=h.gutters.clientLeft,l=h.gutters.firstChild,f=0;l;l=l.nextSibling,++f){m[k.options.gutters[f]]=l.offsetLeft+l.clientLeft+g,j[k.options.gutters[f]]=l.clientWidth}return{fixedPos:hv(h),gutterTotalWidth:h.gutters.offsetWidth,gutterLeft:m,gutterWidth:j,wrapperWidth:h.wrapper.clientWidth}}function gZ(w,B,k){function g(f){var h=f.nextSibling;return aG&&aN&&w.display.currentWheelTarget==f?f.style.display="none":f.parentNode.removeChild(f),h}for(var p=w.display,j=w.options.lineNumbers,z=p.lineDiv,m=z.firstChild,C=p.view,y=p.viewFrom,A=0;A<C.length;A++){var v=C[A];if(v.hidden){}else{if(v.node&&v.node.parentNode==z){for(;m!=v.node;){m=g(m)}var q=j&&null!=B&&y>=B&&v.lineNumber;v.changes&&(eL(v.changes,"gutter")>-1&&(q=!1),hq(w,v,y,k)),q&&(du(v.lineNumber),v.lineNumber.appendChild(document.createTextNode(gY(w.options,y)))),m=v.node.nextSibling}else{var x=gV(w,v,y,k);z.insertBefore(x,m)}}y+=v.size}for(;m;){m=g(m)}}function hq(j,g,l,h){for(var f=0;f<g.changes.length;f++){var k=g.changes[f];"text"==k?gM(j,g):"gutter"==k?f2(j,g,l,h):"class"==k?hm(g):"widget"==k&&gw(j,g,h)}g.changes=null}function hh(f){return f.node==f.text&&(f.node=eq("div",null,null,"position: relative"),f.text.parentNode&&f.text.parentNode.replaceChild(f.node,f.text),f.node.appendChild(f.text),ad&&8>g0&&(f.node.style.zIndex=2)),f.node}function gS(g){var f=g.bgClass?g.bgClass+" "+(g.line.bgClass||""):g.line.bgClass;if(f&&(f+=" CodeMirror-linebackground"),g.background){f?g.background.className=f:(g.background.parentNode.removeChild(g.background),g.background=null)}else{if(f){var h=hh(g);g.background=h.insertBefore(eq("div",null,f),h.firstChild)}}}function hw(g,f){var h=g.display.externalMeasured;return h&&h.line==f.line?(g.display.externalMeasured=null,f.measure=h.measure,h.built):bz(g,f)}function gM(h,f){var i=f.text.className,g=hw(h,f);f.text==f.node&&(f.node=g.pre),f.text.parentNode.replaceChild(g.pre,f.text),f.text=g.pre,g.bgClass!=f.bgClass||g.textClass!=f.textClass?(f.bgClass=g.bgClass,f.textClass=g.textClass,hm(f)):i&&(f.text.className=i)}function hm(g){gS(g),g.line.wrapClass?hh(g).className=g.line.wrapClass:g.node!=g.text&&(g.node.className="");var f=g.textClass?g.textClass+" "+(g.line.textClass||""):g.line.textClass;g.text.className=f||""}function f2(m,u,h,f){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var k=hh(u);u.gutterBackground=eq("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(m.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),k.insertBefore(u.gutterBackground,u.text)}var g=u.line.gutterMarkers;if(m.options.lineNumbers||g){var k=hh(u),q=u.gutter=eq("div",null,"CodeMirror-gutter-wrapper","left: "+(m.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(m.display.input.setUneditable(q),k.insertBefore(q,u.text),u.line.gutterClass&&(q.className+=" "+u.line.gutterClass),!m.options.lineNumbers||g&&g["CodeMirror-linenumbers"]||(u.lineNumber=q.appendChild(eq("div",gY(m.options,h),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+m.display.lineNumInnerWidth+"px"))),g){for(var j=0;j<m.options.gutters.length;++j){var v=m.options.gutters[j],p=g.hasOwnProperty(v)&&g[v];p&&q.appendChild(eq("div",[p],"CodeMirror-gutter-elt","left: "+f.gutterLeft[v]+"px; width: "+f.gutterWidth[v]+"px"))}}}}function gw(j,g,k){g.alignable&&(g.alignable=null);for(var h,f=g.node.firstChild;f;f=h){var h=f.nextSibling;"CodeMirror-linewidget"==f.className&&g.node.removeChild(f)}gg(j,g,k)}function gV(j,g,k,h){var f=hw(j,g);return g.text=g.node=f.pre,f.bgClass&&(g.bgClass=f.bgClass),f.textClass&&(g.textClass=f.textClass),hm(g),f2(j,g,k,h),gg(j,g,h),g.node}function gg(h,f,i){if(hk(h,f.line,f,i,!0),f.rest){for(var g=0;g<f.rest.length;g++){hk(h,f.rest[g],f,i,!1)}}}function hk(m,u,h,f,k){if(u.widgets){for(var g=hh(h),q=0,j=u.widgets;q<j.length;++q){var v=j[q],p=eq("div",[v.node],"CodeMirror-linewidget");v.handleMouseEvents||p.setAttribute("cm-ignore-events","true"),gQ(v,p,h,f),m.display.input.setUneditable(p),k&&v.above?g.insertBefore(p,h.gutter||h.text):g.appendChild(p),bk(v,"redraw")}}}function gQ(j,g,k,h){if(j.noHScroll){(k.alignable||(k.alignable=[])).push(g);var f=h.wrapperWidth;g.style.left=h.fixedPos+"px",j.coverGutter||(f-=h.gutterTotalWidth,g.style.paddingLeft=h.gutterTotalWidth+"px"),g.style.width=f+"px"}j.coverGutter&&(g.style.zIndex=5,g.style.position="relative",j.noHScroll||(g.style.marginLeft=-h.gutterTotalWidth+"px"))}function hU(f){return bB(f.line,f.ch)}function gT(g,f){return ak(g,f)<0?f:g}function hc(g,f){return ak(g,f)<0?g:f}function gR(f){f.state.focused||(f.display.input.focus(),aV(f))}function gP(y,D,m,g,v){var k=y.doc;y.display.shift=!1,g||(g=k.sel);var B=y.state.pasteIncoming||"paste"==v,q=k.splitLines(D),E=null;if(B&&g.ranges.length>1){if(ax&&ax.text.join("\n")==D){if(g.ranges.length%ax.text.length==0){E=[];for(var A=0;A<ax.text.length;A++){E.push(k.splitLines(ax.text[A]))}}}else{q.length==g.ranges.length&&(E=ec(q,function(f){return[f]}))}}for(var A=g.ranges.length-1;A>=0;A--){var C=g.ranges[A],x=C.from(),w=C.to();C.empty()&&(m&&m>0?x=bB(x.line,x.ch-m):y.state.overwrite&&!B?w=bB(w.line,Math.min(bL(k,w.line).text.length,w.ch+hu(q).length)):ax&&ax.lineWise&&ax.text.join("\n")==D&&(x=w=bB(x.line,0)));var z=y.curOp.updateInput,j={from:x,to:w,text:E?E[A%E.length]:q,origin:v||(B?"paste":y.state.cutIncoming?"cut":"+input")};dF(y.doc,j),bk(y,"inputRead",y,j)}D&&!B&&g1(y,D),bC(y),y.curOp.updateInput=z,y.curOp.typing=!0,y.state.pasteIncoming=y.state.cutIncoming=!1}function hd(g,f){var h=g.clipboardData&&g.clipboardData.getData("text/plain");return h?(g.preventDefault(),f.isReadOnly()||f.options.disableInput||bQ(f,function(){gP(f,h,0,null,"paste")}),!0):void 0}function g1(m,j){if(m.options.electricChars&&m.options.smartIndent){for(var q=m.doc.sel,k=q.ranges.length-1;k>=0;k--){var h=q.ranges[k];if(!(h.head.ch>100||k&&q.ranges[k-1].head.line==h.head.line)){var p=m.getModeAt(h.head),g=!1;if(p.electricChars){for(var f=0;f<p.electricChars.length;f++){if(j.indexOf(p.electricChars.charAt(f))>-1){g=ay(m,h.head.line,"smart");break}}}else{p.electricInput&&p.electricInput.test(bL(m.doc,h.head.line).text.slice(0,h.head.ch))&&(g=ay(m,h.head.line,"smart"))}g&&bk(m,"electricInput",m,h.head.line)}}}}function fL(j){for(var g=[],l=[],h=0;h<j.doc.sel.ranges.length;h++){var f=j.doc.sel.ranges[h].head.line,k={anchor:bB(f,0),head:bB(f+1,0)};l.push(k),g.push(j.getRange(k.anchor,k.head))}return{text:g,ranges:l}}function bx(f){f.setAttribute("autocorrect","off"),f.setAttribute("autocapitalize","off"),f.setAttribute("spellcheck","false")}function dq(f){this.cm=f,this.prevInput="",this.pollingFast=!1,this.polling=new aP,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function cc(){var g=eq("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),f=eq("div",[g],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return aG?g.style.width="1000px":g.setAttribute("wrap","off"),e9&&(g.style.border="1px solid black"),bx(g),f}function eJ(f){this.cm=f,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new aP,this.gracePeriod=!1}function cZ(m,q){var h=ey(m,q.line);if(!h||h.hidden){return null}var f=bL(m.doc,q.line),k=cz(h,f,q.line),g=eG(f),p="left";if(g){var j=gh(g,q.ch);p=j%2?"right":"left"}var u=c8(k.map,q.ch,p);return u.offset="right"==u.collapse?u.end:u.start,u}function hR(g,f){return f&&(g.bad=!0),g}function dV(j,g,l){var h;if(g==j.display.lineDiv){if(h=j.display.lineDiv.childNodes[l],!h){return hR(j.clipPos(bB(j.display.viewTo-1)),!0)}g=null,l=0}else{for(h=g;;h=h.parentNode){if(!h||h==j.display.lineDiv){return null}if(h.parentNode&&h.parentNode==j.display.lineDiv){break}}}for(var f=0;f<j.display.view.length;f++){var k=j.display.view[f];if(k.node==h){return bP(k,g,l)}}}function bP(y,D,m){function g(J,u,h){for(var G=-1;G<(C?C.length:0);G++){for(var p=0>G?A.map:C[G],I=0;I<p.length;I+=3){var F=p[I+2];if(F==J||F==u){var K=bw(0>G?y.line:y.rest[G]),H=p[I]+h;return(0>h||F!=J)&&(H=p[I+(h?1:0)]),bB(K,H)}}}}var v=y.text.firstChild,k=!1;if(!D||!c5(v,D)){return hR(bB(bw(y.line),0),!0)}if(D==v&&(k=!0,D=v.childNodes[m],m=0,!D)){var B=y.rest?hu(y.rest):y.line;return hR(bB(bw(B),B.text.length),k)}var q=3==D.nodeType?D:null,E=D;for(q||1!=D.childNodes.length||3!=D.firstChild.nodeType||(q=D.firstChild,m&&(m=q.nodeValue.length));E.parentNode!=v;){E=E.parentNode}var A=y.measure,C=A.maps,x=g(q,E,m);if(x){return hR(x,k)}for(var w=E.nextSibling,z=q?q.nodeValue.length-m:0;w;w=w.nextSibling){if(x=g(w,w.firstChild,0)){return hR(bB(x.line,x.ch-z),k)}z+=w.textContent.length}for(var j=E.previousSibling,z=m;j;j=j.previousSibling){if(x=g(j,j.firstChild,-1)){return hR(bB(x.line,x.ch+z),k)}z+=w.textContent.length}}function gE(m,u,h,f,k){function g(i){return function(l){return l.id==i}}function q(l){if(1==l.nodeType){var x=l.getAttribute("cm-text");if(null!=x){return""==x&&(x=l.textContent.replace(/\u200b/g,"")),void (j+=x)}var i,r=l.getAttribute("cm-marker");if(r){var o=m.findMarks(bB(f,0),bB(k+1,0),g(+r));return void (o.length&&(i=o[0].find())&&(j+=gv(m.doc,i.from,i.to).join(p)))}if("false"==l.getAttribute("contenteditable")){return}for(var w=0;w<l.childNodes.length;w++){q(l.childNodes[w])}/^(pre|div|p)$/i.test(l.nodeName)&&(v=!0)}else{if(3==l.nodeType){var s=l.nodeValue;if(!s){return}v&&(j+=p,v=!1),j+=s}}}for(var j="",v=!1,p=m.doc.lineSeparator();q(u),u!=h;){u=u.nextSibling}return j}function bc(g,f){this.ranges=g,this.primIndex=f}function fw(g,f){this.anchor=g,this.head=f}function eX(m,q){var h=m[q];m.sort(function(l,i){return ak(l.from(),i.from())}),q=eL(m,h);for(var f=1;f<m.length;f++){var k=m[f],g=m[f-1];if(ak(g.to(),k.from())>=0){var p=hc(g.from(),k.from()),j=gT(g.to(),k.to()),u=g.empty()?k.from()==k.head:g.from()==g.head;q>=f&&--q,m.splice(--f,2,new fw(u?j:p,u?p:j))}}return new bc(m,q)}function fY(g,f){return new bc([new fw(g,f||g)],0)}function cK(g,f){return Math.max(g.first,Math.min(f,g.first+g.size-1))}function dG(g,f){if(f.line<g.first){return bB(g.first,0)}var h=g.first+g.size-1;return f.line>h?bB(h,bL(g,h).text.length):fc(f,bL(g,f.line).text.length)}function fc(g,f){var h=g.ch;return null==h||h>f?bB(g.line,f):0>h?bB(g.line,0):g}function aX(g,f){return f>=g.first&&f<g.first+g.size}function h2(h,f){for(var i=[],g=0;g<f.length;g++){i[g]=dG(h,f[g])}return i}function ap(j,g,l,h){if(j.cm&&j.cm.display.shift||j.extend){var f=g.anchor;if(h){var k=ak(l,f)<0;k!=ak(h,f)<0?(f=l,l=h):k!=ak(l,h)<0&&(l=h)}return new fw(f,l)}return new fw(h||l,l)}function hl(h,f,i,g){dJ(h,new bc([ap(h,h.sel.primary(),f,i)],0),g)}function aJ(j,g,l){for(var h=[],f=0;f<j.sel.ranges.length;f++){h[f]=ap(j,j.sel.ranges[f],g[f],null)}var k=eX(h,j.sel.primIndex);dJ(j,k,l)}function d9(j,g,k,h){var f=j.sel.ranges.slice(0);f[g]=k,dJ(j,eX(f,j.sel.primIndex),h)}function dY(h,f,i,g){dJ(h,fY(f,i),g)}function bl(h,f,i){var g={ranges:f.ranges,update:function(j){this.ranges=[];for(var k=0;k<j.length;k++){this.ranges[k]=new fw(dG(h,j[k].anchor),dG(h,j[k].head))}},origin:i&&i.origin};return eN(h,"beforeSelectionChange",h,g),h.cm&&eN(h.cm,"beforeSelectionChange",h.cm,g),g.ranges!=f.ranges?eX(g.ranges,g.ranges.length-1):f}function fO(j,g,k){var h=j.history.done,f=hu(h);f&&f.ranges?(h[h.length-1]=g,fz(j,g,k)):dJ(j,g,k)}function dJ(g,f,h){fz(g,f,h),fs(g,g.sel,g.cm?g.cm.curOp.id:NaN,h)}function fz(h,f,i){(ff(h,"beforeSelectionChange")||h.cm&&ff(h.cm,"beforeSelectionChange"))&&(f=bl(h,f,i));var g=i&&i.bias||(ak(f.primary().head,h.sel.primary().head)<0?-1:1);fg(h,aQ(h,f,g,!0)),i&&i.scroll===!1||!h.cm||bC(h.cm)}function fg(g,f){f.equals(g.sel)||(g.sel=f,g.cm&&(g.cm.curOp.updateInput=g.cm.curOp.selectionChanged=!0,fy(g.cm)),bk(g,"cursorActivity",g))}function bZ(f){fg(f,aQ(f,f.sel,null,!1),cO)}function aQ(m,u,h,f){for(var k,g=0;g<u.ranges.length;g++){var q=u.ranges[g],j=u.ranges.length==m.sel.ranges.length&&m.sel.ranges[g],v=hy(m,q.anchor,j&&j.anchor,h,f),p=hy(m,q.head,j&&j.head,h,f);(k||v!=q.anchor||p!=q.head)&&(k||(k=u.ranges.slice(0,g)),k[g]=new fw(v,p))}return k?eX(k,u.primIndex):u}function e0(q,y,j,g,m){var h=bL(q,y.line);if(h.markedSpans){for(var w=0;w<h.markedSpans.length;++w){var k=h.markedSpans[w],z=k.marker;if((null==k.from||(z.inclusiveLeft?k.from<=y.ch:k.from<y.ch))&&(null==k.to||(z.inclusiveRight?k.to>=y.ch:k.to>y.ch))){if(m&&(eN(z,"beforeCursorEnter"),z.explicitlyCleared)){if(h.markedSpans){--w;continue}break}if(!z.atomic){continue}if(j){var v,x=z.find(0>g?1:-1);if((0>g?z.inclusiveRight:z.inclusiveLeft)&&(x=eM(q,x,-g,x&&x.line==y.line?h:null)),x&&x.line==y.line&&(v=ak(x,j))&&(0>g?0>v:v>0)){return e0(q,x,y,g,m)}}var p=z.find(0>g?-1:1);return(0>g?z.inclusiveLeft:z.inclusiveRight)&&(p=eM(q,p,g,p.line==y.line?h:null)),p?e0(q,p,y,g,m):null}}}return y}function hy(k,h,m,j,g){var l=j||1,f=e0(k,h,m,l,g)||!g&&e0(k,h,m,l,!0)||e0(k,h,m,-l,g)||!g&&e0(k,h,m,-l,!0);return f?f:(k.cantEdit=!0,bB(k.first,0))}function eM(h,f,i,g){return 0>i&&0==f.ch?f.line>h.first?dG(h,bB(f.line-1)):null:i>0&&f.ch==(g||bL(h,f.line)).text.length?f.line<h.first+h.size-1?bB(f.line+1,0):null:new bB(f.line,f.ch+i)}function ed(f){f.display.input.showSelection(f.display.input.prepareSelection())}function a4(m,q){for(var h=m.doc,f={},k=f.cursors=document.createDocumentFragment(),g=f.selection=document.createDocumentFragment(),p=0;p<h.sel.ranges.length;p++){if(q!==!1||p!=h.sel.primIndex){var j=h.sel.ranges[p];if(!(j.from().line>=m.display.viewTo||j.to().line<m.display.viewFrom)){var u=j.empty();(u||m.options.showCursorWhenSelecting)&&hV(m,j.head,k),u||cN(m,j,g)}}}return f}function hV(j,g,l){var h=fQ(j,g,"div",null,null,!j.options.singleCursorHeightPerLine),f=l.appendChild(eq("div"," ","CodeMirror-cursor"));if(f.style.left=h.left+"px",f.style.top=h.top+"px",f.style.height=Math.max(0,h.bottom-h.top)*j.options.cursorHeight+"px",h.other){var k=l.appendChild(eq("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));k.style.display="",k.style.left=h.other.left+"px",k.style.top=h.other.top+"px",k.style.height=0.85*(h.other.bottom-h.other.top)+"px"}}function cN(H,q,A){function x(h,f,i,g){0>f&&(f=0),f=Math.round(f),g=Math.round(g),C.appendChild(eq("div",null,"CodeMirror-selected","position: absolute; left: "+h+"px; top: "+f+"px; width: "+(null==i?k-h:i)+"px; height: "+(g-f)+"px"))}function D(p,M,m){function L(h,f){return eO(H,bB(p,h),"div",v,f)}var g,u,v=bL(K,p),r=v.text.length;return fD(eG(v),M||0,null==m?r:m,function(N,l,i){var o,O,s,h=L(N,"left");if(N==l){o=h,O=s=h.left}else{if(o=L(l-1,"right"),"rtl"==i){var n=h;h=o,o=n}O=h.left,s=o.right}null==M&&0==N&&(O=J),o.top-h.top>3&&(x(O,h.top,null,h.bottom),O=J,h.bottom<o.top&&x(O,h.bottom,null,o.top)),null==m&&l==r&&(s=k),(!g||h.top<g.top||h.top==g.top&&h.left<g.left)&&(g=h),(!u||o.bottom>u.bottom||o.bottom==u.bottom&&o.right>u.right)&&(u=o),J+1>O&&(O=J),x(O,o.top,s-O,o.bottom)}),{start:g,end:u}}var z=H.display,K=H.doc,C=document.createDocumentFragment(),w=h9(H.display),J=w.left,k=Math.max(z.sizerWidth,dg(H)-z.sizer.offsetLeft)-w.right,G=q.from(),E=q.to();if(G.line==E.line){D(G.line,G.ch,E.ch)}else{var I=bL(K,G.line),y=bL(K,E.line),B=hX(I)==hX(y),F=D(G.line,G.ch,B?I.text.length+1:null).end,j=D(E.line,B?0:null,E.ch).start;B&&(F.top<j.top-2?(x(F.right,F.top,null,F.bottom),x(J,j.top,j.left,j.bottom)):x(F.right,F.top,j.left-F.right,F.bottom)),F.bottom<j.top&&x(J,F.bottom,null,j.top)}A.appendChild(C)}function bE(g){if(g.state.focused){var f=g.display;clearInterval(f.blinker);var h=!0;f.cursorDiv.style.visibility="",g.options.cursorBlinkRate>0?f.blinker=setInterval(function(){f.cursorDiv.style.visibility=(h=!h)?"":"hidden"},g.options.cursorBlinkRate):g.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function az(g,f){g.doc.mode.startState&&g.doc.frontier<g.display.viewTo&&g.state.highlight.set(f,bD(aC,g))}function aC(j){var g=j.doc;if(g.frontier<g.first&&(g.frontier=g.first),!(g.frontier>=j.display.viewTo)){var k=+new Date+j.options.workTime,h=bS(g.mode,ev(j,g.frontier)),f=[];g.iter(g.frontier,Math.min(g.first+g.size,j.display.viewTo+500),function(t){if(g.frontier>=j.display.viewFrom){var m=t.styles,i=t.text.length>j.options.maxHighlightLength,q=d5(j,t,i?bS(g.mode,h):h,!0);t.styles=q.styles;var v=t.styleClasses,n=q.classes;n?t.styleClasses=n:v&&(t.styleClasses=null);for(var r=!m||m.length!=t.styles.length||v!=n&&(!v||!n||v.bgClass!=n.bgClass||v.textClass!=n.textClass),p=0;!r&&p<m.length;++p){r=m[p]!=t.styles[p]}r&&f.push(g.frontier),t.stateAfter=i?h:bS(g.mode,h)}else{t.text.length<=j.options.maxHighlightLength&&hM(j,t.text,h),t.stateAfter=g.frontier%5==0?bS(g.mode,h):null}return ++g.frontier,+new Date>k?(az(j,j.options.workDelay),!0):void 0}),f.length&&bQ(j,function(){for(var i=0;i<f.length;i++){hL(j,f[i],"text")}})}}function hJ(m,u,h){for(var f,k,g=m.doc,q=h?-1:u-(m.doc.mode.innerMode?1000:100),j=u;j>q;--j){if(j<=g.first){return g.first}var v=bL(g,j-1);if(v.stateAfter&&(!h||j<=g.frontier)){return j}var p=aF(v.text,null,m.options.tabSize);(null==k||f>p)&&(k=j-1,f=p)}return k}function ev(k,h,m){var j=k.doc,g=k.display;if(!j.mode.startState){return !0}var l=hJ(k,h,m),f=l>j.first&&bL(j,l-1).stateAfter;return f=f?bS(j.mode,f):gI(j.mode),j.iter(l,h,function(o){hM(k,o.text,f);var i=l==h-1||l%5==0||l>=g.viewFrom&&l<g.viewTo;o.stateAfter=i?bS(j.mode,f):null,++l}),m&&(j.frontier=l),f}function dv(f){return f.lineSpace.offsetTop}function cw(f){return f.mover.offsetHeight-f.lineSpace.offsetHeight}function h9(h){if(h.cachedPaddingH){return h.cachedPaddingH}var f=cs(h.measure,eq("pre","x")),i=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,g={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(g.left)||isNaN(g.right)||(h.cachedPaddingH=g),g}function cg(f){return a7-f.display.nativeBarWidth}function dg(f){return f.display.scroller.clientWidth-cg(f)-f.display.barWidth}function c2(f){return f.display.scroller.clientHeight-cg(f)-f.display.barHeight}function f1(m,u,h){var f=m.options.lineWrapping,k=f&&dg(m);if(!u.measure.heights||f&&u.measure.width!=k){var g=u.measure.heights=[];if(f){u.measure.width=k;for(var q=u.text.firstChild.getClientRects(),j=0;j<q.length-1;j++){var v=q[j],p=q[j+1];Math.abs(v.bottom-p.bottom)>2&&g.push((v.bottom+p.top)/2-h.top)}}g.push(h.bottom-h.top)}}function cz(h,f,i){if(h.line==f){return{map:h.measure.map,cache:h.measure.cache}}for(var g=0;g<h.rest.length;g++){if(h.rest[g]==f){return{map:h.measure.maps[g],cache:h.measure.caches[g]}}}for(var g=0;g<h.rest.length;g++){if(bw(h.rest[g])>i){return{map:h.measure.maps[g],cache:h.measure.caches[g],before:!0}}}}function bW(j,g){g=hX(g);var k=bw(g),h=j.display.externalMeasured=new eE(j.doc,g,k);h.lineN=k;var f=h.built=bz(j,h);return h.text=f.pre,cs(j.display.lineMeasure,f.pre),h}function gN(h,f,i,g){return bm(h,fB(h,f),i,g)}function ey(g,f){if(f>=g.display.viewFrom&&f<g.display.viewTo){return g.display.view[by(g,f)]}var h=g.display.externalMeasured;return h&&f>=h.lineN&&f<h.lineN+h.size?h:void 0}function fB(j,g){var k=bw(g),h=ey(j,k);h&&!h.text?h=null:h&&h.changes&&(hq(j,h,k,g2(j)),j.curOp.forceUpdate=!0),h||(h=bW(j,g));var f=cz(h,g,k);return{line:g,view:h,rect:null,map:f.map,cache:f.cache,before:f.before,hasHeights:!1}}function bm(k,h,m,j,g){h.before&&(m=-1);var l,f=m+(j||"");return h.cache.hasOwnProperty(f)?l=h.cache[f]:(h.rect||(h.rect=h.view.text.getBoundingClientRect()),h.hasHeights||(f1(k,h.view,h.rect),h.hasHeights=!0),l=b0(k,h,m,j),l.bogus||(h.cache[f]=l)),{left:l.left,right:l.right,top:g?l.rtop:l.top,bottom:g?l.rbottom:l.bottom}}function c8(m,u,h){for(var f,k,g,q,j=0;j<m.length;j+=3){var v=m[j],p=m[j+1];if(v>u?(k=0,g=1,q="left"):p>u?(k=u-v,g=k+1):(j==m.length-3||u==p&&m[j+3]>u)&&(g=p-v,k=g-1,u>=p&&(q="right")),null!=k){if(f=m[j+2],v==p&&h==(f.insertLeft?"left":"right")&&(q=h),"left"==h&&0==k){for(;j&&m[j-2]==m[j-3]&&m[j-1].insertLeft;){f=m[(j-=3)+2],q="left"}}if("right"==h&&k==p-v){for(;j<m.length-3&&m[j+3]==m[j+4]&&!m[j+5].insertLeft;){f=m[(j+=3)+2],q="right"}}break}}return{node:f,start:k,end:g,collapse:q,coverStart:v,coverEnd:p}}function b0(L,z,E,B){var H,D=c8(z.map,E,B),O=D.node,G=D.start,A=D.end,N=D.collapse;if(3==O.nodeType){for(var w=0;4>w;w++){for(;G&&hG(z.line.text.charAt(D.coverStart+G));){--G}for(;D.coverStart+A<D.coverEnd&&hG(z.line.text.charAt(D.coverStart+A));){++A}if(ad&&9>g0&&0==G&&A==D.coverEnd-D.coverStart){H=O.parentNode.getBoundingClientRect()}else{if(ad&&L.options.lineWrapping){var K=cx(O,G,A).getClientRects();H=K.length?K["right"==B?K.length-1:0]:cl}else{H=cx(O,G,A).getBoundingClientRect()||cl}}if(H.left||H.right||0==G){break}A=G,G-=1,N="right"}ad&&11>g0&&(H=eA(L.display.measure,H))}else{G>0&&(N=B="right");var K;H=L.options.lineWrapping&&(K=O.getClientRects()).length>1?K["right"==B?K.length-1:0]:O.getBoundingClientRect()}if(ad&&9>g0&&!G&&(!H||!H.left&&!H.right)){var I=O.parentNode.getClientRects()[0];H=I?{left:I.left,right:I.left+ib(L.display),top:I.top,bottom:I.bottom}:cl}for(var M=H.top-z.rect.top,C=H.bottom-z.rect.top,F=(M+C)/2,J=z.view.measure.heights,w=0;w<J.length-1&&!(F<J[w]);w++){}var q=w?J[w-1]:0,j=J[w],k={left:("right"==N?H.right:H.left)-z.rect.left,right:("left"==N?H.left:H.right)-z.rect.left,top:q,bottom:j};return H.left||H.right||(k.bogus=!0),L.options.singleCursorHeightPerLine||(k.rtop=M,k.rbottom=C),k}function eA(h,f){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!ex(h)){return f}var i=screen.logicalXDPI/screen.deviceXDPI,g=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*i,right:f.right*i,top:f.top*g,bottom:f.bottom*g}}function cP(g){if(g.measure&&(g.measure.cache={},g.measure.heights=null,g.rest)){for(var f=0;f<g.rest.length;f++){g.measure.caches[f]={}}}}function hE(g){g.display.externalMeasure=null,du(g.display.lineMeasure);for(var f=0;f<g.display.view.length;f++){cP(g.display.view[f])}}function dL(f){hE(f),f.display.cachedCharWidth=f.display.cachedTextHeight=f.display.cachedPaddingH=null,f.options.lineWrapping||(f.display.maxLineChanged=!0),f.display.lineNumChars=null}function bF(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function f9(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function a5(m,q,h,f){if(q.widgets){for(var k=0;k<q.widgets.length;++k){if(q.widgets[k].above){var g=fH(q.widgets[k]);h.top+=g,h.bottom+=g}}}if("line"==f){return h}f||(f="local");var p=b8(q);if("local"==f?p+=dv(m.display):p-=m.display.viewOffset,"page"==f||"window"==f){var j=m.display.lineSpace.getBoundingClientRect();p+=j.top+("window"==f?0:f9());var u=j.left+("window"==f?0:bF());h.left+=u,h.right+=u}return h.top+=p,h.bottom+=p,h}function fj(k,h,m){if("div"==m){return h}var j=h.left,g=h.top;if("page"==m){j-=bF(),g-=f9()}else{if("local"==m||!m){var l=k.display.sizer.getBoundingClientRect();j+=l.left,g+=l.top}}var f=k.display.lineSpace.getBoundingClientRect();return{left:j-f.left,top:g-f.top}}function eO(j,g,k,h,f){return h||(h=bL(j.doc,g.line)),a5(j,h,gN(j,h,g.ch,f),k)}function fQ(q,y,j,g,m,h){function w(n,i){var f=bm(q,m,n,i?"right":"left",h);return i?f.left=f.right:f.right=f.left,a5(q,g,f,j)}function k(l,f){var o=z[f],i=o.level%2;return l==bs(o)&&f&&o.level<z[f-1].level?(o=z[--f],l=dc(o)-(o.level%2?0:1),i=!0):l==dc(o)&&f<z.length-1&&o.level<z[f+1].level&&(o=z[++f],l=bs(o)-o.level%2,i=!1),i&&l==o.to&&l>o.from?w(l-1):w(l,i)}g=g||bL(q.doc,y.line),m||(m=fB(q,g));var z=eG(g),v=y.ch;if(!z){return w(v)}var x=gh(z,v),p=k(v,x);return null!=hK&&(p.other=k(v,hK)),p}function cB(j,g){var k=0,g=dG(j.doc,g);j.options.lineWrapping||(k=ib(j.display)*g.ch);var h=bL(j.doc,g.line),f=b8(h)+dv(j.display);return{left:k,right:k,top:f,bottom:f+h.height}}function dx(j,g,k,h){var f=bB(j,g);return f.xRel=h,k&&(f.outside=!0),f}function e2(m,u,h){var f=m.doc;if(h+=m.display.viewOffset,0>h){return dx(f.first,0,!0,-1)}var k=dk(f,h),g=f.first+f.size-1;if(k>g){return dx(f.first+f.size-1,bL(f,g).text.length,!0,1)}0>u&&(u=0);for(var q=bL(f,k);;){var j=aR(m,q,k,u,h),v=e3(q),p=v&&v.find(0,!0);if(!v||!(j.ch>p.from.ch||j.ch==p.from.ch&&j.xRel>0)){return j}k=bw(q=p.to.line)}}function aR(T,E,K,H,O){function J(g){var f=fQ(T,bB(K,g),"line",E,V);return M=!0,X>f.bottom?f.left-F:X<f.top?f.left+F:(M=!1,f.left)}var X=O-b8(E),M=!1,F=2*T.display.wrapper.clientWidth,V=fB(T,E),D=eG(E),R=E.text.length,P=b3(E),U=eC(E),I=J(P),L=M,Q=J(U),B=M;if(H>Q){return dx(K,U,B,1)}for(;;){if(D?U==P||U==fl(E,P,1):1>=U-P){for(var q=I>H||Q-H>=H-I?P:U,z=H-(q==P?I:Q);hG(E.text.charAt(q));){++q}var W=dx(K,q,q==P?L:B,-1>z?-1:z>1?1:0);return W}var A=Math.ceil(R/2),N=P+A;if(D){N=P;for(var j=0;A>j;++j){N=fl(E,N,1)}}var G=J(N);G>H?(U=N,Q=G,(B=M)&&(Q+=1000),R=A):(P=N,I=G,L=M,R-=A)}}function hW(g){if(null!=g.cachedTextHeight){return g.cachedTextHeight}if(null==hC){hC=eq("pre");for(var f=0;49>f;++f){hC.appendChild(document.createTextNode("x")),hC.appendChild(eq("br"))}hC.appendChild(document.createTextNode("x"))}cs(g.measure,hC);var h=hC.offsetHeight/50;return h>3&&(g.cachedTextHeight=h),du(g.measure),h||1}function ib(j){if(null!=j.cachedCharWidth){return j.cachedCharWidth}var g=eq("span","xxxxxxxxxx"),k=eq("pre",[g]);cs(j.measure,k);var h=g.getBoundingClientRect(),f=(h.right-h.left)/10;return f>2&&(j.cachedCharWidth=f),f||10}function gU(f){f.curOp={cm:f,viewChanged:!1,startHeight:f.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++b9},h6?h6.ops.push(f.curOp):f.curOp.ownsGroup=h6={ops:[f.curOp],delayedCallbacks:[]}}function aD(j){var g=j.delayedCallbacks,k=0;do{for(;k<g.length;k++){g[k].call(null)}for(var h=0;h<j.ops.length;h++){var f=j.ops[h];if(f.cursorActivityHandlers){for(;f.cursorActivityCalled<f.cursorActivityHandlers.length;){f.cursorActivityHandlers[f.cursorActivityCalled++].call(null,f.cm)}}}}while(k<g.length)}function d0(h){var f=h.curOp,i=f.ownsGroup;if(i){try{aD(i)}finally{h6=null;for(var g=0;g<i.ops.length;g++){i.ops[g].cm.curOp=null}dQ(i)}}}function dQ(g){for(var f=g.ops,h=0;h<f.length;h++){bd(f[h])}for(var h=0;h<f.length;h++){fG(f[h])}for(var h=0;h<f.length;h++){dB(f[h])}for(var h=0;h<f.length;h++){fp(f[h])}for(var h=0;h<f.length;h++){e6(f[h])}}function bd(g){var f=g.cm,h=f.display;gW(f),g.updateMaxLine&&gA(f),g.mustUpdate=g.viewChanged||g.forceUpdate||null!=g.scrollTop||g.scrollToPos&&(g.scrollToPos.from.line<h.viewFrom||g.scrollToPos.to.line>=h.viewTo)||h.maxLineChanged&&f.options.lineWrapping,g.update=g.mustUpdate&&new g8(f,g.mustUpdate&&{top:g.scrollTop,ensure:g.scrollToPos},g.forceUpdate)}function fG(f){f.updatedDisplay=f.mustUpdate&&g7(f.cm,f.update)}function dB(g){var f=g.cm,h=f.display;g.updatedDisplay&&g4(f),g.barMeasure=gj(f),h.maxLineChanged&&!f.options.lineWrapping&&(g.adjustWidthTo=gN(f,h.maxLine,h.maxLine.text.length).left+3,f.display.sizerWidth=g.adjustWidthTo,g.barMeasure.scrollWidth=Math.max(h.scroller.clientWidth,h.sizer.offsetLeft+g.adjustWidthTo+cg(f)+f.display.barWidth),g.maxScrollLeft=Math.max(0,h.sizer.offsetLeft+g.adjustWidthTo-dg(f))),(g.updatedDisplay||g.selectionChanged)&&(g.preparedSelection=h.input.prepareSelection(g.focus))}function fp(g){var f=g.cm;null!=g.adjustWidthTo&&(f.display.sizer.style.minWidth=g.adjustWidthTo+"px",g.maxScrollLeft<f.doc.scrollLeft&&cS(f,Math.min(f.display.scroller.scrollLeft,g.maxScrollLeft),!0),f.display.maxLineChanged=!1);var h=g.focus&&g.focus==h8()&&(!document.hasFocus||document.hasFocus());g.preparedSelection&&f.display.input.showSelection(g.preparedSelection,h),(g.updatedDisplay||g.startHeight!=f.doc.height)&&f4(f,g.barMeasure),g.updatedDisplay&&hp(f,g.barMeasure),g.selectionChanged&&bE(f),f.state.focused&&g.updateInput&&f.display.input.reset(g.typing),h&&gR(g.cm)}function e6(m){var j=m.cm,q=j.display,k=j.doc;if(m.updatedDisplay&&g5(j,m.update),null==q.wheelStartX||null==m.scrollTop&&null==m.scrollLeft&&!m.scrollToPos||(q.wheelStartX=q.wheelStartY=null),null==m.scrollTop||q.scroller.scrollTop==m.scrollTop&&!m.forceScroll||(k.scrollTop=Math.max(0,Math.min(q.scroller.scrollHeight-q.scroller.clientHeight,m.scrollTop)),q.scrollbars.setScrollTop(k.scrollTop),q.scroller.scrollTop=k.scrollTop),null==m.scrollLeft||q.scroller.scrollLeft==m.scrollLeft&&!m.forceScroll||(k.scrollLeft=Math.max(0,Math.min(q.scroller.scrollWidth-q.scroller.clientWidth,m.scrollLeft)),q.scrollbars.setScrollLeft(k.scrollLeft),q.scroller.scrollLeft=k.scrollLeft,f6(j)),m.scrollToPos){var h=d8(j,dG(k,m.scrollToPos.from),dG(k,m.scrollToPos.to),m.scrollToPos.margin);m.scrollToPos.isCursor&&j.state.focused&&eI(j,h)}var p=m.maybeHiddenMarkers,g=m.maybeUnhiddenMarkers;if(p){for(var f=0;f<p.length;++f){p[f].lines.length||eN(p[f],"hide")}}if(g){for(var f=0;f<g.length;++f){g[f].lines.length&&eN(g[f],"unhide")}}q.wrapper.offsetHeight&&(k.scrollTop=j.display.scroller.scrollTop),m.changeObjs&&eN(j,"changes",j,m.changeObjs),m.update&&m.update.finish()}function bQ(g,f){if(g.curOp){return f()}gU(g);try{return f()}finally{d0(g)}}function aK(g,f){return function(){if(g.curOp){return f.apply(g,arguments)}gU(g);try{return f.apply(g,arguments)}finally{d0(g)}}}function eS(f){return function(){if(this.curOp){return f.apply(this,arguments)}gU(this);try{return f.apply(this,arguments)}finally{d0(this)}}}function g6(f){return function(){var g=this.cm;if(!g||g.curOp){return f.apply(this,arguments)}gU(g);try{return f.apply(this,arguments)}finally{d0(g)}}}function eE(g,f,h){this.line=f,this.rest=ab(f),this.size=this.rest?bw(hu(this.rest))-h+1:1,this.node=this.text=null,this.hidden=d1(g,f)}function d4(k,h,m){for(var j,g=[],l=h;m>l;l=j){var f=new eE(k.doc,bL(k.doc,l),l);j=l+f.size,g.push(f)}return g}function aY(m,q,h,f){null==q&&(q=m.doc.first),null==h&&(h=m.doc.first+m.doc.size),f||(f=0);var k=m.display;if(f&&h<k.viewTo&&(null==k.updateLineNumbers||k.updateLineNumbers>q)&&(k.updateLineNumbers=q),m.curOp.viewChanged=!0,q>=k.viewTo){cI&&gX(m.doc,q)<k.viewTo&&cF(m)}else{if(h<=k.viewFrom){cI&&aE(m.doc,h+f)>k.viewFrom?cF(m):(k.viewFrom+=f,k.viewTo+=f)}else{if(q<=k.viewFrom&&h>=k.viewTo){cF(m)}else{if(q<=k.viewFrom){var g=ag(m,h,h+f,1);g?(k.view=k.view.slice(g.index),k.viewFrom=g.lineN,k.viewTo+=f):cF(m)}else{if(h>=k.viewTo){var g=ag(m,q,q,-1);g?(k.view=k.view.slice(0,g.index),k.viewTo=g.lineN):cF(m)}else{var p=ag(m,q,q,-1),j=ag(m,h,h+f,1);p&&j?(k.view=k.view.slice(0,p.index).concat(d4(m,p.lineN,j.lineN)).concat(k.view.slice(j.index)),k.viewTo+=f):cF(m)}}}}}var u=k.externalMeasured;u&&(h<u.lineN?u.lineN+=f:q<u.lineN+u.size&&(k.externalMeasured=null))}function hL(k,h,m){k.curOp.viewChanged=!0;var j=k.display,g=k.display.externalMeasured;if(g&&h>=g.lineN&&h<g.lineN+g.size&&(j.externalMeasured=null),!(h<j.viewFrom||h>=j.viewTo)){var l=j.view[by(k,h)];if(null!=l.node){var f=l.changes||(l.changes=[]);-1==eL(f,m)&&f.push(m)}}}function cF(f){f.display.viewFrom=f.display.viewTo=f.doc.first,f.display.view=[],f.display.viewOffset=0}function by(h,f){if(f>=h.display.viewTo){return null}if(f-=h.display.viewFrom,0>f){return null}for(var i=h.display.view,g=0;g<i.length;g++){if(f-=i[g].size,0>f){return g}}}function ag(m,q,h,f){var k,g=by(m,q),p=m.display.view;if(!cI||h==m.doc.first+m.doc.size){return{index:g,lineN:h}}for(var j=0,u=m.display.viewFrom;g>j;j++){u+=p[j].size}if(u!=q){if(f>0){if(g==p.length-1){return null}k=u+p[g].size-q,g++}else{k=u-q}q+=k,h+=k}for(;gX(m.doc,h)!=h;){if(g==(0>f?0:p.length-1)){return null}h+=f*p[g-(0>f?1:0)].size,g+=f}return{index:g,lineN:h}}function aq(j,g,k){var h=j.display,f=h.view;0==f.length||g>=h.viewTo||k<=h.viewFrom?(h.view=d4(j,g,k),h.viewFrom=g):(h.viewFrom>g?h.view=d4(j,g,h.viewFrom).concat(h.view):h.viewFrom<g&&(h.view=h.view.slice(by(j,g))),h.viewFrom=g,h.viewTo<k?h.view=h.view.concat(d4(j,h.viewTo,k)):h.viewTo>k&&(h.view=h.view.slice(0,by(j,k)))),h.viewTo=k}function hz(j){for(var g=j.display.view,k=0,h=0;h<g.length;h++){var f=g[h];f.hidden||f.node&&!f.changes||++k}return k}function eg(m){function j(){h.activeTouch&&(p=setTimeout(function(){h.activeTouch=null},1000),g=h.activeTouch,g.end=+new Date)}function q(l){if(1!=l.touches.length){return !1}var i=l.touches[0];return i.radiusX<=1&&i.radiusY<=1}function k(o,i){if(null==i.left){return !0}var s=i.left-o.left,l=i.top-o.top;return s*s+l*l>400}var h=m.display;aT(h.scroller,"mousedown",aK(m,c3)),ad&&11>g0?aT(h.scroller,"dblclick",aK(m,function(i){if(!dI(m,i)){var o=b6(m,i);if(o&&!gq(m,i)&&!h3(m.display,i)){fA(i);var l=m.findWordAt(o);hl(m.doc,l.anchor,l.head)}}})):aT(h.scroller,"dblclick",function(i){dI(m,i)||fA(i)}),a1||aT(h.scroller,"contextmenu",function(i){af(m,i)});var p,g={end:0};aT(h.scroller,"touchstart",function(i){if(!dI(m,i)&&!q(i)){clearTimeout(p);var l=+new Date;h.activeTouch={start:l,moved:!1,prev:l-g.end<=300?g:null},1==i.touches.length&&(h.activeTouch.left=i.touches[0].pageX,h.activeTouch.top=i.touches[0].pageY)}}),aT(h.scroller,"touchmove",function(){h.activeTouch&&(h.activeTouch.moved=!0)}),aT(h.scroller,"touchend",function(t){var s=h.activeTouch;if(s&&!h3(h,t)&&null!=s.left&&!s.moved&&new Date-s.start<300){var r,i=m.coordsChar(h.activeTouch,"page");r=!s.prev||k(s,s.prev)?new fw(i,i):!s.prev.prev||k(s,s.prev.prev)?m.findWordAt(i):new fw(bB(i.line,0),dG(m.doc,bB(i.line+1,0))),m.setSelection(r.anchor,r.head),m.focus(),fA(t)}j()}),aT(h.scroller,"touchcancel",j),aT(h.scroller,"scroll",function(){h.scroller.clientHeight&&(b4(m,h.scroller.scrollTop),cS(m,h.scroller.scrollLeft,!0),eN(m,"scroll",m))}),aT(h.scroller,"mousewheel",function(i){hI(m,i)}),aT(h.scroller,"DOMMouseScroll",function(i){hI(m,i)}),aT(h.wrapper,"scroll",function(){h.wrapper.scrollTop=h.wrapper.scrollLeft=0}),h.dragFunctions={enter:function(i){dI(m,i)||b2(i)},over:function(i){dI(m,i)||(bu(m,i),b2(i))},start:function(i){fE(m,i)},drop:aK(m,em),leave:function(i){dI(m,i)||dd(m)}};var f=h.input.getField();aT(f,"keyup",function(i){cE.call(m,i)}),aT(f,"keydown",aK(m,eR)),aT(f,"keypress",aK(m,dA)),aT(f,"focus",bD(aV,m)),aT(f,"blur",bD(h0,m))}function dh(h,l,j){var g=j&&j!=gF.Init;if(!l!=!g){var k=h.display.dragFunctions,f=l?aT:hB;f(h.display.scroller,"dragstart",k.start),f(h.display.scroller,"dragenter",k.enter),f(h.display.scroller,"dragover",k.over),f(h.display.scroller,"dragleave",k.leave),f(h.display.scroller,"drop",k.drop)}}function cj(g){var f=g.display;f.lastWrapHeight==f.wrapper.clientHeight&&f.lastWrapWidth==f.wrapper.clientWidth||(f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,g.setSize())}function h3(g,f){for(var h=aI(f);h!=g.wrapper;h=h.parentNode){if(!h||1==h.nodeType&&"true"==h.getAttribute("cm-ignore-events")||h.parentNode==g.sizer&&h!=g.mover){return !0}}}function b6(m,w,h,f){var k=m.display;if(!h&&"true"==aI(w).getAttribute("cm-not-content")){return null}var g,q,j=k.lineSpace.getBoundingClientRect();try{g=w.clientX-j.left,q=w.clientY-j.top}catch(w){return null}var x,p=e2(m,g,q);if(f&&1==p.xRel&&(x=bL(m.doc,p.line).text).length==p.ch){var v=aF(x,x.length,m.options.tabSize)-x.length;p=bB(p.line,Math.max(0,Math.round((g-h9(m.display).left)/ib(m.display))-v))}return p}function c3(h){var f=this,i=f.display;if(!(dI(f,h)||i.activeTouch&&i.input.supportsTouch())){if(i.shift=h.shiftKey,h3(i,h)){return void (aG||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100)))}if(!gq(f,h)){var g=b6(f,h);switch(window.focus(),d6(h)){case 1:f.state.selectingText?f.state.selectingText(h):g?cU(f,h,g):aI(h)==i.scroller&&fA(h);break;case 2:aG&&(f.state.lastMiddleDown=+new Date),g&&hl(f.doc,g),setTimeout(function(){i.input.focus()},20),fA(h);break;case 3:a1?af(f,h):e5(f)}}}}function cU(m,j,q){ad?setTimeout(bD(gR,m),0):m.curOp.focus=h8();var k,h=+new Date;dm&&dm.time>h-400&&0==ak(dm.pos,q)?k="triple":ej&&ej.time>h-400&&0==ak(ej.pos,q)?(k="double",dm={time:h,pos:q}):(k="single",ej={time:h,pos:q});var p,g=m.doc.sel,f=aN?j.metaKey:j.ctrlKey;m.options.dragDrop&&fF&&!m.isReadOnly()&&"single"==k&&(p=g.contains(q))>-1&&(ak((p=g.ranges[p]).from(),q)<0||q.xRel>0)&&(ak(p.to(),q)>0||q.xRel<0)?fT(m,j,q,f):cp(m,j,q,k,f)}function fT(k,h,m,j){var g=k.display,l=+new Date,f=aK(k,function(i){aG&&(g.scroller.draggable=!1),k.state.draggingText=!1,hB(document,"mouseup",f),hB(g.scroller,"drop",f),Math.abs(h.clientX-i.clientX)+Math.abs(h.clientY-i.clientY)<10&&(fA(i),!j&&+new Date-200<l&&hl(k.doc,m),aG||ad&&9==g0?setTimeout(function(){document.body.focus(),g.input.focus()},20):g.input.focus())});aG&&(g.scroller.draggable=!0),k.state.draggingText=f,g.scroller.dragDrop&&g.scroller.dragDrop(),aT(document,"mouseup",f),aT(g.scroller,"drop",f)}function cp(N,B,G,D,J){function F(Y){if(0!=ak(L,Y)){if(L=Y,"rect"==D){for(var u=[],g=N.options.tabSize,V=aF(bL(P,G.line).text,G.ch,g),n=aF(bL(P,Y.line).text,Y.ch,g),Z=Math.min(V,n),R=Math.max(V,n),f=Math.min(G.line,Y.line),h=Math.min(N.lastLine(),Math.max(G.line,Y.line));h>=f;f++){var X=bL(P,f).text,T=hN(X,Z,g);Z==R?u.push(new fw(bB(f,T),bB(f,T))):X.length>T&&u.push(new fw(bB(f,T),bB(f,hN(X,R,g))))}u.length||u.push(new fw(G,G)),dJ(P,eX(K.ranges.slice(0,M).concat(u),M),{origin:"*mouse",scroll:!1}),N.scrollIntoView(Y)}else{var U=A,S=U.anchor,W=Y;if("single"!=D){if("double"==D){var r=N.findWordAt(Y)}else{var r=new fw(bB(Y.line,0),dG(P,bB(Y.line+1,0)))}ak(r.anchor,S)>0?(W=r.head,S=hc(U.from(),r.anchor)):(W=r.anchor,S=gT(U.to(),r.head))}var u=K.ranges.slice(0);u[M]=new fw(dG(P,S),W),dJ(P,eX(u,M),bH)}}}function Q(m){var o=++j,h=b6(N,m,!0,"rect"==D);if(h){if(0!=ak(h,L)){N.curOp.focus=h8(),F(h);var f=gK(C,P);(h.line>=f.to||h.line<f.from)&&setTimeout(aK(N,function(){j==o&&Q(m)}),150)}else{var g=m.clientY<z.top?-20:m.clientY>z.bottom?20:0;g&&setTimeout(aK(N,function(){j==o&&(C.scroller.scrollTop+=g,Q(m))}),50)}}}function I(f){N.state.selectingText=!1,j=1/0,fA(f),C.input.focus(),hB(document,"mousemove",k),hB(document,"mouseup",q),P.history.lastSelOrigin=null}var C=N.display,P=N.doc;fA(B);var A,M,K=P.sel,O=K.ranges;if(J&&!B.shiftKey?(M=P.sel.contains(G),A=M>-1?O[M]:new fw(G,G)):(A=P.sel.primary(),M=P.sel.primIndex),eV?B.shiftKey&&B.metaKey:B.altKey){D="rect",J||(A=new fw(G,G)),G=b6(N,B,!0,!0),M=-1}else{if("double"==D){var E=N.findWordAt(G);A=N.display.shift||P.extend?ap(P,A,E.anchor,E.head):E}else{if("triple"==D){var H=new fw(bB(G.line,0),dG(P,bB(G.line+1,0)));A=N.display.shift||P.extend?ap(P,A,H.anchor,H.head):H}else{A=ap(P,A,G)}}}J?-1==M?(M=O.length,dJ(P,eX(O.concat([A]),M),{scroll:!1,origin:"*mouse"})):O.length>1&&O[M].empty()&&"single"==D&&!B.shiftKey?(dJ(P,eX(O.slice(0,M).concat(O.slice(M+1)),0),{scroll:!1,origin:"*mouse"}),K=P.sel):d9(P,M,A,bH):(M=0,dJ(P,new bc([A],0),bH),K=P.sel);var L=G,z=C.wrapper.getBoundingClientRect(),j=0,k=aK(N,function(f){d6(f)?Q(f):I(f)}),q=aK(N,I);N.state.selectingText=q,aT(document,"mousemove",k),aT(document,"mouseup",q)}function bK(q,y,j,g){try{var m=y.clientX,h=y.clientY}catch(y){return !1}if(m>=Math.floor(q.display.gutters.getBoundingClientRect().right)){return !1}g&&fA(y);var w=q.display,k=w.lineDiv.getBoundingClientRect();if(h>k.bottom||!ff(q,j)){return hb(y)}h-=k.top-w.viewOffset;for(var z=0;z<q.options.gutters.length;++z){var v=w.gutters.childNodes[z];if(v&&v.getBoundingClientRect().right>=m){var x=dk(q.doc,h),p=q.options.gutters[z];return eN(q,j,q,x,p,y),hb(y)}}}function gq(g,f){return bK(g,f,"gutterClick",!0)}function em(m){var u=this;if(dd(u),!dI(u,m)&&!h3(u.display,m)){fA(m),ad&&(c6=+new Date);var h=b6(u,m,!0),f=m.dataTransfer.files;if(h&&!u.isReadOnly()){if(f&&f.length&&window.FileReader&&window.File){for(var k=f.length,g=Array(k),q=0,j=function(o,n){if(!u.options.allowDropFileTypes||-1!=eL(u.options.allowDropFileTypes,o.type)){var i=new FileReader;i.onload=aK(u,function(){var r=i.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(r)&&(r=""),g[n]=r,++q==k){h=dG(u.doc,h);var l={from:h,to:h,text:u.doc.splitLines(g.join(u.doc.lineSeparator())),origin:"paste"};dF(u.doc,l),fO(u.doc,fY(h,es(l)))}}),i.readAsText(o)}},v=0;k>v;++v){j(f[v],v)}}else{if(u.state.draggingText&&u.doc.sel.contains(h)>-1){return u.state.draggingText(m),void setTimeout(function(){u.display.input.focus()},20)}try{var g=m.dataTransfer.getData("Text");if(g){if(u.state.draggingText&&!(aN?m.altKey:m.ctrlKey)){var p=u.listSelections()}if(fz(u.doc,fY(h,h)),p){for(var v=0;v<p.length;++v){hj(u.doc,"",p[v].anchor,p[v].head,"drag")}}u.replaceSelection(g,"around","paste"),u.display.input.focus()}}catch(m){}}}}}function fE(g,f){if(ad&&(!g.state.draggingText||+new Date-c6<100)){return void b2(f)}if(!dI(g,f)&&!h3(g.display,f)&&(f.dataTransfer.setData("Text",g.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!fJ)){var h=eq("img",null,null,"position: fixed; left: 0; top: 0;");h.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",bh&&(h.width=h.height=1,g.display.wrapper.appendChild(h),h._top=h.offsetTop),f.dataTransfer.setDragImage(h,0,0),bh&&h.parentNode.removeChild(h)}}function bu(h,f){var i=b6(h,f);if(i){var g=document.createDocumentFragment();hV(h,i,g),h.display.dragCursor||(h.display.dragCursor=eq("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),h.display.lineSpace.insertBefore(h.display.dragCursor,h.display.cursorDiv)),cs(h.display.dragCursor,g)}}function dd(f){f.display.dragCursor&&(f.display.lineSpace.removeChild(f.display.dragCursor),f.display.dragCursor=null)}function b4(g,f){Math.abs(g.doc.scrollTop-f)<2||(g.doc.scrollTop=f,e4||hx(g,{top:f}),g.display.scroller.scrollTop!=f&&(g.display.scroller.scrollTop=f),g.display.scrollbars.setScrollTop(f),e4&&hx(g),az(g,100))}function cS(g,f,h){(h?f==g.doc.scrollLeft:Math.abs(g.doc.scrollLeft-f)<2)||(f=Math.min(f,g.display.scroller.scrollWidth-g.display.scroller.clientWidth),g.doc.scrollLeft=f,f6(g),g.display.scroller.scrollLeft!=f&&(g.display.scroller.scrollLeft=f),g.display.scrollbars.setScrollLeft(f))}function hI(y,D){var m=cu(D),g=m.x,v=m.y,k=y.display,B=k.scroller,q=B.scrollWidth>B.clientWidth,E=B.scrollHeight>B.clientHeight;if(g&&q||v&&E){if(v&&aN&&aG){y:for(var A=D.target,C=k.view;A!=B;A=A.parentNode){for(var x=0;x<C.length;x++){if(C[x].node==A){y.display.currentWheelTarget=A;break y}}}}if(g&&!e4&&!bh&&null!=fW){return v&&E&&b4(y,Math.max(0,Math.min(B.scrollTop+v*fW,B.scrollHeight-B.clientHeight))),cS(y,Math.max(0,Math.min(B.scrollLeft+g*fW,B.scrollWidth-B.clientWidth))),(!v||v&&E)&&fA(D),void (k.wheelStartX=null)}if(v&&null!=fW){var w=v*fW,z=y.doc.scrollTop,j=z+k.wrapper.clientHeight;0>w?z=Math.max(0,z+w-50):j=Math.min(y.doc.height,j+w+50),hx(y,{top:z,bottom:j})}20>cX&&(null==k.wheelStartX?(k.wheelStartX=B.scrollLeft,k.wheelStartY=B.scrollTop,k.wheelDX=g,k.wheelDY=v,setTimeout(function(){if(null!=k.wheelStartX){var h=B.scrollLeft-k.wheelStartX,f=B.scrollTop-k.wheelStartY,i=f&&k.wheelDY&&f/k.wheelDY||h&&k.wheelDX&&h/k.wheelDX;k.wheelStartX=k.wheelStartY=null,i&&(fW=(fW*cX+i)/(cX+1),++cX)}},200)):(k.wheelDX+=g,k.wheelDY+=v))}}function dO(j,g,k){if("string"==typeof g&&(g=bg[g],!g)){return !1}j.display.input.ensurePolled();var h=j.display.shift,f=!1;try{j.isReadOnly()&&(j.state.suppressEdits=!0),k&&(j.display.shift=!1),f=g(j)!=hY}finally{j.display.shift=h,j.state.suppressEdits=!1}return f}function bJ(j,g,k){for(var h=0;h<j.state.keyMaps.length;h++){var f=eY(g,j.state.keyMaps[h],k,j);if(f){return f}}return j.options.extraKeys&&eY(g,j.options.extraKeys,k,j)||eY(g,j.options.keyMap,k,j)}function gl(j,g,l,h){var f=j.state.keySeq;if(f){if(fZ(g)){return"handled"}bN.set(50,function(){j.state.keySeq==f&&(j.state.keySeq=null,j.display.input.reset())}),g=f+" "+g}var k=bJ(j,g,h);return"multi"==k&&(j.state.keySeq=g),"handled"==k&&bk(j,"keyHandled",j,g,l),"handled"!=k&&"multi"!=k||(fA(l),bE(j)),f&&!k&&/\'$/.test(g)?(fA(l),!0):!!k}function a9(g,f){var h=cL(f,!0);return h?f.shiftKey&&!g.state.keySeq?gl(g,"Shift-"+h,f,function(i){return dO(g,i,!0)})||gl(g,h,f,function(i){return("string"==typeof i?/^go[A-Z]/.test(i):i.motion)?dO(g,i):void 0}):gl(g,h,f,function(i){return dO(g,i)}):!1}function fm(g,f,h){return gl(g,"'"+h+"'",f,function(i){return dO(g,i,!0)})}function eR(h){var f=this;if(f.curOp.focus=h8(),!dI(f,h)){ad&&11>g0&&27==h.keyCode&&(h.returnValue=!1);var i=h.keyCode;f.display.shift=16==i||h.shiftKey;var g=a9(f,h);bh&&(gz=g?i:null,!g&&88==i&&!b5&&(aN?h.metaKey:h.ctrlKey)&&f.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)||fS(f)}}function fS(g){function f(i){18!=i.keyCode&&i.altKey||(bX(h,"CodeMirror-crosshair"),hB(document,"keyup",f),hB(document,"mouseover",f))}var h=g.display.lineDiv;gO(h,"CodeMirror-crosshair"),aT(document,"keyup",f),aT(document,"mouseover",f)}function cE(f){16==f.keyCode&&(this.doc.sel.shift=!1),dI(this,f)}function dA(j){var g=this;if(!(h3(g.display,j)||dI(g,j)||j.ctrlKey&&!j.altKey||aN&&j.metaKey)){var k=j.keyCode,h=j.charCode;if(bh&&k==gz){return gz=null,void fA(j)}if(!bh||j.which&&!(j.which<10)||!a9(g,j)){var f=String.fromCharCode(null==h?k:h);fm(g,j,f)||g.display.input.onKeyPress(j)}}}function e5(f){f.state.delayingBlurEvent=!0,setTimeout(function(){f.state.delayingBlurEvent&&(f.state.delayingBlurEvent=!1,h0(f))},100)}function aV(f){f.state.delayingBlurEvent&&(f.state.delayingBlurEvent=!1),"nocursor"!=f.options.readOnly&&(f.state.focused||(eN(f,"focus",f),f.state.focused=!0,gO(f.display.wrapper,"CodeMirror-focused"),f.curOp||f.display.selForContextMenu==f.doc.sel||(f.display.input.reset(),aG&&setTimeout(function(){f.display.input.reset(!0)},20)),f.display.input.receivedFocus()),bE(f))}function h0(f){f.state.delayingBlurEvent||(f.state.focused&&(eN(f,"blur",f),f.state.focused=!1,bX(f.display.wrapper,"CodeMirror-focused")),clearInterval(f.display.blinker),setTimeout(function(){f.state.focused||(f.display.shift=!1)},150))}function af(g,f){h3(g.display,f)||g3(g,f)||dI(g,f,"contextmenu")||g.display.input.onContextMenu(f)}function g3(g,f){return ff(g,"gutterContextMenu")?bK(g,f,"gutterContextMenu",!1):!1}function aH(h,f){if(ak(h,f.from)<0){return h}if(ak(h,f.to)<=0){return es(f)}var i=h.line+f.text.length-(f.to.line-f.from.line)-1,g=h.ch;return h.line==f.to.line&&(g+=es(f).ch-f.to.ch),bB(i,g)}function d3(j,g){for(var k=[],h=0;h<j.sel.ranges.length;h++){var f=j.sel.ranges[h];k.push(new fw(aH(f.anchor,g),aH(f.head,g)))}return eX(k,j.sel.primIndex)}function dU(g,f,h){return g.line==f.line?bB(h.line,g.ch-f.ch+h.ch):bB(h.line+(g.line-f.line),g.ch)}function bj(q,y,j){for(var g=[],m=bB(q.first,0),h=m,w=0;w<y.length;w++){var k=y[w],z=dU(k.from,m,h),v=dU(es(k),m,h);if(m=k.to,h=v,"around"==j){var x=q.sel.ranges[w],p=ak(x.head,x.anchor)<0;g[w]=new fw(p?v:z,p?z:v)}else{g[w]=new fw(z,z)}}return new bc(g,q.sel.primIndex)}function fK(h,f,i){var g={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){this.canceled=!0}};return i&&(g.update=function(k,m,l,j){k&&(this.from=dG(h,k)),m&&(this.to=dG(h,m)),l&&(this.text=l),void 0!==j&&(this.origin=j)}),eN(h,"beforeChange",h,g),h.cm&&eN(h.cm,"beforeChange",h.cm,g),g.canceled?null:{from:g.from,to:g.to,text:g.text,origin:g.origin}}function dF(j,g,k){if(j.cm){if(!j.cm.curOp){return aK(j.cm,dF)(j,g,k)}if(j.cm.state.suppressEdits){return}}if(!(ff(j,"beforeChange")||j.cm&&ff(j.cm,"beforeChange"))||(g=fK(j,g,!0))){var h=hP&&!k&&bG(j,g.from,g.to);if(h){for(var f=h.length-1;f>=0;--f){fv(j,{from:h[f].from,to:h[f].to,text:f?[""]:g.text})}}else{fv(j,g)}}}function fv(h,f){if(1!=f.text.length||""!=f.text[0]||0!=ak(f.from,f.to)){var i=d3(h,f);gx(h,f,i,h.cm?h.cm.curOp.id:NaN),aO(h,f,i,cQ(h,f));var g=[];fU(h,function(j,k){k||-1!=eL(g,j.history)||(aj(j.history,f),g.push(j.history)),aO(j,f,null,cQ(j,f))})}}function fb(w,B,k){if(!w.cm||!w.cm.state.suppressEdits){for(var g,p=w.history,j=w.sel,z="undo"==B?p.done:p.undone,m="undo"==B?p.undone:p.done,C=0;C<z.length&&(g=z[C],k?!g.ranges||g.equals(w.sel):g.ranges);C++){}if(C!=z.length){for(p.lastOrigin=p.lastSelOrigin=null;g=z.pop(),g.ranges;){if(eU(g,m),k&&!g.equals(w.sel)){return void dJ(w,g,{clearRedo:!1})}j=g}var y=[];eU(j,m),m.push({changes:y,generation:p.generation}),p.generation=g.generation||++p.maxGeneration;for(var A=ff(w,"beforeChange")||w.cm&&ff(w.cm,"beforeChange"),C=g.changes.length-1;C>=0;--C){var v=g.changes[C];if(v.origin=B,A&&!fK(w,v,!1)){return void (z.length=0)}y.push(hO(w,v));var q=C?d3(w,v):hu(z);aO(w,v,q,dM(w,v)),!C&&w.cm&&w.cm.scrollIntoView({from:v.from,to:es(v)});var x=[];fU(w,function(h,f){f||-1!=eL(x,h.history)||(aj(h.history,v),x.push(h.history)),aO(h,v,null,dM(h,v))})}}}}function bV(h,f){if(0!=f&&(h.first+=f,h.sel=new bc(ec(h.sel.ranges,function(j){return new fw(bB(j.anchor.line+f,j.anchor.ch),bB(j.head.line+f,j.head.ch))}),h.sel.primIndex),h.cm)){aY(h.cm,h.first,h.first-f,f);for(var i=h.cm.display,g=i.viewFrom;g<i.viewTo;g++){hL(h.cm,g,"gutter")}}}function aO(j,g,l,h){if(j.cm&&!j.cm.curOp){return aK(j.cm,aO)(j,g,l,h)}if(g.to.line<j.first){return void bV(j,g.text.length-1-(g.to.line-g.from.line))}if(!(g.from.line>j.lastLine())){if(g.from.line<j.first){var f=g.text.length-1-(j.first-g.from.line);bV(j,f),g={from:bB(j.first,0),to:bB(g.to.line+f,g.to.ch),text:[hu(g.text)],origin:g.origin}}var k=j.lastLine();g.to.line>k&&(g={from:g.from,to:bB(k,bL(j,k).text.length),text:[g.text[0]],origin:g.origin}),g.removed=gv(j,g.from,g.to),l||(l=d3(j,g)),j.cm?eW(j.cm,g,h):b7(j,g,h),fz(j,l,cO)}}function eW(q,z,j){var f=q.doc,m=q.display,x=z.from,k=z.to,A=!1,w=x.line;q.options.lineWrapping||(w=bw(hX(bL(f,x.line))),f.iter(w,k.line+1,function(h){return h==m.maxLine?(A=!0,!0):void 0})),f.sel.contains(z.from,z.to)>-1&&fy(q),b7(f,z,j,gk(q)),q.options.lineWrapping||(f.iter(w,x.line+z.text.length,function(i){var h=gD(i);h>m.maxLineLength&&(m.maxLine=i,m.maxLineLength=h,m.maxLineChanged=!0,A=!1)}),A&&(q.curOp.updateMaxLine=!0)),f.frontier=Math.min(f.frontier,x.line),az(q,400);var y=z.text.length-(k.line-x.line)-1;z.full?aY(q):x.line!=k.line||1!=z.text.length||h4(q.doc,z)?aY(q,x.line,k.line+1,y):hL(q,x.line,"text");var o=ff(q,"changes"),v=ff(q,"change");if(v||o){var g={from:x,to:k,text:z.text,removed:z.removed,origin:z.origin};v&&bk(q,"change",q,g),o&&(q.curOp.changeObjs||(q.curOp.changeObjs=[])).push(g)}q.display.selForContextMenu=null}function hj(j,g,l,h,f){if(h||(h=l),ak(h,l)<0){var k=h;h=l,l=k}"string"==typeof g&&(g=j.splitLines(g)),dF(j,{from:l,to:h,text:g,origin:f})}function eI(j,g){if(!dI(j,"scrollCursorIntoView")){var l=j.display,h=l.sizer.getBoundingClientRect(),f=null;if(g.top+h.top<0?f=!0:g.bottom+h.top>(window.innerHeight||document.documentElement.clientHeight)&&(f=!1),null!=f&&!fu){var k=eq("div","",null,"position: absolute; top: "+(g.top-l.viewOffset-dv(j.display))+"px; height: "+(g.bottom-g.top+cg(j)+l.barHeight)+"px; left: "+g.left+"px; width: 2px;");j.display.lineSpace.appendChild(k),k.scrollIntoView(f),j.display.lineSpace.removeChild(k)}}}function d8(m,w,h,f){null==f&&(f=0);for(var k=0;5>k;k++){var g=!1,q=fQ(m,w),j=h&&h!=w?fQ(m,h):q,x=hQ(m,Math.min(q.left,j.left),Math.min(q.top,j.top)-f,Math.max(q.left,j.left),Math.max(q.bottom,j.bottom)+f),p=m.doc.scrollTop,v=m.doc.scrollLeft;if(null!=x.scrollTop&&(b4(m,x.scrollTop),Math.abs(m.doc.scrollTop-p)>1&&(g=!0)),null!=x.scrollLeft&&(cS(m,x.scrollLeft),Math.abs(m.doc.scrollLeft-v)>1&&(g=!0)),!g){break}}return q}function a2(j,g,l,h,f){var k=hQ(j,g,l,h,f);null!=k.scrollTop&&b4(j,k.scrollTop),null!=k.scrollLeft&&cS(j,k.scrollLeft)}function hQ(C,H,v,j,y){var q=C.display,F=hW(C.display);0>v&&(v=0);var x=C.curOp&&null!=C.curOp.scrollTop?C.curOp.scrollTop:q.scroller.scrollTop,I=c2(C),E={};y-v>I&&(y=v+I);var G=C.doc.height+cw(q),B=F>v,z=y>G-F;if(x>v){E.scrollTop=B?0:v}else{if(y>x+I){var D=Math.min(v,(z?G:y)-I);D!=x&&(E.scrollTop=D)}}var k=C.curOp&&null!=C.curOp.scrollLeft?C.curOp.scrollLeft:q.scroller.scrollLeft,w=dg(C)-(C.options.fixedGutter?q.gutters.offsetWidth:0),A=j-H>w;return A&&(j=H+w),10>H?E.scrollLeft=0:k>H?E.scrollLeft=Math.max(0,H-(A?0:10)):j>w+k-3&&(E.scrollLeft=j+(A?0:10)-w),E}function cJ(g,f,h){null==f&&null==h||am(g),null!=f&&(g.curOp.scrollLeft=(null==g.curOp.scrollLeft?g.doc.scrollLeft:g.curOp.scrollLeft)+f),null!=h&&(g.curOp.scrollTop=(null==g.curOp.scrollTop?g.doc.scrollTop:g.curOp.scrollTop)+h)}function bC(h){am(h);var f=h.getCursor(),i=f,g=f;h.options.lineWrapping||(i=f.ch?bB(f.line,f.ch-1):f,g=bB(f.line,f.ch+1)),h.curOp.scrollToPos={from:i,to:g,margin:h.options.cursorScrollMargin,isCursor:!0}}function am(j){var g=j.curOp.scrollToPos;if(g){j.curOp.scrollToPos=null;var k=cB(j,g.from),h=cB(j,g.to),f=hQ(j,Math.min(k.left,h.left),Math.min(k.top,h.top)-g.margin,Math.max(k.right,h.right),Math.max(k.bottom,h.bottom)+g.margin);j.scrollTo(f.scrollLeft,f.scrollTop)}}function ay(y,D,m,g){var v,k=y.doc;null==m&&(m="add"),"smart"==m&&(k.mode.indent?v=ev(y,D):m="prev");var B=y.options.tabSize,q=bL(k,D),E=aF(q.text,null,B);q.stateAfter&&(q.stateAfter=null);var A,C=q.text.match(/^\s*/)[0];if(g||/\S/.test(q.text)){if("smart"==m&&(A=k.mode.indent(v,q.text.slice(C.length),q.text),A==hY||A>150)){if(!g){return}m="prev"}}else{A=0,m="not"}"prev"==m?A=D>k.first?aF(bL(k,D-1).text,null,B):0:"add"==m?A=E+y.options.indentUnit:"subtract"==m?A=E-y.options.indentUnit:"number"==typeof m&&(A=E+m),A=Math.max(0,A);var x="",w=0;if(y.options.indentWithTabs){for(var z=Math.floor(A/B);z;--z){w+=B,x+="	"}}if(A>w&&(x+=eZ(A-w)),x!=C){return hj(k,x,bB(D,0),bB(D,C.length),"+input"),q.stateAfter=null,!0}for(var z=0;z<k.sel.ranges.length;z++){var j=k.sel.ranges[z];if(j.head.line==D&&j.head.ch<C.length){var w=bB(D,C.length);d9(k,z,new fw(w,w));break}}}function hD(j,g,l,h){var f=g,k=g;return"number"==typeof g?k=bL(j,cK(j,g)):f=bw(g),null==f?null:(h(k,f)&&j.cm&&hL(j.cm,f,l),k)}function ek(k,h){for(var m=k.doc.sel.ranges,j=[],g=0;g<m.length;g++){for(var l=h(m[g]);j.length&&ak(l.from,hu(j).to)<=0;){var f=j.pop();if(ak(f.from,l.from)<0){l.from=f.from;break}}j.push(l)}bQ(k,function(){for(var i=j.length-1;i>=0;i--){hj(k.doc,"",j[i].from,j[i].to,"+delete")}bC(k)})}function dp(H,q,A,x,D){function z(){var f=C+A;return f<H.first||f>=H.first+H.size?!1:(C=f,k=bL(H,f))}function K(g){var f=(D?fl:eQ)(k,w,A,!0);if(null==f){if(g||!z()){return !1}w=D?(0>A?eC:b3)(k):0>A?k.text.length:0}else{w=f}return !0}var C=q.line,w=q.ch,J=A,k=bL(H,C);if("char"==x){K()}else{if("column"==x){K(!0)}else{if("word"==x||"group"==x){for(var G=null,E="group"==x,I=H.cm&&H.cm.getHelper(q,"wordChars"),y=!0;!(0>A)||K(!y);y=!1){var B=k.text.charAt(w)||"\n",F=aw(B,I)?"w":E&&"\n"==B?"n":!E||/\s/.test(B)?null:"p";if(!E||y||F||(F="s"),G&&G!=F){0>A&&(A=1,K());break}if(F&&(G=F),A>0&&!K(!y)){break}}}}}var j=hy(H,bB(C,w),q,J,!0);return ak(q,j)||(j.hitSide=!0),j}function cm(m,q,h,f){var k,g=m.doc,p=q.left;if("page"==f){var j=Math.min(m.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);k=q.top+h*(j-(0>h?1.5:0.5)*hW(m.display))}else{"line"==f&&(k=h>0?q.bottom+3:q.top-3)}for(;;){var u=e2(m,p,k);if(!u.outside){break}if(0>h?0>=k:k>=g.height){u.hitSide=!0;break}k+=5*h}return u}function h7(g,j,h,f){gF.defaults[g]=j,h&&(bA[g]=f?function(k,i,l){l!=ds&&h(k,i,l)}:h)}function cb(m){for(var j,q,k,h,p=m.split(/-(?!$)/),m=p[p.length-1],g=0;g<p.length-1;g++){var f=p[g];if(/^(cmd|meta|m)$/i.test(f)){h=!0}else{if(/^a(lt)?$/i.test(f)){j=!0}else{if(/^(c|ctrl|control)$/i.test(f)){q=!0}else{if(!/^s(hift)$/i.test(f)){throw new Error("Unrecognized modifier name: "+f)}k=!0}}}}return j&&(m="Alt-"+m),q&&(m="Ctrl-"+m),h&&(m="Cmd-"+m),k&&(m="Shift-"+m),m}function c7(f){return"string"==typeof f?fx[f]:f}function cY(m,w,h,f,k){if(f&&f.shared){return fX(m,w,h,f,k)}if(m.cm&&!m.cm.curOp){return aK(m.cm,cY)(m,w,h,f,k)}var g=new a0(m,k),q=ak(w,h);if(f&&cM(f,g,!1),q>0||0==q&&g.clearWhenEmpty!==!1){return g}if(g.replacedWith&&(g.collapsed=!0,g.widgetNode=eq("span",[g.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||g.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(g.widgetNode.insertLeft=!0)),g.collapsed){if(aS(m,w.line,w,h,g)||w.line!=h.line&&aS(m,h.line,w,h,g)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}cI=!0}g.addToHistory&&gx(m,{from:w,to:h,origin:"markText"},m.sel,NaN);var j,x=w.line,p=m.cm;if(m.iter(x,h.line+1,function(i){p&&g.collapsed&&!p.options.lineWrapping&&hX(i)==p.display.maxLine&&(j=!0),g.collapsed&&x!=w.line&&fI(i,0),c9(i,new eu(g,x==w.line?w.ch:null,x==h.line?h.ch:null)),++x}),g.collapsed&&m.iter(w.line,h.line+1,function(i){d1(m,i)&&fI(i,0)}),g.clearOnEnter&&aT(g,"beforeCursorEnter",function(){g.clear()}),g.readOnly&&(hP=!0,(m.history.done.length||m.history.undone.length)&&m.clearHistory()),g.collapsed&&(g.id=++fd,g.atomic=!0),p){if(j&&(p.curOp.updateMaxLine=!0),g.collapsed){aY(p,w.line,h.line+1)}else{if(g.className||g.title||g.startStyle||g.endStyle||g.css){for(var v=w.line;v<=h.line;v++){hL(p,v,"text")}}}g.atomic&&bZ(p.doc),bk(p,"markerAdded",p,g)}return g}function fX(m,j,q,k,h){k=cM(k),k.shared=!1;var p=[cY(m,j,q,k,h)],g=p[0],f=k.widgetNode;return fU(m,function(l){f&&(k.widgetNode=f.cloneNode(!0)),p.push(cY(l,dG(l,j),dG(l,q),k,h));for(var i=0;i<l.linked.length;++i){if(l.linked[i].isParent){return}}g=hu(p)}),new h5(p,g)}function cv(f){return f.findMarks(bB(f.first,0),f.clipPos(bB(f.lastLine())),function(g){return g.parent})}function bO(m,j){for(var q=0;q<j.length;q++){var k=j[q],h=k.find(),p=m.clipPos(h.from),g=m.clipPos(h.to);if(ak(p,g)){var f=cY(m,p,g,k.primary,k.primary.type);k.markers.push(f),f.parent=k}}}function gC(j){for(var g=0;g<j.length;g++){var l=j[g],h=[l.primary.doc];fU(l.primary.doc,function(i){h.push(i)});for(var f=0;f<l.markers.length;f++){var k=l.markers[f];-1==eL(h,k.doc)&&(k.parent=null,l.markers.splice(f--,1))}}}function eu(g,f,h){this.marker=g,this.from=f,this.to=h}function fC(h,f){if(h){for(var i=0;i<h.length;++i){var g=h[i];if(g.marker==f){return g}}}}function bp(h,f){for(var i,g=0;g<h.length;++g){h[g]!=f&&(i||(i=[])).push(h[g])}return i}function c9(g,f){g.markedSpans=g.markedSpans?g.markedSpans.concat([f]):[f],f.marker.attachLine(g)}function b1(m,q,h){if(m){for(var f,k=0;k<m.length;++k){var g=m[k],p=g.marker,j=null==g.from||(p.inclusiveLeft?g.from<=q:g.from<q);if(j||g.from==q&&"bookmark"==p.type&&(!h||!g.marker.insertLeft)){var u=null==g.to||(p.inclusiveRight?g.to>=q:g.to>q);(f||(f=[])).push(new eu(p,g.from,u?null:g.to))}}}return f}function eB(m,q,h){if(m){for(var f,k=0;k<m.length;++k){var g=m[k],p=g.marker,j=null==g.to||(p.inclusiveRight?g.to>=q:g.to>q);if(j||g.from==q&&"bookmark"==p.type&&(!h||g.marker.insertLeft)){var u=null==g.from||(p.inclusiveLeft?g.from<=q:g.from<q);(f||(f=[])).push(new eu(p,u?null:g.from-q,null==g.to?null:g.to-q))}}}return f}function cQ(C,H){if(H.full){return null}var v=aX(C,H.from.line)&&bL(C,H.from.line).markedSpans,j=aX(C,H.to.line)&&bL(C,H.to.line).markedSpans;if(!v&&!j){return null}var y=H.from.ch,q=H.to.ch,F=0==ak(H.from,H.to),x=b1(v,y,F),I=eB(j,q,F),E=1==H.text.length,G=hu(H.text).length+(E?y:0);if(x){for(var B=0;B<x.length;++B){var z=x[B];if(null==z.to){var D=fC(I,z.marker);D?E&&(z.to=null==D.to?null:D.to+G):z.to=y}}}if(I){for(var B=0;B<I.length;++B){var z=I[B];if(null!=z.to&&(z.to+=G),null==z.from){var D=fC(x,z.marker);D||(z.from=G,E&&(x||(x=[])).push(z))}else{z.from+=G,E&&(x||(x=[])).push(z)}}}x&&(x=hF(x)),I&&I!=x&&(I=hF(I));var k=[x];if(!E){var w,A=H.text.length-2;if(A>0&&x){for(var B=0;B<x.length;++B){null==x[B].to&&(w||(w=[])).push(new eu(x[B].marker,null,null))}}for(var B=0;A>B;++B){k.push(w)}k.push(I)}return k}function hF(g){for(var f=0;f<g.length;++f){var h=g[f];null!=h.from&&h.from==h.to&&h.marker.clearWhenEmpty!==!1&&g.splice(f--,1)}return g.length?g:null}function dM(m,u){var h=dD(m,u),f=cQ(m,u);if(!h){return f}if(!f){return h}for(var k=0;k<h.length;++k){var g=h[k],q=f[k];if(g&&q){m:for(var j=0;j<q.length;++j){for(var v=q[j],p=0;p<g.length;++p){if(g[p].marker==v.marker){continue m}}g.push(v)}}else{q&&(h[k]=q)}}return h}function bG(w,A,k){var g=null;if(w.iter(A.line,k.line+1,function(h){if(h.markedSpans){for(var f=0;f<h.markedSpans.length;++f){var i=h.markedSpans[f].marker;!i.readOnly||g&&-1!=eL(g,i)||(g||(g=[])).push(i)}}}),!g){return null}for(var p=[{from:A,to:k}],j=0;j<g.length;++j){for(var y=g[j],m=y.find(0),B=0;B<p.length;++B){var x=p[B];if(!(ak(x.to,m.from)<0||ak(x.from,m.to)>0)){var z=[B,1],v=ak(x.from,m.from),q=ak(x.to,m.to);(0>v||!y.inclusiveLeft&&!v)&&z.push({from:x.from,to:m.from}),(q>0||!y.inclusiveRight&&!q)&&z.push({from:m.to,to:x.to}),p.splice.apply(p,z),B+=z.length-1}}}return p}function gd(g){var f=g.markedSpans;if(f){for(var h=0;h<f.length;++h){f[h].marker.detachLine(g)}g.markedSpans=null}}function a6(g,f){if(f){for(var h=0;h<f.length;++h){f[h].marker.attachLine(g)}g.markedSpans=f}}function fk(f){return f.inclusiveLeft?-1:0}function eP(f){return f.inclusiveRight?1:0}function fR(k,h){var m=k.lines.length-h.lines.length;if(0!=m){return m}var j=k.find(),g=h.find(),l=ak(j.from,g.from)||fk(k)-fk(h);if(l){return -l}var f=ak(j.to,g.to)||eP(k)-eP(h);return f?f:h.id-k.id}function cC(j,g){var l,h=cI&&j.markedSpans;if(h){for(var f,k=0;k<h.length;++k){f=h[k],f.marker.collapsed&&null==(g?f.from:f.to)&&(!l||fR(l,f.marker)<0)&&(l=f.marker)}}return l}function dy(f){return cC(f,!0)}function e3(f){return cC(f,!1)}function aS(q,y,j,g,m){var h=bL(q,y),w=cI&&h.markedSpans;if(w){for(var k=0;k<w.length;++k){var z=w[k];if(z.marker.collapsed){var v=z.marker.find(0),x=ak(v.from,j)||fk(z.marker)-fk(m),p=ak(v.to,g)||eP(z.marker)-eP(m);if(!(x>=0&&0>=p||0>=x&&p>=0)&&(0>=x&&(z.marker.inclusiveRight&&m.inclusiveLeft?ak(v.to,j)>=0:ak(v.to,j)>0)||x>=0&&(z.marker.inclusiveRight&&m.inclusiveLeft?ak(v.from,g)<=0:ak(v.from,g)<0))){return !0}}}}}function hX(g){for(var f;f=dy(g);){g=f.find(-1,!0).line}return g}function ab(g){for(var f,h;f=e3(g);){g=f.find(1,!0).line,(h||(h=[])).push(g)}return h}function gX(h,f){var i=bL(h,f),g=hX(i);return i==g?f:bw(g)}function aE(h,f){if(f>h.lastLine()){return f}var i,g=bL(h,f);if(!d1(h,g)){return f}for(;i=e3(g);){g=i.find(1,!0).line}return bw(g)+1}function d1(j,g){var k=cI&&g.markedSpans;if(k){for(var h,f=0;f<k.length;++f){if(h=k[f],h.marker.collapsed){if(null==h.from){return !0}if(!h.marker.widgetNode&&0==h.from&&h.marker.inclusiveLeft&&dR(j,g,h)){return !0}}}}}function dR(j,g,l){if(null==l.to){var h=l.marker.find(1,!0);return dR(j,h.line,fC(h.line.markedSpans,l.marker))}if(l.marker.inclusiveRight&&l.to==g.text.length){return !0}for(var f,k=0;k<g.markedSpans.length;++k){if(f=g.markedSpans[k],f.marker.collapsed&&!f.marker.widgetNode&&f.from==l.to&&(null==f.to||f.to!=l.from)&&(f.marker.inclusiveLeft||l.marker.inclusiveRight)&&dR(j,g,f)){return !0}}}function bf(g,f,h){b8(f)<(g.curOp&&g.curOp.scrollTop||g.doc.scrollTop)&&cJ(g,null,h)}function fH(g){if(null!=g.height){return g.height}var f=g.doc.cm;if(!f){return 0}if(!c5(document.body,g.node)){var h="position: relative;";g.coverGutter&&(h+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),g.noHScroll&&(h+="width: "+f.display.wrapper.clientWidth+"px;"),cs(f.display.measure,eq("div",[g.node],null,h))}return g.height=g.node.parentNode.offsetHeight}function dC(j,g,l,h){var f=new av(j,l,h),k=j.cm;return k&&f.noHScroll&&(k.display.alignWidgets=!0),hD(j,g,"widget",function(i){var o=i.widgets||(i.widgets=[]);if(null==f.insertAt?o.push(f):o.splice(Math.min(o.length-1,Math.max(0,f.insertAt)),0,f),f.line=i,k&&!d1(j,i)){var m=b8(i)<j.scrollTop;fI(i,i.height+fH(f)),m&&cJ(k,null,f.height),k.curOp.forceUpdate=!0}return !0}),f}function fq(j,g,k,h){j.text=g,j.stateAfter&&(j.stateAfter=null),j.styles&&(j.styles=null),null!=j.order&&(j.order=null),gd(j),a6(j,k);var f=h?h(j):1;f!=j.height&&fI(j,f)}function e7(f){f.parent=null,gd(f)}function bR(h,f){if(h){for(;;){var i=h.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i){break}h=h.slice(0,i.index)+h.slice(i.index+i[0].length);var g=i[1]?"bgClass":"textClass";null==f[g]?f[g]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(f[g])||(f[g]+=" "+i[2])}}return h}function aL(f,h){if(f.blankLine){return f.blankLine(h)}if(f.innerMode){var g=gF.innerMode(f,h);return g.mode.blankLine?g.mode.blankLine(g.state):void 0}}function eT(h,l,j,g){for(var k=0;10>k;k++){g&&(g[0]=gF.innerMode(h,j).mode);var f=h.token(l,j);if(l.pos>l.start){return f}}throw new Error("Mode "+h.name+" failed to advance stream.")}function g9(q,y,j,g){function m(f){return{start:p.start,end:p.pos,string:p.current(),type:h||null,state:f?bS(w.mode,x):x}}var h,w=q.doc,k=w.mode;y=dG(w,y);var z,v=bL(w,y.line),x=ev(q,y.line,j),p=new dH(v.text,q.options.tabSize);for(g&&(z=[]);(g||p.pos<y.ch)&&!p.eol();){p.start=p.pos,h=eT(k,p,x),g&&z.push(m(!0))}return g?z:m()}function eF(y,D,m,g,v,k,B){var q=m.flattenSpans;null==q&&(q=y.options.flattenSpans);var E,A=0,C=null,x=new dH(D,y.options.tabSize),w=y.options.addModeClass&&[null];for(""==D&&bR(aL(m,g),k);!x.eol();){if(x.pos>y.options.maxHighlightLength?(q=!1,B&&hM(y,D,g,x.pos),x.pos=D.length,E=null):E=bR(eT(m,x,g,w),k),w){var z=w[0].name;z&&(E="m-"+(E?z+" "+E:z))}if(!q||C!=E){for(;A<x.start;){A=Math.min(x.start,A+50000),v(A,C)}C=E}x.start=x.pos}for(;A<x.pos;){var j=Math.min(x.pos,A+50000);v(j,C),A=j}}function d5(m,u,h,f){var k=[m.state.modeGen],g={};eF(m,u.text,m.doc.mode,h,function(l,i){k.push(l,i)},g,f);for(var q=0;q<m.state.overlays.length;++q){var j=m.state.overlays[q],v=1,p=0;eF(m,u.text,j.mode,!0,function(s,i){for(var x=v;s>p;){var l=k[v];l>s&&k.splice(v,1,s,k[v+1],l),v+=2,p=Math.min(s,l)}if(i){if(j.opaque){k.splice(x,v-x,s,"cm-overlay "+i),v=x+2}else{for(;v>x;x+=2){var w=k[x+1];k[x+1]=(w?w+" ":"")+"cm-overlay "+i}}}},g)}return{styles:k,classes:g.bgClass||g.textClass?g:null}}function aZ(j,g,k){if(!g.styles||g.styles[0]!=j.state.modeGen){var h=ev(j,bw(g)),f=d5(j,g,g.text.length>j.options.maxHighlightLength?bS(j.doc.mode,h):h);g.stateAfter=h,g.styles=f.styles,f.classes?g.styleClasses=f.classes:g.styleClasses&&(g.styleClasses=null),k===j.doc.frontier&&j.doc.frontier++}return g.styles}function hM(j,g,l,h){var f=j.doc.mode,k=new dH(g,j.options.tabSize);for(k.start=k.pos=h||0,""==g&&aL(f,l);!k.eol();){eT(f,k,l),k.start=k.pos}}function cG(g,f){if(!g||/^\s*$/.test(g)){return null}var h=f.addModeClass?eb:aM;return h[g]||(h[g]=g.replace(/\S+/g,"cm-$&"))}function bz(m,q){var h=eq("span",null,null,aG?"padding-right: .1px":null),f={pre:eq("pre",[h],"CodeMirror-line"),content:h,col:0,pos:0,cm:m,splitSpaces:(ad||aG)&&m.getOption("lineWrapping")};q.measure={};for(var k=0;k<=(q.rest?q.rest.length:0);k++){var g,p=k?q.rest[k-1]:q.line;f.pos=0,f.addToken=au,gJ(m.display.measure)&&(g=eG(p))&&(f.addToken=eh(f.addToken,g)),f.map=[];var j=q!=m.display.externalMeasured&&bw(p);ck(p,f,aZ(m,p,j)),p.styleClasses&&(p.styleClasses.bgClass&&(f.bgClass=db(p.styleClasses.bgClass,f.bgClass||"")),p.styleClasses.textClass&&(f.textClass=db(p.styleClasses.textClass,f.textClass||""))),0==f.map.length&&f.map.push(0,0,f.content.appendChild(bT(m.display.measure))),0==k?(q.measure.map=f.map,q.measure.cache={}):((q.measure.maps||(q.measure.maps=[])).push(f.map),(q.measure.caches||(q.measure.caches=[])).push({}))}if(aG){var u=f.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return eN(m,"renderLine",m,q.line,f.pre),f.pre.className&&(f.textClass=db(f.pre.className,f.textClass||"")),f}function ah(g){var f=eq("span","","cm-invalidchar");return f.title="\\u"+g.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function au(J,w,C,z,F,B,M){if(w){var E=J.splitSpaces?w.replace(/ {3,}/g,hA):w,x=J.cm.state.specialChars,L=!1;if(x.test(w)){for(var q=document.createDocumentFragment(),I=0;;){x.lastIndex=I;var G=x.exec(w),K=G?G.index-I:w.length-I;if(K){var A=document.createTextNode(E.slice(I,I+K));ad&&9>g0?q.appendChild(eq("span",[A])):q.appendChild(A),J.map.push(J.pos,J.pos+K,A),J.col+=K,J.pos+=K}if(!G){break}if(I+=K+1,"	"==G[0]){var D=J.cm.options.tabSize,H=D-J.col%D,A=q.appendChild(eq("span",eZ(H),"cm-tab"));A.setAttribute("role","presentation"),A.setAttribute("cm-text","	"),J.col+=H}else{if("\r"==G[0]||"\n"==G[0]){var A=q.appendChild(eq("span","\r"==G[0]?"":"","cm-invalidchar"));A.setAttribute("cm-text",G[0]),J.col+=1}else{var A=J.cm.options.specialCharPlaceholder(G[0]);A.setAttribute("cm-text",G[0]),ad&&9>g0?q.appendChild(eq("span",[A])):q.appendChild(A),J.col+=1}}J.map.push(J.pos,J.pos+1,A),J.pos++}}else{J.col+=w.length;var q=document.createTextNode(E);J.map.push(J.pos,J.pos+w.length,q),ad&&9>g0&&(L=!0),J.pos+=w.length}if(C||z||F||L||M){var k=C||"";z&&(k+=z),F&&(k+=F);var j=eq("span",[q],k,M);return B&&(j.title=B),J.content.appendChild(j)}J.content.appendChild(q)}}function hA(g){for(var f=" ",h=0;h<g.length-2;++h){f+=h%2?" ":" "}return f+=" "}function eh(g,f){return function(m,j,q,k,x,p,z){q=q?q+" cm-force-border":"cm-force-border";for(var w=m.pos,y=w+j.length;;){for(var v=0;v<f.length;v++){var t=f[v];if(t.to>w&&t.from<=w){break}}if(t.to>=y){return g(m,j,q,k,x,p,z)}g(m,j.slice(0,t.to-w),q,k,null,p,z),k=null,j=j.slice(t.to-w),w=t.to}}}function dj(j,g,k,h){var f=!h&&k.widgetNode;f&&j.map.push(j.pos,j.pos+g,f),!h&&j.cm.display.input.needsContentAttribute&&(f||(f=j.content.appendChild(document.createElement("span"))),f.setAttribute("cm-marker",k.id)),f&&(j.cm.display.input.setUneditable(f),j.content.appendChild(f)),j.pos+=g}function ck(V,F,M){var I=V.markedSpans,Q=V.text,K=0;if(I){for(var Z,O,G,X,E,U,R,W=Q.length,J=0,N=1,T="",D=0;;){if(D==J){G=X=E=U=O="",R=null,D=1/0;for(var z,A=[],Y=0;Y<I.length;++Y){var B=I[Y],P=B.marker;"bookmark"==P.type&&B.from==J&&P.widgetNode?A.push(P):B.from<=J&&(null==B.to||B.to>J||P.collapsed&&B.to==J&&B.from==J)?(null!=B.to&&B.to!=J&&D>B.to&&(D=B.to,X=""),P.className&&(G+=" "+P.className),P.css&&(O=(O?O+";":"")+P.css),P.startStyle&&B.from==J&&(E+=" "+P.startStyle),P.endStyle&&B.to==D&&(z||(z=[])).push(P.endStyle,B.to),P.title&&!U&&(U=P.title),P.collapsed&&(!R||fR(R.marker,P)<0)&&(R=B)):B.from>J&&D>B.from&&(D=B.from)}if(z){for(var Y=0;Y<z.length;Y+=2){z[Y+1]==D&&(X+=" "+z[Y])}}if(!R||R.from==J){for(var Y=0;Y<A.length;++Y){dj(F,0,A[Y])}}if(R&&(R.from||0)==J){if(dj(F,(null==R.to?W+1:R.to)-J,R.marker,null==R.from),null==R.to){return}R.to==J&&(R=!1)}}if(J>=W){break}for(var j=Math.min(W,D);;){if(T){var H=J+T.length;if(!R){var q=H>j?T.slice(0,j-J):T;F.addToken(F,q,Z?Z+G:G,E,J+q.length==D?X:"",U,O)}if(H>=j){T=T.slice(j-J),J=j;break}J=H,E=""}T=Q.slice(K,K=M[N++]),Z=cG(M[N++],F.cm.options)}}}else{for(var N=1;N<M.length;N+=2){F.addToken(F,Q.slice(K,K=M[N]),cG(M[N+1],F.cm.options))}}}function h4(g,f){return 0==f.from.ch&&0==f.to.ch&&""==hu(f.text)&&(!g.cm||g.cm.options.wholeLineUpdateBefore)}function b7(A,F,q,g){function x(f){return q?q[f]:null}function k(h,l,f){fq(h,l,f,g),bk(h,"change",h,F)}function D(h,f){for(var l=h,i=[];f>l;++l){i.push(new hs(C[l],x(l),g))}return i}var w=F.from,G=F.to,C=F.text,E=bL(A,w.line),z=bL(A,G.line),y=hu(C),B=x(C.length-1),j=G.line-w.line;if(F.full){A.insert(0,D(0,C.length)),A.remove(C.length,A.size-C.length)}else{if(h4(A,F)){var v=D(0,C.length-1);k(z,z.text,B),j&&A.remove(w.line,j),v.length&&A.insert(w.line,v)}else{if(E==z){if(1==C.length){k(E,E.text.slice(0,w.ch)+y+E.text.slice(G.ch),B)}else{var v=D(1,C.length-1);v.push(new hs(y+E.text.slice(G.ch),B,g)),k(E,E.text.slice(0,w.ch)+C[0],x(0)),A.insert(w.line+1,v)}}else{if(1==C.length){k(E,E.text.slice(0,w.ch)+C[0]+z.text.slice(G.ch),x(0)),A.remove(w.line+1,j)}else{k(E,E.text.slice(0,w.ch)+C[0],x(0)),k(z,y+z.text.slice(G.ch),B);var v=D(1,C.length-1);j>1&&A.remove(w.line+1,j-1),A.insert(w.line+1,v)}}}}bk(A,"change",A,F)}function c4(g){this.lines=g,this.parent=null;for(var f=0,h=0;f<g.length;++f){g[f].parent=this,h+=g[f].height}this.height=h}function cV(j){this.children=j;for(var g=0,k=0,h=0;h<j.length;++h){var f=j[h];g+=f.chunkSize(),k+=f.height,f.parent=this}this.size=g,this.height=k,this.parent=null}function fU(h,f,i){function g(p,m,q){if(p.linked){for(var k=0;k<p.linked.length;++k){var j=p.linked[k];if(j.doc!=m){var n=q&&j.sharedHist;i&&!n||(f(j.doc,n),g(j.doc,p,n))}}}}g(h,null,!0)}function cq(g,f){if(f.cm){throw new Error("This document is already in use.")}g.doc=f,f.cm=g,gL(g),gm(g),g.options.lineWrapping||gA(g),g.options.mode=f.modeOption,aY(g)}function bL(j,g){if(g-=j.first,0>g||g>=j.size){throw new Error("There is no line "+(g+j.first)+" in the document.")}for(var l=j;!l.lines;){for(var h=0;;++h){var f=l.children[h],k=f.chunkSize();if(k>g){l=f;break}g-=k}}return l.lines[g]}function gv(j,g,k){var h=[],f=g.line;return j.iter(g.line,k.line+1,function(i){var l=i.text;f==k.line&&(l=l.slice(0,k.ch)),f==g.line&&(l=l.slice(g.ch)),h.push(l),++f}),h}function ep(h,f,i){var g=[];return h.iter(f,i,function(j){g.push(j.text)}),g}function fI(h,f){var i=f-h.height;if(i){for(var g=h;g;g=g.parent){g.height+=i}}}function bw(j){if(null==j.parent){return null}for(var g=j.parent,k=eL(g.lines,j),h=g.parent;h;g=h,h=h.parent){for(var f=0;h.children[f]!=g;++f){k+=h.children[f].chunkSize()}}return k+g.first}function dk(m,j){var q=m.first;m:do{for(var k=0;k<m.children.length;++k){var h=m.children[k],p=h.height;if(p>j){m=h;continue m}j-=p,q+=h.chunkSize()}return q}while(!m.lines);for(var k=0;k<m.lines.length;++k){var g=m.lines[k],f=g.height;if(f>j){break}j-=f}return q+k}function b8(k){k=hX(k);for(var h=0,m=k.parent,j=0;j<m.lines.length;++j){var g=m.lines[j];if(g==k){break}h+=g.height}for(var l=m.parent;l;m=l,l=m.parent){for(var j=0;j<l.children.length;++j){var f=l.children[j];if(f==m){break}h+=f.height}}return h}function eG(g){var f=g.order;return null==f&&(f=g.order=dP(g.text)),f}function cW(f){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=f||1}function hO(g,f){var h={from:hU(f.from),to:es(f),text:gv(g,f.from,f.to)};return fV(g,h,f.from.line,f.to.line+1),fU(g,function(i){fV(i,h,f.from.line,f.to.line+1)},!0),h}function dS(g){for(;g.length;){var f=hu(g);if(!f.ranges){break}g.pop()}}function bM(g,f){return f?(dS(g.done),hu(g.done)):g.done.length&&!hu(g.done).ranges?hu(g.done):g.done.length>1&&!g.done[g.done.length-2].ranges?(g.done.pop(),hu(g.done)):void 0}function gx(m,q,h,f){var k=m.history;k.undone.length=0;var g,p=+new Date;if((k.lastOp==f||k.lastOrigin==q.origin&&q.origin&&("+"==q.origin.charAt(0)&&m.cm&&k.lastModTime>p-m.cm.options.historyEventDelay||"*"==q.origin.charAt(0)))&&(g=bM(k,k.lastOp==f))){var j=hu(g.changes);0==ak(q.from,q.to)&&0==ak(q.from,j.to)?j.to=es(q):g.changes.push(hO(m,q))}else{var u=hu(k.done);for(u&&u.ranges||eU(m.sel,k.done),g={changes:[hO(m,q)],generation:k.generation},k.done.push(g);k.done.length>k.undoDepth;){k.done.shift(),k.done[0].ranges||k.done.shift()}}k.done.push(h),k.generation=++k.maxGeneration,k.lastModTime=k.lastSelTime=p,k.lastOp=k.lastSelOp=f,k.lastOrigin=k.lastSelOrigin=q.origin,j||eN(m,"historyAdded")}function bb(j,g,k,h){var f=g.charAt(0);return"*"==f||"+"==f&&k.ranges.length==h.ranges.length&&k.somethingSelected()==h.somethingSelected()&&new Date-j.history.lastSelTime<=(j.cm?j.cm.options.historyEventDelay:500)}function fs(j,g,l,h){var f=j.history,k=h&&h.origin;l==f.lastSelOp||k&&f.lastSelOrigin==k&&(f.lastModTime==f.lastSelTime&&f.lastOrigin==k||bb(j,k,hu(f.done),g))?f.done[f.done.length-1]=g:eU(g,f.done),f.lastSelTime=+new Date,f.lastSelOrigin=k,f.lastSelOp=l,h&&h.clearRedo!==!1&&dS(f.undone)}function eU(g,f){var h=hu(f);h&&h.ranges&&h.equals(g)||f.push(g)}function fV(j,g,l,h){var f=g["spans_"+j.id],k=0;j.iter(Math.max(j.first,l),Math.min(j.first+j.size,h),function(i){i.markedSpans&&((f||(f=g["spans_"+j.id]={}))[k]=i.markedSpans),++k})}function cH(g){if(!g){return null}for(var f,h=0;h<g.length;++h){g[h].marker.explicitlyCleared?f||(f=g.slice(0,h)):f&&f.push(g[h])}return f?f.length?f:null:g}function dD(j,g){var k=g["spans_"+j.id];if(!k){return null}for(var h=0,f=[];h<g.text.length;++h){f.push(cH(k[h]))}return f}function e8(q,y,j){for(var g=0,m=[];g<q.length;++g){var h=q[g];if(h.ranges){m.push(j?bc.prototype.deepCopy.call(h):h)}else{var w=h.changes,k=[];m.push({changes:k});for(var z=0;z<w.length;++z){var v,x=w[z];if(k.push({from:x.from,to:x.to,text:x.text}),y){for(var p in x){(v=p.match(/^spans_(\d+)$/))&&eL(y,Number(v[1]))>-1&&(hu(k)[p]=x[p],delete x[p])}}}}}return m}function aW(h,f,i,g){i<h.line?h.line+=g:f<h.line&&(h.line=f,h.ch=0)}function h1(m,q,h,f){for(var k=0;k<m.length;++k){var g=m[k],p=!0;if(g.ranges){g.copied||(g=m[k]=g.deepCopy(),g.copied=!0);for(var j=0;j<g.ranges.length;j++){aW(g.ranges[j].anchor,q,h,f),aW(g.ranges[j].head,q,h,f)}}else{for(var j=0;j<g.changes.length;++j){var u=g.changes[j];if(h<u.from.line){u.from=bB(u.from.line+f,u.from.ch),u.to=bB(u.to.line+f,u.to.ch)}else{if(q<=u.to.line){p=!1;break}}}p||(m.splice(0,k+1),k=0)}}}function aj(j,g){var k=g.from.line,h=g.to.line,f=g.text.length-(h-k)-1;h1(j.done,k,h,f),h1(j.undone,k,h,f)}function hb(f){return null!=f.defaultPrevented?f.defaultPrevented:0==f.returnValue}function aI(f){return f.target||f.srcElement}function d6(g){var f=g.which;return null==f&&(1&g.button?f=1:2&g.button?f=3:4&g.button&&(f=2)),aN&&g.ctrlKey&&1==f&&(f=3),f}function dX(h,f,i){var g=h._handlers&&h._handlers[f];return i?g&&g.length>0?g.slice():e1:g||e1}function bk(k,h){function m(i){return function(){i.apply(null,l)}}var j=dX(k,h,!1);if(j.length){var g,l=Array.prototype.slice.call(arguments,2);h6?g=h6.delayedCallbacks:ef?g=ef:(g=ef=[],setTimeout(fN,0));for(var f=0;f<j.length;++f){g.push(m(j[f]))}}}function fN(){var g=ef;ef=null;for(var f=0;f<g.length;++f){g[f]()}}function dI(g,f,h){return"string"==typeof f&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),eN(g,h||f.type,g,f),hb(f)||f.codemirrorIgnore}function fy(h){var f=h._handlers&&h._handlers.cursorActivity;if(f){for(var i=h.curOp.cursorActivityHandlers||(h.curOp.cursorActivityHandlers=[]),g=0;g<f.length;++g){-1==eL(i,f[g])&&i.push(f[g])}}}function ff(g,f){return dX(g,f).length>0}function bY(f){f.prototype.on=function(h,g){aT(this,h,g)},f.prototype.off=function(h,g){hB(this,h,g)}}function aP(){this.id=null}function eZ(f){for(;ew.length<=f;){ew.push(hu(ew)+" ")}return ew[f]}function hu(f){return f[f.length-1]}function eL(g,f){for(var h=0;h<g.length;++h){if(g[h]==f){return h}}return -1}function ec(h,f){for(var i=[],g=0;g<h.length;g++){i[g]=f(h[g],g)}return i}function a3(){}function hT(g,f){var h;return Object.create?h=Object.create(g):(a3.prototype=g,h=new a3),f&&cM(f,h),h}function cM(h,f,i){f||(f={});for(var g in h){!h.hasOwnProperty(g)||i===!1&&f.hasOwnProperty(g)||(f[g]=h[g])}return f}function bD(g){var f=Array.prototype.slice.call(arguments,1);return function(){return g.apply(null,f)}}function aw(g,f){return f?f.source.indexOf("\\w")>-1&&ch(g)?!0:f.test(g):ch(g)}function aB(g){for(var f in g){if(g.hasOwnProperty(f)&&g[f]){return !1}}return !0}function hG(f){return f.charCodeAt(0)>=768&&dl.test(f)}function eq(j,g,l,h){var f=document.createElement(j);if(l&&(f.className=l),h&&(f.style.cssText=h),"string"==typeof g){f.appendChild(document.createTextNode(g))}else{if(g){for(var k=0;k<g.length;++k){f.appendChild(g[k])}}}return f}function du(g){for(var f=g.childNodes.length;f>0;--f){g.removeChild(g.firstChild)}return g}function cs(g,f){return du(g).appendChild(f)}function h8(){for(var f=document.activeElement;f&&f.root&&f.root.activeElement;){f=f.root.activeElement}return f}function cf(f){return new RegExp("(^|\\s)"+f+"(?:$|\\s)\\s*")}function db(h,f){for(var i=h.split(" "),g=0;g<i.length;g++){i[g]&&!cf(i[g]).test(f)&&(f+=" "+i[g])}return f}function c1(h){if(document.body.getElementsByClassName){for(var f=document.body.getElementsByClassName("CodeMirror"),i=0;i<f.length;i++){var g=f[i].CodeMirror;g&&h(g)}}}function f0(){ez||(cy(),ez=!0)}function cy(){var f;aT(window,"resize",function(){null==f&&(f=setTimeout(function(){f=null,c1(cj)},100))}),aT(window,"blur",function(){c1(h0)})}function bT(g){if(null==f3){var f=eq("span","");cs(g,eq("span",[f,document.createTextNode("x")])),0!=g.firstChild.offsetHeight&&(f3=f.offsetWidth<=1&&f.offsetHeight>2&&!(ad&&8>g0))}var h=f3?eq("span",""):eq("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return h.setAttribute("cm-text",""),h}function gJ(h){if(null!=cA){return cA}var f=cs(h,document.createTextNode("AA")),i=cx(f,0,1).getBoundingClientRect();if(!i||i.left==i.right){return !1}var g=cx(f,1,2).getBoundingClientRect();return cA=g.right-i.right<3}function ex(h){if(null!=eD){return eD}var f=cs(h,eq("span","x")),i=f.getBoundingClientRect(),g=cx(f,0,1).getBoundingClientRect();return eD=Math.abs(i.left-g.left)>1}function fD(k,h,m,j){if(!k){return j(h,m,"ltr")}for(var g=!1,l=0;l<k.length;++l){var f=k[l];(f.from<m&&f.to>h||h==m&&f.to==h)&&(j(Math.max(f.from,h),Math.min(f.to,m),1==f.level?"rtl":"ltr"),g=!0)}g||j(h,m,"ltr")}function bs(f){return f.level%2?f.to:f.from}function dc(f){return f.level%2?f.from:f.to}function b3(g){var f=eG(g);return f?bs(f[0]):0}function eC(g){var f=eG(g);return f?dc(hu(f)):g.text.length}function cR(j,g){var l=bL(j.doc,g),h=hX(l);h!=l&&(g=bw(h));var f=eG(h),k=f?f[0].level%2?eC(h):b3(h):0;return bB(g,k)}function hH(j,g){for(var l,h=bL(j.doc,g);l=e3(h);){h=l.find(1,!0).line,g=null}var f=eG(h),k=f?f[0].level%2?b3(h):eC(h):h.text.length;return bB(null==g?bw(h):g,k)}function dN(k,h){var m=cR(k,h.line),j=bL(k.doc,m.line),g=eG(j);if(!g||0==g[0].level){var l=Math.max(0,j.text.search(/\S/)),f=h.line==m.line&&h.ch<=l&&h.ch;return bB(m.line,f?0:l)}return m}function bI(h,f,i){var g=h[0].level;return f==g?!0:i==g?!1:i>f}function gh(j,g){hK=null;for(var k,h=0;h<j.length;++h){var f=j[h];if(f.from<g&&f.to>g){return h}if(f.from==g||f.to==g){if(null!=k){return bI(j,f.level,j[k].level)?(f.from!=f.to&&(hK=k),h):(f.from!=f.to&&(hK=h),k)}k=h}}return k}function a8(h,f,i,g){if(!g){return f+i}do{f+=i}while(f>0&&hG(h.text.charAt(f)));return f}function fl(m,j,q,k){var h=eG(m);if(!h){return eQ(m,j,q,k)}for(var p=gh(h,j),g=h[p],f=a8(m,j,g.level%2?-q:q,k);;){if(f>g.from&&f<g.to){return f}if(f==g.from||f==g.to){return gh(h,f)==p?f:(g=h[p+=q],q>0==g.level%2?g.to:g.from)}if(g=h[p+=q],!g){return null}f=q>0==g.level%2?a8(m,g.to,-1,k):a8(m,g.from,1,k)}}function eQ(j,g,k,h){var f=g+k;if(h){for(;f>0&&hG(j.text.charAt(f));){f+=k}}return 0>f||f>j.text.length?null:f}var cD=navigator.userAgent,dz=navigator.platform,e4=/gecko\/\d/i.test(cD),aU=/MSIE \d/.test(cD),hZ=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cD),ad=aU||hZ,g0=ad&&(aU?document.documentMode||6:hZ[1]),aG=/WebKit\//.test(cD),d2=aG&&/Qt\/\d+\.\d+/.test(cD),dT=/Chrome\//.test(cD),bh=/Opera\//.test(cD),fJ=/Apple Computer/.test(navigator.vendor),dE=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(cD),fu=/PhantomJS/.test(cD),e9=/AppleWebKit/.test(cD)&&/Mobile\/\w+/.test(cD),bU=e9||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(cD),aN=e9||/Mac/.test(dz),eV=/\bCrOS\b/.test(cD),hf=/win/i.test(dz),eH=bh&&cD.match(/Version\/(\d*\.\d*)/);eH&&(eH=Number(eH[1])),eH&&eH>=15&&(bh=!1,aG=!0);var d7=aN&&(d2||bh&&(null==eH||12.11>eH)),a1=e4||ad&&g0>=9,hP=!1,cI=!1;gp.prototype=cM({update:function(j){var g=j.scrollWidth>j.clientWidth+1,l=j.scrollHeight>j.clientHeight+1,h=j.nativeBarWidth;if(l){this.vert.style.display="block",this.vert.style.bottom=g?h+"px":"0";var f=j.viewHeight-(g?h:0);this.vert.firstChild.style.height=Math.max(0,j.scrollHeight-j.clientHeight+f)+"px"}else{this.vert.style.display="",this.vert.firstChild.style.height="0"}if(g){this.horiz.style.display="block",this.horiz.style.right=l?h+"px":"0",this.horiz.style.left=j.barLeft+"px";var k=j.viewWidth-j.barLeft-(l?h:0);this.horiz.firstChild.style.width=j.scrollWidth-j.clientWidth+k+"px"}else{this.horiz.style.display="",this.horiz.firstChild.style.width="0"}return !this.checkedZeroWidth&&j.clientHeight>0&&(0==h&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:l?h:0,bottom:g?h:0}},setScrollLeft:function(f){this.horiz.scrollLeft!=f&&(this.horiz.scrollLeft=f),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(f){this.vert.scrollTop!=f&&(this.vert.scrollTop=f),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var f=aN&&!dE?"12px":"18px";this.horiz.style.height=this.vert.style.width=f,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new aP,this.disableVert=new aP},enableZeroWidthBar:function(g,f){function h(){var k=g.getBoundingClientRect(),j=document.elementFromPoint(k.left+1,k.bottom-1);j!=g?g.style.pointerEvents="none":f.set(1000,h)}g.style.pointerEvents="auto",f.set(1000,h)},clear:function(){var f=this.horiz.parentNode;f.removeChild(this.horiz),f.removeChild(this.vert)}},gp.prototype),gB.prototype=cM({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},gB.prototype),gF.scrollbarModel={"native":gp,"null":gB},g8.prototype.signal=function(g,f){ff(g,f)&&this.events.push(arguments)},g8.prototype.finish=function(){for(var f=0;f<this.events.length;f++){eN.apply(null,this.events[f])}};var bB=gF.Pos=function(g,f){return this instanceof bB?(this.line=g,void (this.ch=f)):new bB(g,f)},ak=gF.cmpPos=function(g,f){return g.line-f.line||g.ch-f.ch},ax=null;dq.prototype=cM({init:function(j){function g(m){if(!dI(h,m)){if(h.somethingSelected()){ax={lineWise:!1,text:h.getSelections()},l.inaccurateSelection&&(l.prevInput="",l.inaccurateSelection=!1,k.value=ax.text.join("\n"),dw(k))}else{if(!h.options.lineWiseCopyCut){return}var i=fL(h);ax={lineWise:!0,text:i.text},"cut"==m.type?h.setSelections(i.ranges,null,cO):(l.prevInput="",k.value=i.text.join("\n"),dw(k))}"cut"==m.type&&(h.state.cutIncoming=!0)}}var l=this,h=this.cm,f=this.wrapper=cc(),k=this.textarea=f.firstChild;j.wrapper.insertBefore(f,j.wrapper.firstChild),e9&&(k.style.width="0px"),aT(k,"input",function(){ad&&g0>=9&&l.hasSelection&&(l.hasSelection=null),l.poll()}),aT(k,"paste",function(i){dI(h,i)||hd(i,h)||(h.state.pasteIncoming=!0,l.fastPoll())}),aT(k,"cut",g),aT(k,"copy",g),aT(j.scroller,"paste",function(i){h3(j,i)||dI(h,i)||(h.state.pasteIncoming=!0,l.focus())}),aT(j.lineSpace,"selectstart",function(i){h3(j,i)||fA(i)}),aT(k,"compositionstart",function(){var i=h.getCursor("from");l.composing&&l.composing.range.clear(),l.composing={start:i,range:h.markText(i,h.getCursor("to"),{className:"CodeMirror-composing"})}}),aT(k,"compositionend",function(){l.composing&&(l.poll(),l.composing.range.clear(),l.composing=null)})},prepareSelection:function(){var k=this.cm,h=k.display,m=k.doc,j=a4(k);if(k.options.moveInputWithCursor){var g=fQ(k,m.sel.primary().head,"div"),l=h.wrapper.getBoundingClientRect(),f=h.lineDiv.getBoundingClientRect();j.teTop=Math.max(0,Math.min(h.wrapper.clientHeight-10,g.top+f.top-l.top)),j.teLeft=Math.max(0,Math.min(h.wrapper.clientWidth-10,g.left+f.left-l.left))}return j},showSelection:function(g){var f=this.cm,h=f.display;cs(h.cursorDiv,g.cursors),cs(h.selectionDiv,g.selection),null!=g.teTop&&(this.wrapper.style.top=g.teTop+"px",this.wrapper.style.left=g.teLeft+"px")},reset:function(k){if(!this.contextMenuPending){var h,m,j=this.cm,g=j.doc;if(j.somethingSelected()){this.prevInput="";var l=g.sel.primary();h=b5&&(l.to().line-l.from().line>100||(m=j.getSelection()).length>1000);var f=h?"-":m||j.getSelection();this.textarea.value=f,j.state.focused&&dw(this.textarea),ad&&g0>=9&&(this.hasSelection=f)}else{k||(this.prevInput=this.textarea.value="",ad&&g0>=9&&(this.hasSelection=null))}this.inaccurateSelection=h}},getField:function(){return this.textarea},supportsTouch:function(){return !1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!bU||h8()!=this.textarea)){try{this.textarea.focus()}catch(f){}}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var f=this;f.pollingFast||f.polling.set(this.cm.options.pollInterval,function(){f.poll(),f.cm.state.focused&&f.slowPoll()})},fastPoll:function(){function g(){var i=h.poll();i||f?(h.pollingFast=!1,h.slowPoll()):(f=!0,h.polling.set(60,g))}var f=!1,h=this;h.pollingFast=!0,h.polling.set(20,g)},poll:function(){var m=this.cm,j=this.textarea,q=this.prevInput;if(this.contextMenuPending||!m.state.focused||df(j)&&!q&&!this.composing||m.isReadOnly()||m.options.disableInput||m.state.keySeq){return !1}var k=j.value;if(k==q&&!m.somethingSelected()){return !1}if(ad&&g0>=9&&this.hasSelection===k||aN&&/[\uf700-\uf7ff]/.test(k)){return m.display.input.reset(),!1}if(m.doc.sel==m.display.selForContextMenu){var h=k.charCodeAt(0);if(8203!=h||q||(q=""),8666==h){return this.reset(),this.cm.execCommand("undo")}}for(var p=0,g=Math.min(q.length,k.length);g>p&&q.charCodeAt(p)==k.charCodeAt(p);){++p}var f=this;return bQ(m,function(){gP(m,k.slice(p),q.length-p,null,f.composing?"*compose":null),k.length>1000||k.indexOf("\n")>-1?j.value=f.prevInput="":f.prevInput=k,f.composing&&(f.composing.range.clear(),f.composing.range=m.markText(f.composing.start,m.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ad&&g0>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(y){function D(){if(null!=B.selectionStart){var h=v.somethingSelected(),f=""+(h?B.value:"");B.value="",B.value=f,g.prevInput=h?"":"",B.selectionStart=1,B.selectionEnd=f.length,k.selForContextMenu=v.doc.sel}}function m(){if(g.contextMenuPending=!1,g.wrapper.style.cssText=x,B.style.cssText=C,ad&&9>g0&&k.scrollbars.setScrollTop(k.scroller.scrollTop=E),null!=B.selectionStart){(!ad||ad&&9>g0)&&D();var f=0,h=function(){k.selForContextMenu==v.doc.sel&&0==B.selectionStart&&B.selectionEnd>0&&""==g.prevInput?aK(v,bg.selectAll)(v):f++<10?k.detectingSelectAll=setTimeout(h,500):k.input.reset()};k.detectingSelectAll=setTimeout(h,200)}}var g=this,v=g.cm,k=v.display,B=g.textarea,q=b6(v,y),E=k.scroller.scrollTop;if(q&&!bh){var A=v.options.resetSelectionOnContextMenu;A&&-1==v.doc.sel.contains(q)&&aK(v,dJ)(v.doc,fY(q),cO);var C=B.style.cssText,x=g.wrapper.style.cssText;g.wrapper.style.cssText="position: absolute";var w=g.wrapper.getBoundingClientRect();if(B.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(y.clientY-w.top-5)+"px; left: "+(y.clientX-w.left-5)+"px; z-index: 1000; background: "+(ad?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",aG){var z=window.scrollY}if(k.input.focus(),aG&&window.scrollTo(null,z),k.input.reset(),v.somethingSelected()||(B.value=g.prevInput=" "),g.contextMenuPending=!0,k.selForContextMenu=v.doc.sel,clearTimeout(k.detectingSelectAll),ad&&g0>=9&&D(),a1){b2(y);var j=function(){hB(window,"mouseup",j),setTimeout(m,20)};aT(window,"mouseup",j)}else{setTimeout(m,50)}}},readOnlyChanged:function(f){f||this.reset()},setUneditable:a3,needsContentAttribute:!1},dq.prototype),eJ.prototype=cM({init:function(j){function g(p){if(!dI(h,p)){if(h.somethingSelected()){ax={lineWise:!1,text:h.getSelections()},"cut"==p.type&&h.replaceSelection("",null,"cut")}else{if(!h.options.lineWiseCopyCut){return}var m=fL(h);ax={lineWise:!0,text:m.text},"cut"==p.type&&h.operation(function(){h.setSelections(m.ranges,0,cO),h.replaceSelection("",null,"cut")})}if(p.clipboardData&&!e9){p.preventDefault(),p.clipboardData.clearData(),p.clipboardData.setData("text/plain",ax.text.join("\n"))}else{var r=cc(),l=r.firstChild;h.display.lineSpace.insertBefore(r,h.display.lineSpace.firstChild),l.value=ax.text.join("\n");var q=document.activeElement;dw(l),setTimeout(function(){h.display.lineSpace.removeChild(r),q.focus()},50)}}}var k=this,h=k.cm,f=k.div=j.lineDiv;bx(f),aT(f,"paste",function(i){dI(h,i)||hd(i,h)}),aT(f,"compositionstart",function(p){var n=p.data;if(k.composing={sel:h.doc.sel,data:n,startData:n},n){var m=h.doc.sel.primary(),q=h.getLine(m.head.line),l=q.indexOf(n,Math.max(0,m.head.ch-n.length));l>-1&&l<=m.head.ch&&(k.composing.sel=fY(bB(m.head.line,l),bB(m.head.line,l+n.length)))}}),aT(f,"compositionupdate",function(i){k.composing.data=i.data}),aT(f,"compositionend",function(l){var i=k.composing;i&&(l.data==i.startData||/\u200b/.test(l.data)||(i.data=l.data),setTimeout(function(){i.handled||k.applyComposition(i),k.composing==i&&(k.composing=null)},50))}),aT(f,"touchstart",function(){k.forceCompositionEnd()}),aT(f,"input",function(){k.composing||!h.isReadOnly()&&k.pollContent()||bQ(k.cm,function(){aY(h)})}),aT(f,"copy",g),aT(f,"cut",g)},prepareSelection:function(){var f=a4(this.cm,!1);return f.focus=this.cm.state.focused,f},showSelection:function(g,f){g&&this.cm.display.view.length&&((g.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(g))},showPrimarySelection:function(){var q=window.getSelection(),y=this.cm.doc.sel.primary(),j=dV(this.cm,q.anchorNode,q.anchorOffset),g=dV(this.cm,q.focusNode,q.focusOffset);if(!j||j.bad||!g||g.bad||0!=ak(hc(j,g),y.from())||0!=ak(gT(j,g),y.to())){var m=cZ(this.cm,y.from()),h=cZ(this.cm,y.to());if(m||h){var w=this.cm.display.view,k=q.rangeCount&&q.getRangeAt(0);if(m){if(!h){var z=w[w.length-1].measure,v=z.maps?z.maps[z.maps.length-1]:z.map;h={node:v[v.length-1],offset:v[v.length-2]-v[v.length-3]}}}else{m={node:w[0].measure.map[2],offset:0}}try{var x=cx(m.node,m.offset,h.offset,h.node)}catch(p){}x&&(!e4&&this.cm.state.focused?(q.collapse(m.node,m.offset),x.collapsed||q.addRange(x)):(q.removeAllRanges(),q.addRange(x)),k&&null==q.anchorNode?q.addRange(k):e4&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var f=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){f.gracePeriod=!1,f.selectionChanged()&&f.cm.operation(function(){f.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(f){cs(this.cm.display.cursorDiv,f.cursors),cs(this.cm.display.selectionDiv,f.selection)},rememberSelection:function(){var f=window.getSelection();this.lastAnchorNode=f.anchorNode,this.lastAnchorOffset=f.anchorOffset,this.lastFocusNode=f.focusNode,this.lastFocusOffset=f.focusOffset},selectionInEditor:function(){var g=window.getSelection();if(!g.rangeCount){return !1}var f=g.getRangeAt(0).commonAncestorContainer;return c5(this.div,f)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return !0},receivedFocus:function(){function g(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,g))}var f=this;this.selectionInEditor()?this.pollSelection():bQ(this.cm,function(){f.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,g)},selectionChanged:function(){var f=window.getSelection();return f.anchorNode!=this.lastAnchorNode||f.anchorOffset!=this.lastAnchorOffset||f.focusNode!=this.lastFocusNode||f.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var h=window.getSelection(),f=this.cm;this.rememberSelection();var i=dV(f,h.anchorNode,h.anchorOffset),g=dV(f,h.focusNode,h.focusOffset);i&&g&&bQ(f,function(){dJ(f.doc,fY(i,g),cO),(i.bad||g.bad)&&(f.curOp.selectionChanged=!0)})}},pollContent:function(){var P=this.cm,C=P.display,H=P.doc.sel.primary(),E=H.from(),L=H.to();if(E.line<C.viewFrom||L.line>C.viewTo-1){return !1}var G;if(E.line==C.viewFrom||0==(G=by(P,E.line))){var T=bw(C.view[0].line),J=C.view[0].node}else{var T=bw(C.view[G].line),J=C.view[G-1].node.nextSibling}var D=by(P,L.line);if(D==C.view.length-1){var R=C.viewTo-1,B=C.lineDiv.lastChild}else{var R=bw(C.view[D+1].line)-1,B=C.view[D+1].node.previousSibling}for(var O=P.doc.splitLines(gE(P,J,B,T,R)),M=gv(P.doc,bB(T,0),bB(R,bL(P.doc,R).text.length));O.length>1&&M.length>1;){if(hu(O)==hu(M)){O.pop(),M.pop(),R--}else{if(O[0]!=M[0]){break}O.shift(),M.shift(),T++}}for(var Q=0,F=0,I=O[0],N=M[0],A=Math.min(I.length,N.length);A>Q&&I.charCodeAt(Q)==N.charCodeAt(Q);){++Q}for(var j=hu(O),q=hu(M),S=Math.min(j.length-(1==O.length?Q:0),q.length-(1==M.length?Q:0));S>F&&j.charCodeAt(j.length-F-1)==q.charCodeAt(q.length-F-1);){++F}O[O.length-1]=j.slice(0,j.length-F),O[0]=O[0].slice(Q);var z=bB(T,Q),K=bB(R,M.length?hu(M).length-F:0);return O.length>1||O[0]||ak(z,K)?(hj(P.doc,O,z,K,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(f){this.cm.isReadOnly()?aK(this.cm,aY)(this.cm):f.data&&f.data!=f.startData&&aK(this.cm,gP)(this.cm,f.data,0,f.sel)},setUneditable:function(f){f.contentEditable="false"},onKeyPress:function(f){f.preventDefault(),this.cm.isReadOnly()||aK(this.cm,gP)(this.cm,String.fromCharCode(null==f.charCode?f.keyCode:f.charCode),0)},readOnlyChanged:function(f){this.div.contentEditable=String("nocursor"!=f)},onContextMenu:a3,resetPosition:a3,needsContentAttribute:!0},eJ.prototype),gF.inputStyles={textarea:dq,contenteditable:eJ},bc.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(h){if(h==this){return !0}if(h.primIndex!=this.primIndex||h.ranges.length!=this.ranges.length){return !1}for(var f=0;f<this.ranges.length;f++){var i=this.ranges[f],g=h.ranges[f];if(0!=ak(i.anchor,g.anchor)||0!=ak(i.head,g.head)){return !1}}return !0},deepCopy:function(){for(var g=[],f=0;f<this.ranges.length;f++){g[f]=new fw(hU(this.ranges[f].anchor),hU(this.ranges[f].head))}return new bc(g,this.primIndex)},somethingSelected:function(){for(var f=0;f<this.ranges.length;f++){if(!this.ranges[f].empty()){return !0}}return !1},contains:function(h,f){f||(f=h);for(var i=0;i<this.ranges.length;i++){var g=this.ranges[i];if(ak(f,g.from())>=0&&ak(h,g.to())<=0){return i}}return -1}},fw.prototype={from:function(){return hc(this.anchor,this.head)},to:function(){return gT(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var hC,ej,dm,cl={left:0,right:0,top:0,bottom:0},h6=null,b9=0,c6=0,cX=0,fW=null;ad?fW=-0.53:e4?fW=15:dT?fW=-0.7:fJ&&(fW=-1/3);var cu=function(g){var f=g.wheelDeltaX,h=g.wheelDeltaY;return null==f&&g.detail&&g.axis==g.HORIZONTAL_AXIS&&(f=g.detail),null==h&&g.detail&&g.axis==g.VERTICAL_AXIS?h=g.detail:null==h&&(h=g.wheelDelta),{x:f,y:h}};gF.wheelEventPixels=function(g){var f=cu(g);return f.x*=fW,f.y*=fW,f};var bN=new aP,gz=null,es=gF.changeEnd=function(f){return f.text?bB(f.from.line+f.text.length-1,hu(f.text).length+(1==f.text.length?f.from.ch:0)):f.to};gF.prototype={constructor:gF,focus:function(){window.focus(),this.display.input.focus()},setOption:function(h,f){var i=this.options,g=i[h];i[h]==f&&"mode"!=h||(i[h]=f,bA.hasOwnProperty(h)&&aK(this,bA[h])(this,f,g))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(g,f){this.state.keyMaps[f?"push":"unshift"](c7(g))},removeKeyMap:function(g){for(var f=this.state.keyMaps,h=0;h<f.length;++h){if(f[h]==g||f[h].name==g){return f.splice(h,1),!0}}},addOverlay:eS(function(f,h){var g=f.token?f:gF.getMode(this.options,f);if(g.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:g,modeSpec:f,opaque:h&&h.opaque}),this.state.modeGen++,aY(this)}),removeOverlay:eS(function(h){for(var f=this.state.overlays,i=0;i<f.length;++i){var g=f[i].modeSpec;if(g==h||"string"==typeof h&&g.name==h){return f.splice(i,1),this.state.modeGen++,void aY(this)}}}),indentLine:eS(function(g,f,h){"string"!=typeof f&&"number"!=typeof f&&(f=null==f?this.options.smartIndent?"smart":"prev":f?"add":"subtract"),aX(this.doc,g)&&ay(this,g,f,h)}),indentSelection:eS(function(m){for(var u=this.doc.sel.ranges,h=-1,f=0;f<u.length;f++){var k=u[f];if(k.empty()){k.head.line>h&&(ay(this,k.head.line,m,!0),h=k.head.line,f==this.doc.sel.primIndex&&bC(this))}else{var g=k.from(),q=k.to(),j=Math.max(h,g.line);h=Math.min(this.lastLine(),q.line-(q.ch?0:1))+1;for(var v=j;h>v;++v){ay(this,v,m)}var p=this.doc.sel.ranges;0==g.ch&&u.length==p.length&&p[f].from().ch>0&&d9(this.doc,f,new fw(g,p[f].to()),cO)}}}),getTokenAt:function(g,f){return g9(this,g,f)},getLineTokens:function(g,f){return g9(this,bB(g),f,!0)},getTokenTypeAt:function(m){m=dG(this.doc,m);var j,q=aZ(this,bL(this.doc,m.line)),k=0,h=(q.length-1)/2,p=m.ch;if(0==p){j=q[2]}else{for(;;){var g=k+h>>1;if((g?q[2*g-1]:0)>=p){h=g}else{if(!(q[2*g+1]<p)){j=q[2*g+2];break}k=g+1}}}var f=j?j.indexOf("cm-overlay "):-1;return 0>f?j:0==f?null:j.slice(0,f-1)},getModeAt:function(f){var g=this.doc.mode;return g.innerMode?gF.innerMode(g,this.getTokenAt(f).state).mode:g},getHelper:function(g,f){return this.getHelpers(g,f)[0]},getHelpers:function(m,j){var q=[];if(!dW.hasOwnProperty(j)){return q}var k=dW[j],h=this.getModeAt(m);if("string"==typeof h[j]){k[h[j]]&&q.push(k[h[j]])}else{if(h[j]){for(var p=0;p<h[j].length;p++){var g=k[h[j][p]];g&&q.push(g)}}else{h.helperType&&k[h.helperType]?q.push(k[h.helperType]):k[h.name]&&q.push(k[h.name])}}for(var p=0;p<k._global.length;p++){var f=k._global[p];f.pred(h,this)&&-1==eL(q,f.val)&&q.push(f.val)}return q},getStateAfter:function(g,f){var h=this.doc;return g=cK(h,null==g?h.first+h.size-1:g),ev(this,g+1,f)},cursorCoords:function(h,f){var i,g=this.doc.sel.primary();return i=null==h?g.head:"object"==typeof h?dG(this.doc,h):h?g.from():g.to(),fQ(this,i,f||"page")},charCoords:function(g,f){return eO(this,dG(this.doc,g),f||"page")},coordsChar:function(g,f){return g=fj(this,g,f||"page"),e2(this,g.left,g.top)},lineAtHeight:function(g,f){return g=fj(this,{top:g,left:0},f||"page").top,dk(this.doc,g+this.display.viewOffset)},heightAtLine:function(j,g){var k,h=!1;if("number"==typeof j){var f=this.doc.first+this.doc.size-1;j<this.doc.first?j=this.doc.first:j>f&&(j=f,h=!0),k=bL(this.doc,j)}else{k=j}return a5(this,k,{top:0,left:0},g||"page").top+(h?this.doc.height-b8(k):0)},defaultTextHeight:function(){return hW(this.display)},defaultCharWidth:function(){return ib(this.display)},setGutterMarker:eS(function(g,f,h){return hD(this.doc,g,"gutter",function(j){var i=j.gutterMarkers||(j.gutterMarkers={});return i[f]=h,!h&&aB(i)&&(j.gutterMarkers=null),!0})}),clearGutter:eS(function(h){var f=this,i=f.doc,g=i.first;i.iter(function(j){j.gutterMarkers&&j.gutterMarkers[h]&&(j.gutterMarkers[h]=null,hL(f,g,"gutter"),aB(j.gutterMarkers)&&(j.gutterMarkers=null)),++g})}),lineInfo:function(g){if("number"==typeof g){if(!aX(this.doc,g)){return null}var f=g;if(g=bL(this.doc,g),!g){return null}}else{var f=bw(g);if(null==f){return null}}return{line:f,handle:g,text:g.text,gutterMarkers:g.gutterMarkers,textClass:g.textClass,bgClass:g.bgClass,wrapClass:g.wrapClass,widgets:g.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(m,u,h,f,k){var g=this.display;m=fQ(this,dG(this.doc,m));var q=m.bottom,j=m.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),g.sizer.appendChild(u),"over"==f){q=m.top}else{if("above"==f||"near"==f){var v=Math.max(g.wrapper.clientHeight,this.doc.height),p=Math.max(g.sizer.clientWidth,g.lineSpace.clientWidth);("above"==f||m.bottom+u.offsetHeight>v)&&m.top>u.offsetHeight?q=m.top-u.offsetHeight:m.bottom+u.offsetHeight<=v&&(q=m.bottom),j+u.offsetWidth>p&&(j=p-u.offsetWidth)}}u.style.top=q+"px",u.style.left=u.style.right="","right"==k?(j=g.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):("left"==k?j=0:"middle"==k&&(j=(g.sizer.clientWidth-u.offsetWidth)/2),u.style.left=j+"px"),h&&a2(this,j,q,j+u.offsetWidth,q+u.offsetHeight)},triggerOnKeyDown:eS(eR),triggerOnKeyPress:eS(dA),triggerOnKeyUp:cE,execCommand:function(f){return bg.hasOwnProperty(f)?bg[f].call(null,this):void 0},triggerElectric:eS(function(f){g1(this,f)}),findPosH:function(k,h,m,j){var g=1;0>h&&(g=-1,h=-h);for(var l=0,f=dG(this.doc,k);h>l&&(f=dp(this.doc,f,g,m,j),!f.hitSide);++l){}return f},moveH:eS(function(g,f){var h=this;h.extendSelectionsBy(function(i){return h.display.shift||h.doc.extend||i.empty()?dp(h.doc,i.head,g,f,h.options.rtlMoveVisually):0>g?i.from():i.to()},aA)}),deleteH:eS(function(h,f){var i=this.doc.sel,g=this.doc;i.somethingSelected()?g.replaceSelection("",null,"+delete"):ek(this,function(k){var j=dp(g,k.head,h,f,!1);return 0>h?{from:j,to:k.head}:{from:k.head,to:j}})}),findPosV:function(m,q,h,f){var k=1,g=f;0>q&&(k=-1,q=-q);for(var p=0,j=dG(this.doc,m);q>p;++p){var u=fQ(this,j,"div");if(null==g?g=u.left:u.left=g,j=cm(this,u,k,h),j.hitSide){break}}return j},moveV:eS(function(k,h){var m=this,j=this.doc,g=[],l=!m.display.shift&&!j.extend&&j.sel.somethingSelected();if(j.extendSelectionsBy(function(n){if(l){return 0>k?n.from():n.to()}var i=fQ(m,n.head,"div");null!=n.goalColumn&&(i.left=n.goalColumn),g.push(i.left);var o=cm(m,i,k,h);return"page"==h&&n==j.sel.primary()&&cJ(m,null,eO(m,o,"div").top-i.top),o},aA),g.length){for(var f=0;f<j.sel.ranges.length;f++){j.sel.ranges[f].goalColumn=g[f]}}}),findWordAt:function(m){var j=this.doc,q=bL(j,m.line).text,k=m.ch,h=m.ch;if(q){var p=this.getHelper(m,"wordChars");(m.xRel<0||h==q.length)&&k?--k:++h;for(var g=q.charAt(k),f=aw(g,p)?function(i){return aw(i,p)}:/\s/.test(g)?function(i){return/\s/.test(i)}:function(i){return !/\s/.test(i)&&!aw(i)};k>0&&f(q.charAt(k-1));){--k}for(;h<q.length&&f(q.charAt(h));){++h}}return new fw(bB(m.line,k),bB(m.line,h))},toggleOverwrite:function(f){null!=f&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?gO(this.display.cursorDiv,"CodeMirror-overwrite"):bX(this.display.cursorDiv,"CodeMirror-overwrite"),eN(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==h8()},isReadOnly:function(){return !(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:eS(function(g,f){null==g&&null==f||am(this),null!=g&&(this.curOp.scrollLeft=g),null!=f&&(this.curOp.scrollTop=f)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-cg(this)-this.display.barHeight,width:f.scrollWidth-cg(this)-this.display.barWidth,clientHeight:c2(this),clientWidth:dg(this)}},scrollIntoView:eS(function(g,f){if(null==g?(g={from:this.doc.sel.primary().head,to:null},null==f&&(f=this.options.cursorScrollMargin)):"number"==typeof g?g={from:bB(g,0),to:null}:null==g.from&&(g={from:g,to:null}),g.to||(g.to=g.from),g.margin=f||0,null!=g.from.line){am(this),this.curOp.scrollToPos=g}else{var h=hQ(this,Math.min(g.from.left,g.to.left),Math.min(g.from.top,g.to.top)-g.margin,Math.max(g.from.right,g.to.right),Math.max(g.from.bottom,g.to.bottom)+g.margin);this.scrollTo(h.scrollLeft,h.scrollTop)}}),setSize:eS(function(j,g){function k(i){return"number"==typeof i||/^\d+$/.test(String(i))?i+"px":i}var h=this;null!=j&&(h.display.wrapper.style.width=k(j)),null!=g&&(h.display.wrapper.style.height=k(g)),h.options.lineWrapping&&hE(this);var f=h.display.viewFrom;h.doc.iter(f,h.display.viewTo,function(l){if(l.widgets){for(var i=0;i<l.widgets.length;i++){if(l.widgets[i].noHScroll){hL(h,f,"widget");break}}}++f}),h.curOp.forceUpdate=!0,eN(h,"refresh",this)}),operation:function(f){return bQ(this,f)},refresh:eS(function(){var f=this.display.cachedTextHeight;aY(this),this.curOp.forceUpdate=!0,dL(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),f8(this),(null==f||Math.abs(f-hW(this.display))>0.5)&&gL(this),eN(this,"refresh",this)}),swapDoc:eS(function(g){var f=this.doc;return f.cm=null,cq(this,g),dL(this),this.display.input.reset(),this.scrollTo(g.scrollLeft,g.scrollTop),this.curOp.forceScroll=!0,bk(this,"swapDoc",this,f),f}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},bY(gF);var fM=gF.defaults={},bA=gF.optionHandlers={},ds=gF.Init={toString:function(){return"CodeMirror.Init"}};h7("value","",function(g,f){g.setValue(f)},!0),h7("mode",null,function(g,f){g.doc.modeOption=f,gm(g)},!0),h7("indentUnit",2,gm,!0),h7("indentWithTabs",!1),h7("smartIndent",!0),h7("tabSize",4,function(f){gf(f),dL(f),aY(f)},!0),h7("lineSeparator",null,function(j,g){if(j.doc.lineSep=g,g){var k=[],h=j.doc.first;j.doc.iter(function(m){for(var l=0;;){var n=m.text.indexOf(g,l);if(-1==n){break}l=n+g.length,k.push(bB(h,n))}h++});for(var f=k.length-1;f>=0;f--){hj(j.doc,g,k[f],bB(k[f].line,k[f].ch+g.length))}}}),h7("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(f,h,g){f.state.specialChars=new RegExp(h.source+(h.test("	")?"":"|	"),"g"),g!=gF.Init&&f.refresh()}),h7("specialCharPlaceholder",ah,function(f){f.refresh()},!0),h7("electricChars",!0),h7("inputStyle",bU?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),h7("rtlMoveVisually",!hf),h7("wholeLineUpdateBefore",!0),h7("theme","default",function(f){gs(f),gc(f)},!0),h7("keyMap","default",function(g,k,h){var f=c7(k),j=h!=gF.Init&&c7(h);j&&j.detach&&j.detach(g,f),f.attach&&f.attach(g,j||null)}),h7("extraKeys",null),h7("lineWrapping",!1,gy,!0),h7("gutters",[],function(f){gG(f.options),gc(f)},!0),h7("fixedGutter",!0,function(g,f){g.display.gutters.style.left=f?hv(g.display)+"px":"0",g.refresh()},!0),h7("coverGutterNextToScrollbar",!1,function(f){f4(f)},!0),h7("scrollbarStyle","native",function(f){f7(f),f4(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),h7("lineNumbers",!1,function(f){gG(f.options),gc(f)},!0),h7("firstLineNumber",1,gc,!0),h7("lineNumberFormatter",function(f){return f},gc,!0),h7("showCursorWhenSelecting",!1,ed,!0),h7("resetSelectionOnContextMenu",!0),h7("lineWiseCopyCut",!0),h7("readOnly",!1,function(g,f){"nocursor"==f?(h0(g),g.display.input.blur(),g.display.disabled=!0):g.display.disabled=!1,g.display.input.readOnlyChanged(f)}),h7("disableInput",!1,function(g,f){f||g.display.input.reset()},!0),h7("dragDrop",!0,dh),h7("allowDropFileTypes",null),h7("cursorBlinkRate",530),h7("cursorScrollMargin",0),h7("cursorHeight",1,ed,!0),h7("singleCursorHeightPerLine",!0,ed,!0),h7("workTime",100),h7("workDelay",100),h7("flattenSpans",!0,gf,!0),h7("addModeClass",!1,gf,!0),h7("pollInterval",100),h7("undoDepth",200,function(g,f){g.doc.history.undoDepth=f}),h7("historyEventDelay",1250),h7("viewportMargin",10,function(f){f.refresh()},!0),h7("maxHighlightLength",10000,gf,!0),h7("moveInputWithCursor",!0,function(g,f){f||g.display.input.resetPosition()}),h7("tabindex",null,function(g,f){g.display.input.getField().tabIndex=f||""}),h7("autofocus",null);var cd=gF.modes={},eK=gF.mimeModes={};gF.defineMode=function(f,g){gF.defaults.mode||"null"==f||(gF.defaults.mode=f),arguments.length>2&&(g.dependencies=Array.prototype.slice.call(arguments,2)),cd[f]=g},gF.defineMIME=function(g,f){eK[g]=f},gF.resolveMode=function(f){if("string"==typeof f&&eK.hasOwnProperty(f)){f=eK[f]}else{if(f&&"string"==typeof f.name&&eK.hasOwnProperty(f.name)){var g=eK[f.name];"string"==typeof g&&(g={name:g}),f=hT(g,f),f.name=g.name}else{if("string"==typeof f&&/^[\w\-]+\/[\w\-]+\+xml$/.test(f)){return gF.resolveMode("application/xml")}}}return"string"==typeof f?{name:f}:f||{name:"null"}},gF.getMode=function(h,l){var l=gF.resolveMode(l),j=cd[l.name];if(!j){return gF.getMode(h,"text/plain")}var g=j(h,l);if(c0.hasOwnProperty(l.name)){var k=c0[l.name];for(var f in k){k.hasOwnProperty(f)&&(g.hasOwnProperty(f)&&(g["_"+f]=g[f]),g[f]=k[f])}}if(g.name=l.name,l.helperType&&(g.helperType=l.helperType),l.modeProps){for(var f in l.modeProps){g[f]=l.modeProps[f]}}return g},gF.defineMode("null",function(){return{token:function(f){f.skipToEnd()}}}),gF.defineMIME("text/plain","null");var c0=gF.modeExtensions={};gF.extendMode=function(g,f){var h=c0.hasOwnProperty(g)?c0[g]:c0[g]={};cM(f,h)},gF.defineExtension=function(f,g){gF.prototype[f]=g},gF.defineDocExtension=function(g,f){bq.prototype[g]=f},gF.defineOption=h7;var hS=[];gF.defineInitHook=function(f){hS.push(f)};var dW=gF.helpers={};gF.registerHelper=function(f,h,g){dW.hasOwnProperty(f)||(dW[f]=gF[f]={_global:[]}),dW[f][h]=g},gF.registerGlobalHelper=function(g,j,h,f){gF.registerHelper(g,j,f),dW[g]._global.push({pred:h,val:f})};var bS=gF.copyState=function(j,g){if(g===!0){return g}if(j.copyState){return j.copyState(g)}var k={};for(var h in g){var f=g[h];f instanceof Array&&(f=f.concat([])),k[h]=f}return k},gI=gF.startState=function(g,f,h){return g.startState?g.startState(f,h):!0};gF.innerMode=function(g,f){for(;g.innerMode;){var h=g.innerMode(f);if(!h||h.mode==g){break}f=h.state,g=h.mode}return h||{mode:g,state:f}};var bg=gF.commands={selectAll:function(f){f.setSelection(bB(f.firstLine(),0),bB(f.lastLine()),cO)},singleSelection:function(f){f.setSelection(f.getCursor("anchor"),f.getCursor("head"),cO)},killLine:function(f){ek(f,function(g){if(g.empty()){var h=bL(f.doc,g.head.line).text.length;return g.head.ch==h&&g.head.line<f.lastLine()?{from:g.head,to:bB(g.head.line+1,0)}:{from:g.head,to:bB(g.head.line,h)}}return{from:g.from(),to:g.to()}})},deleteLine:function(f){ek(f,function(g){return{from:bB(g.from().line,0),to:dG(f.doc,bB(g.to().line+1,0))}})},delLineLeft:function(f){ek(f,function(g){return{from:bB(g.from().line,0),to:g.from()}})},delWrappedLineLeft:function(f){ek(f,function(g){var i=f.charCoords(g.head,"div").top+5,h=f.coordsChar({left:0,top:i},"div");return{from:h,to:g.from()}})},delWrappedLineRight:function(f){ek(f,function(g){var i=f.charCoords(g.head,"div").top+5,h=f.coordsChar({left:f.display.lineDiv.offsetWidth+100,top:i},"div");return{from:g.from(),to:h}})},undo:function(f){f.undo()},redo:function(f){f.redo()},undoSelection:function(f){f.undoSelection()},redoSelection:function(f){f.redoSelection()},goDocStart:function(f){f.extendSelection(bB(f.firstLine(),0))},goDocEnd:function(f){f.extendSelection(bB(f.lastLine()))},goLineStart:function(f){f.extendSelectionsBy(function(g){return cR(f,g.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(f){f.extendSelectionsBy(function(g){return dN(f,g.head)},{origin:"+move",bias:1})},goLineEnd:function(f){f.extendSelectionsBy(function(g){return hH(f,g.head.line)},{origin:"+move",bias:-1})},goLineRight:function(f){f.extendSelectionsBy(function(g){var h=f.charCoords(g.head,"div").top+5;return f.coordsChar({left:f.display.lineDiv.offsetWidth+100,top:h},"div")},aA)},goLineLeft:function(f){f.extendSelectionsBy(function(g){var h=f.charCoords(g.head,"div").top+5;return f.coordsChar({left:0,top:h},"div")},aA)},goLineLeftSmart:function(f){f.extendSelectionsBy(function(g){var i=f.charCoords(g.head,"div").top+5,h=f.coordsChar({left:0,top:i},"div");return h.ch<f.getLine(h.line).search(/\S/)?dN(f,g.head):h},aA)},goLineUp:function(f){f.moveV(-1,"line")},goLineDown:function(f){f.moveV(1,"line")},goPageUp:function(f){f.moveV(-1,"page")},goPageDown:function(f){f.moveV(1,"page")},goCharLeft:function(f){f.moveH(-1,"char")},goCharRight:function(f){f.moveH(1,"char")},goColumnLeft:function(f){f.moveH(-1,"column")},goColumnRight:function(f){f.moveH(1,"column")},goWordLeft:function(f){f.moveH(-1,"word")},goGroupRight:function(f){f.moveH(1,"group")},goGroupLeft:function(f){f.moveH(-1,"group")},goWordRight:function(f){f.moveH(1,"word")},delCharBefore:function(f){f.deleteH(-1,"char")},delCharAfter:function(f){f.deleteH(1,"char")},delWordBefore:function(f){f.deleteH(-1,"word")},delWordAfter:function(f){f.deleteH(1,"word")},delGroupBefore:function(f){f.deleteH(-1,"group")},delGroupAfter:function(f){f.deleteH(1,"group")},indentAuto:function(f){f.indentSelection("smart")},indentMore:function(f){f.indentSelection("add")},indentLess:function(f){f.indentSelection("subtract")},insertTab:function(f){f.replaceSelection("	")},insertSoftTab:function(k){for(var h=[],m=k.listSelections(),j=k.options.tabSize,g=0;g<m.length;g++){var l=m[g].from(),f=aF(k.getLine(l.line),l.ch,j);h.push(eZ(j-f%j))}k.replaceSelections(h)},defaultTab:function(f){f.somethingSelected()?f.indentSelection("add"):f.execCommand("insertTab")},transposeChars:function(f){bQ(f,function(){for(var j=f.listSelections(),m=[],k=0;k<j.length;k++){var h=j[k].head,l=bL(f.doc,h.line).text;if(l){if(h.ch==l.length&&(h=new bB(h.line,h.ch-1)),h.ch>0){h=new bB(h.line,h.ch+1),f.replaceRange(l.charAt(h.ch-1)+l.charAt(h.ch-2),bB(h.line,h.ch-2),h,"+transpose")}else{if(h.line>f.doc.first){var g=bL(f.doc,h.line-1).text;g&&f.replaceRange(l.charAt(0)+f.doc.lineSeparator()+g.charAt(g.length-1),bB(h.line-1,g.length-1),bB(h.line,1),"+transpose")}}}m.push(new fw(h,h))}f.setSelections(m)})},newlineAndIndent:function(f){bQ(f,function(){for(var g=f.listSelections().length,i=0;g>i;i++){var h=f.listSelections()[i];f.replaceRange(f.doc.lineSeparator(),h.anchor,h.head,"+input"),f.indentLine(h.from().line+1,null,!0)}bC(f)})},openLine:function(f){f.replaceSelection("\n","start")},toggleOverwrite:function(f){f.toggleOverwrite()}},fx=gF.keyMap={};fx.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},fx.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},fx.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},fx.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},fx["default"]=aN?fx.macDefault:fx.pcDefault,gF.normalizeKeyMap=function(m){var u={};for(var h in m){if(m.hasOwnProperty(h)){var f=m[h];if(/^(name|fallthrough|(de|at)tach)$/.test(h)){continue}if("..."==f){delete m[h];continue}for(var k=ec(h.split(" "),cb),g=0;g<k.length;g++){var q,j;g==k.length-1?(j=k.join(" "),q=f):(j=k.slice(0,g+1).join(" "),q="...");var v=u[j];if(v){if(v!=q){throw new Error("Inconsistent bindings for "+j)}}else{u[j]=q}}delete m[h]}}for(var p in u){m[p]=u[p]}return m};var eY=gF.lookupKey=function(k,h,m,j){h=c7(h);var g=h.call?h.call(k,j):h[k];if(g===!1){return"nothing"}if("..."===g){return"multi"}if(null!=g&&m(g)){return"handled"}if(h.fallthrough){if("[object Array]"!=Object.prototype.toString.call(h.fallthrough)){return eY(k,h.fallthrough,m,j)}for(var l=0;l<h.fallthrough.length;l++){var f=eY(k,h.fallthrough[l],m,j);if(f){return f}}}},fZ=gF.isModifierKey=function(g){var f="string"==typeof g?g:cT[g.keyCode];return"Ctrl"==f||"Alt"==f||"Shift"==f||"Mod"==f},cL=gF.keyName=function(h,f){if(bh&&34==h.keyCode&&h["char"]){return !1}var i=cT[h.keyCode],g=i;return null==g||h.altGraphKey?!1:(h.altKey&&"Alt"!=i&&(g="Alt-"+g),(d7?h.metaKey:h.ctrlKey)&&"Ctrl"!=i&&(g="Ctrl-"+g),(d7?h.ctrlKey:h.metaKey)&&"Cmd"!=i&&(g="Cmd-"+g),!f&&h.shiftKey&&"Shift"!=i&&(g="Shift-"+g),g)};gF.fromTextArea=function(q,h){function f(){q.value=m.getValue()}if(h=h?cM(h):{},h.value=q.value,!h.tabindex&&q.tabIndex&&(h.tabindex=q.tabIndex),!h.placeholder&&q.placeholder&&(h.placeholder=q.placeholder),null==h.autofocus){var k=h8();h.autofocus=k==q||null!=q.getAttribute("autofocus")&&k==document.body}if(q.form&&(aT(q.form,"submit",f),!h.leaveSubmitMethodAlone)){var g=q.form,p=g.submit;try{var j=g.submit=function(){f(),g.submit=p,g.submit(),g.submit=j}}catch(u){}}h.finishInit=function(i){i.save=f,i.getTextArea=function(){return q},i.toTextArea=function(){i.toTextArea=isNaN,f(),q.parentNode.removeChild(i.getWrapperElement()),q.style.display="",q.form&&(hB(q.form,"submit",f),"function"==typeof q.form.submit&&(q.form.submit=p))}},q.style.display="none";var m=gF(function(i){q.parentNode.insertBefore(i,q.nextSibling)},h);return m};var dH=gF.StringStream=function(g,f){this.pos=this.start=0,this.string=g,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};dH.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(g){var f=this.string.charAt(this.pos);if("string"==typeof g){var h=f==g}else{var h=f&&(g.test?g.test(f):g(f))}return h?(++this.pos,f):void 0},eatWhile:function(g){for(var f=this.pos;this.eat(g);){}return this.pos>f},eatSpace:function(){for(var f=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));){++this.pos}return this.pos>f},skipToEnd:function(){this.pos=this.string.length},skipTo:function(g){var f=this.string.indexOf(g,this.pos);return f>-1?(this.pos=f,!0):void 0},backUp:function(f){this.pos-=f},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=aF(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?aF(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return aF(this.string,null,this.tabSize)-(this.lineStart?aF(this.string,this.lineStart,this.tabSize):0)},match:function(j,g,l){if("string"!=typeof j){var h=this.string.slice(this.pos).match(j);return h&&h.index>0?null:(h&&g!==!1&&(this.pos+=h[0].length),h)}var f=function(i){return l?i.toLowerCase():i},k=this.string.substr(this.pos,j.length);return f(k)==f(j)?(g!==!1&&(this.pos+=j.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(g,f){this.lineStart+=g;try{return f()}finally{this.lineStart-=g}}};var fd=0,a0=gF.TextMarker=function(g,f){this.lines=[],this.type=f,this.doc=g,this.id=++fd};bY(a0),a0.prototype.clear=function(){if(!this.explicitlyCleared){var m=this.doc.cm,u=m&&!m.curOp;if(u&&gU(m),ff(this,"clear")){var h=this.find();h&&bk(this,"clear",h.from,h.to)}for(var f=null,k=null,g=0;g<this.lines.length;++g){var q=this.lines[g],j=fC(q.markedSpans,this);m&&!this.collapsed?hL(m,bw(q),"text"):m&&(null!=j.to&&(k=bw(q)),null!=j.from&&(f=bw(q))),q.markedSpans=bp(q.markedSpans,j),null==j.from&&this.collapsed&&!d1(this.doc,q)&&m&&fI(q,hW(m.display))}if(m&&this.collapsed&&!m.options.lineWrapping){for(var g=0;g<this.lines.length;++g){var v=hX(this.lines[g]),p=gD(v);p>m.display.maxLineLength&&(m.display.maxLine=v,m.display.maxLineLength=p,m.display.maxLineChanged=!0)}}null!=f&&m&&this.collapsed&&aY(m,f,k+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,m&&bZ(m.doc)),m&&bk(m,"markerCleared",m,this),u&&d0(m),this.parent&&this.parent.clear()}},a0.prototype.find=function(k,h){null==k&&"bookmark"==this.type&&(k=1);for(var m,j,g=0;g<this.lines.length;++g){var l=this.lines[g],f=fC(l.markedSpans,this);if(null!=f.from&&(m=bB(h?l:bw(l),f.from),-1==k)){return m}if(null!=f.to&&(j=bB(h?l:bw(l),f.to),1==k)){return j}}return m&&{from:m,to:j}},a0.prototype.changed=function(){var g=this.find(-1,!0),f=this,h=this.doc.cm;g&&h&&bQ(h,function(){var n=g.line,m=bw(g.line),p=ey(h,m);if(p&&(cP(p),h.curOp.selectionChanged=h.curOp.forceUpdate=!0),h.curOp.updateMaxLine=!0,!d1(f.doc,n)&&null!=f.height){var k=f.height;f.height=null;var j=fH(f)-k;j&&fI(n,n.height+j)}})},a0.prototype.attachLine=function(g){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;f.maybeHiddenMarkers&&-1!=eL(f.maybeHiddenMarkers,this)||(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(g)},a0.prototype.detachLine=function(g){if(this.lines.splice(eL(this.lines,g),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}};var fd=0,h5=gF.SharedTextMarker=function(g,f){this.markers=g,this.primary=f;for(var h=0;h<g.length;++h){g[h].parent=this}};bY(h5),h5.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var f=0;f<this.markers.length;++f){this.markers[f].clear()}bk(this,"clear")}},h5.prototype.find=function(g,f){return this.primary.find(g,f)};var av=gF.LineWidget=function(h,f,i){if(i){for(var g in i){i.hasOwnProperty(g)&&(this[g]=i[g])}}this.doc=h,this.node=f};bY(av),av.prototype.clear=function(){var j=this.doc.cm,g=this.line.widgets,l=this.line,h=bw(l);if(null!=h&&g){for(var f=0;f<g.length;++f){g[f]==this&&g.splice(f--,1)}g.length||(l.widgets=null);var k=fH(this);fI(l,Math.max(0,l.height-k)),j&&bQ(j,function(){bf(j,l,-k),hL(j,h,"widget")})}},av.prototype.changed=function(){var h=this.height,f=this.doc.cm,i=this.line;this.height=null;var g=fH(this)-h;g&&(fI(i,i.height+g),f&&bQ(f,function(){f.curOp.forceUpdate=!0,bf(f,i,g)}))};var hs=gF.Line=function(g,f,h){this.text=g,a6(this,f),this.height=h?h(this):1};bY(hs),hs.prototype.lineNo=function(){return bw(this)};var aM={},eb={};c4.prototype={chunkSize:function(){return this.lines.length},removeInner:function(j,g){for(var k=j,h=j+g;h>k;++k){var f=this.lines[k];this.height-=f.height,e7(f),bk(f,"delete")}this.lines.splice(j,g)},collapse:function(f){f.push.apply(f,this.lines)},insertInner:function(h,f,i){this.height+=i,this.lines=this.lines.slice(0,h).concat(f).concat(this.lines.slice(h));for(var g=0;g<f.length;++g){f[g].parent=this}},iterN:function(h,f,i){for(var g=h+f;g>h;++h){if(i(this.lines[h])){return !0}}}},cV.prototype={chunkSize:function(){return this.size},removeInner:function(m,j){this.size-=j;for(var q=0;q<this.children.length;++q){var k=this.children[q],h=k.chunkSize();if(h>m){var p=Math.min(j,h-m),g=k.height;if(k.removeInner(m,p),this.height-=g-k.height,h==p&&(this.children.splice(q--,1),k.parent=null),0==(j-=p)){break}m=0}else{m-=h}}if(this.size-j<25&&(this.children.length>1||!(this.children[0] instanceof c4))){var f=[];this.collapse(f),this.children=[new c4(f)],this.children[0].parent=this}},collapse:function(g){for(var f=0;f<this.children.length;++f){this.children[f].collapse(g)}},insertInner:function(m,q,h){this.size+=q.length,this.height+=h;for(var f=0;f<this.children.length;++f){var k=this.children[f],g=k.chunkSize();if(g>=m){if(k.insertInner(m,q,h),k.lines&&k.lines.length>50){for(var p=k.lines.length%25+25,j=p;j<k.lines.length;){var u=new c4(k.lines.slice(j,j+=25));k.height-=u.height,this.children.splice(++f,0,u),u.parent=this}k.lines=k.lines.slice(0,p),this.maybeSpill()}break}m-=g}},maybeSpill:function(){if(!(this.children.length<=10)){var j=this;do{var g=j.children.splice(j.children.length-5,5),k=new cV(g);if(j.parent){j.size-=k.size,j.height-=k.height;var h=eL(j.parent.children,j);j.parent.children.splice(h+1,0,k)}else{var f=new cV(j.children);f.parent=j,j.children=[f,k],j=f}k.parent=j.parent}while(j.children.length>10);j.parent.maybeSpill()}},iterN:function(k,h,m){for(var j=0;j<this.children.length;++j){var g=this.children[j],l=g.chunkSize();if(l>k){var f=Math.min(h,l-k);if(g.iterN(k,f,m)){return !0}if(0==(h-=f)){break}k=0}else{k-=l}}}};var dZ=0,bq=gF.Doc=function(j,g,k,h){if(!(this instanceof bq)){return new bq(j,g,k,h)}null==k&&(k=0),cV.call(this,[new c4([new hs("",null)])]),this.first=k,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=k;var f=bB(k,0);this.sel=fY(f),this.history=new cW(null),this.id=++dZ,this.modeOption=g,this.lineSep=h,this.extend=!1,"string"==typeof j&&(j=this.splitLines(j)),b7(this,{from:f,to:f,text:j}),dJ(this,fY(f),cO)};bq.prototype=hT(cV.prototype,{constructor:bq,iter:function(g,f,h){h?this.iterN(g-this.first,f-g,h):this.iterN(this.first,this.first+this.size,g)},insert:function(h,f){for(var i=0,g=0;g<f.length;++g){i+=f[g].height}this.insertInner(h-this.first,f,i)},remove:function(g,f){this.removeInner(g-this.first,f)},getValue:function(g){var f=ep(this,this.first,this.first+this.size);return g===!1?f:f.join(g||this.lineSeparator())},setValue:g6(function(g){var f=bB(this.first,0),h=this.first+this.size-1;dF(this,{from:f,to:bB(h,bL(this,h).text.length),text:this.splitLines(g),origin:"setValue",full:!0},!0),dJ(this,fY(f))}),replaceRange:function(h,f,i,g){f=dG(this,f),i=i?dG(this,i):f,hj(this,h,f,i,g)},getRange:function(h,f,i){var g=gv(this,dG(this,h),dG(this,f));return i===!1?g:g.join(i||this.lineSeparator())},getLine:function(g){var f=this.getLineHandle(g);return f&&f.text},getLineHandle:function(f){return aX(this,f)?bL(this,f):void 0},getLineNumber:function(f){return bw(f)},getLineHandleVisualStart:function(f){return"number"==typeof f&&(f=bL(this,f)),hX(f)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(f){return dG(this,f)},getCursor:function(g){var f,h=this.sel.primary();return f=null==g||"head"==g?h.head:"anchor"==g?h.anchor:"end"==g||"to"==g||g===!1?h.to():h.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:g6(function(g,f,h){dY(this,dG(this,"number"==typeof g?bB(g,f||0):g),null,h)}),setSelection:g6(function(g,f,h){dY(this,dG(this,g),dG(this,f||g),h)}),extendSelection:g6(function(g,f,h){hl(this,dG(this,g),f&&dG(this,f),h)}),extendSelections:g6(function(g,f){aJ(this,h2(this,g),f)}),extendSelectionsBy:g6(function(g,f){var h=ec(this.sel.ranges,g);aJ(this,h2(this,h),f)}),setSelections:g6(function(j,g,k){if(j.length){for(var h=0,f=[];h<j.length;h++){f[h]=new fw(dG(this,j[h].anchor),dG(this,j[h].head))}null==g&&(g=Math.min(j.length-1,this.sel.primIndex)),dJ(this,eX(f,g),k)}}),addSelection:g6(function(h,f,i){var g=this.sel.ranges.slice(0);g.push(new fw(dG(this,h),dG(this,f||h))),dJ(this,eX(g,g.length-1),i)}),getSelection:function(j){for(var g,k=this.sel.ranges,h=0;h<k.length;h++){var f=gv(this,k[h].from(),k[h].to());g=g?g.concat(f):f}return j===!1?g:g.join(j||this.lineSeparator())},getSelections:function(j){for(var g=[],k=this.sel.ranges,h=0;h<k.length;h++){var f=gv(this,k[h].from(),k[h].to());j!==!1&&(f=f.join(j||this.lineSeparator())),g[h]=f}return g},replaceSelection:function(j,g,k){for(var h=[],f=0;f<this.sel.ranges.length;f++){h[f]=j}this.replaceSelections(h,g,k||"+input")},replaceSelections:g6(function(m,j,q){for(var k=[],h=this.sel,p=0;p<h.ranges.length;p++){var g=h.ranges[p];k[p]={from:g.from(),to:g.to(),text:this.splitLines(m[p]),origin:q}}for(var f=j&&"end"!=j&&bj(this,k,j),p=k.length-1;p>=0;p--){dF(this,k[p])}f?fO(this,f):this.cm&&bC(this.cm)}),undo:g6(function(){fb(this,"undo")}),redo:g6(function(){fb(this,"redo")}),undoSelection:g6(function(){fb(this,"undo",!0)}),redoSelection:g6(function(){fb(this,"redo",!0)}),setExtending:function(f){this.extend=f},getExtending:function(){return this.extend},historySize:function(){for(var h=this.history,f=0,i=0,g=0;g<h.done.length;g++){h.done[g].ranges||++f}for(var g=0;g<h.undone.length;g++){h.undone[g].ranges||++i}return{undo:f,redo:i}},clearHistory:function(){this.history=new cW(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(f){return f&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(f){return this.history.generation==(f||this.cleanGeneration)},getHistory:function(){return{done:e8(this.history.done),undone:e8(this.history.undone)}},setHistory:function(g){var f=this.history=new cW(this.history.maxGeneration);f.done=e8(g.done.slice(0),null,!0),f.undone=e8(g.undone.slice(0),null,!0)},addLineClass:g6(function(g,f,h){return hD(this,g,"gutter"==f?"gutter":"class",function(j){var i="text"==f?"textClass":"background"==f?"bgClass":"gutter"==f?"gutterClass":"wrapClass";if(j[i]){if(cf(h).test(j[i])){return !1}j[i]+=" "+h}else{j[i]=h}return !0})}),removeLineClass:g6(function(g,f,h){return hD(this,g,"gutter"==f?"gutter":"class",function(m){var l="text"==f?"textClass":"background"==f?"bgClass":"gutter"==f?"gutterClass":"wrapClass",k=m[l];if(!k){return !1}if(null==h){m[l]=null}else{var n=k.match(cf(h));if(!n){return !1}var j=n.index+n[0].length;m[l]=k.slice(0,n.index)+(n.index&&j!=k.length?" ":"")+k.slice(j)||null}return !0})}),addLineWidget:g6(function(g,f,h){return dC(this,g,f,h)}),removeLineWidget:function(f){f.clear()},markText:function(g,f,h){return cY(this,dG(this,g),dG(this,f),h,h&&h.type||"range")},setBookmark:function(g,f){var h={replacedWith:f&&(null==f.nodeType?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return g=dG(this,g),cY(this,g,g,h,"bookmark")},findMarksAt:function(j){j=dG(this,j);var g=[],k=bL(this,j.line).markedSpans;if(k){for(var h=0;h<k.length;++h){var f=k[h];(null==f.from||f.from<=j.ch)&&(null==f.to||f.to>=j.ch)&&g.push(f.marker.parent||f.marker)}}return g},findMarks:function(j,g,k){j=dG(this,j),g=dG(this,g);var h=[],f=j.line;return this.iter(j.line,g.line+1,function(p){var m=p.markedSpans;if(m){for(var i=0;i<m.length;i++){var n=m[i];null!=n.to&&f==j.line&&j.ch>=n.to||null==n.from&&f!=j.line||null!=n.from&&f==g.line&&n.from>=g.ch||k&&!k(n.marker)||h.push(n.marker.parent||n.marker)}}++f}),h},getAllMarks:function(){var f=[];return this.iter(function(g){var i=g.markedSpans;if(i){for(var h=0;h<i.length;++h){null!=i[h].from&&f.push(i[h].marker)}}}),f},posFromIndex:function(h){var f,i=this.first,g=this.lineSeparator().length;return this.iter(function(j){var k=j.text.length+g;return k>h?(f=h,!0):(h-=k,void ++i)}),dG(this,bB(i,f))},indexFromPos:function(g){g=dG(this,g);var f=g.ch;if(g.line<this.first||g.ch<0){return 0}var h=this.lineSeparator().length;return this.iter(this.first,g.line,function(i){f+=i.text.length+h}),f},copy:function(g){var f=new bq(ep(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,g&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(h){h||(h={});var f=this.first,i=this.first+this.size;null!=h.from&&h.from>f&&(f=h.from),null!=h.to&&h.to<i&&(i=h.to);var g=new bq(ep(this,f,i),h.mode||this.modeOption,f,this.lineSep);return h.sharedHist&&(g.history=this.history),(this.linked||(this.linked=[])).push({doc:g,sharedHist:h.sharedHist}),g.linked=[{doc:this,isParent:!0,sharedHist:h.sharedHist}],bO(g,cv(this)),g},unlinkDoc:function(g){if(g instanceof gF&&(g=g.doc),this.linked){for(var j=0;j<this.linked.length;++j){var h=this.linked[j];if(h.doc==g){this.linked.splice(j,1),g.unlinkDoc(this),gC(cv(this));break}}}if(g.history==this.history){var f=[g.id];fU(g,function(i){f.push(i.id)},!0),g.history=new cW(null),g.history.done=e8(this.history.done,f),g.history.undone=e8(this.history.undone,f)}},iterLinkedDocs:function(f){fU(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(f){return this.lineSep?f.split(this.lineSep):bv(f)},lineSeparator:function(){return this.lineSep||"\n"}}),bq.prototype.eachLine=bq.prototype.iter;var fP="iter insert remove copy getEditor constructor".split(" ");for(var dK in bq.prototype){bq.prototype.hasOwnProperty(dK)&&eL(fP,dK)<0&&(gF.prototype[dK]=function(f){return function(){return f.apply(this.doc,arguments)}}(bq.prototype[dK]))}bY(bq);var fA=gF.e_preventDefault=function(f){f.preventDefault?f.preventDefault():f.returnValue=!1},fh=gF.e_stopPropagation=function(f){f.stopPropagation?f.stopPropagation():f.cancelBubble=!0},b2=gF.e_stop=function(f){fA(f),fh(f)},aT=gF.on=function(j,g,k){if(j.addEventListener){j.addEventListener(g,k,!1)}else{if(j.attachEvent){j.attachEvent("on"+g,k)}else{var h=j._handlers||(j._handlers={}),f=h[g]||(h[g]=[]);f.push(k)}}},e1=[],hB=gF.off=function(j,g,k){if(j.removeEventListener){j.removeEventListener(g,k,!1)}else{if(j.detachEvent){j.detachEvent("on"+g,k)}else{for(var h=dX(j,g,!1),f=0;f<h.length;++f){if(h[f]==k){h.splice(f,1);break}}}}},eN=gF.signal=function(j,g){var k=dX(j,g,!0);if(k.length){for(var h=Array.prototype.slice.call(arguments,2),f=0;f<k.length;++f){k[f].apply(null,h)}}},ef=null,a7=30,hY=gF.Pass={toString:function(){return"CodeMirror.Pass"}},cO={scroll:!1},bH={origin:"*mouse"},aA={origin:"+move"};aP.prototype.set=function(g,f){clearTimeout(this.id),this.id=setTimeout(f,g)};var aF=gF.countColumn=function(m,j,q,k,h){null==j&&(j=m.search(/[^\s\u00a0]/),-1==j&&(j=m.length));for(var p=k||0,g=h||0;;){var f=m.indexOf("	",p);if(0>f||f>=j){return g+(j-p)}g+=f-p,g+=q-g%q,p=f+1}},hN=gF.findColumn=function(k,h,m){for(var j=0,g=0;;){var l=k.indexOf("	",j);-1==l&&(l=k.length);var f=l-j;if(l==k.length||g+f>=h){return j+Math.min(f,h-g)}if(g+=l-j,g+=m-g%m,j=l+1,g>=h){return j}}},ew=[""],dw=function(f){f.select()};e9?dw=function(f){f.selectionStart=0,f.selectionEnd=f.value.length}:ad&&(dw=function(g){try{g.select()}catch(f){}});var cx,ac=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ch=gF.isWordChar=function(f){return/\w/.test(f)||f>""&&(f.toUpperCase()!=f.toLowerCase()||ac.test(f))},dl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;cx=document.createRange?function(j,g,k,h){var f=document.createRange();return f.setEnd(h||j,k),f.setStart(j,g),f}:function(j,g,k){var h=document.body.createTextRange();try{h.moveToElementText(j.parentNode)}catch(f){return h}return h.collapse(!0),h.moveEnd("character",k),h.moveStart("character",g),h};var c5=gF.contains=function(g,f){if(3==f.nodeType&&(f=f.parentNode),g.contains){return g.contains(f)}do{if(11==f.nodeType&&(f=f.host),f==g){return !0}}while(f=f.parentNode)};ad&&11>g0&&(h8=function(){try{return document.activeElement}catch(f){return document.body}});var f3,cA,bX=gF.rmClass=function(j,g){var k=j.className,h=cf(g).exec(k);if(h){var f=k.slice(h.index+h[0].length);j.className=k.slice(0,h.index)+(f?h[1]+f:"")}},gO=gF.addClass=function(g,f){var h=g.className;cf(f).test(h)||(g.className+=(h?" ":"")+f)},ez=!1,fF=function(){if(ad&&9>g0){return !1}var f=eq("div");return"draggable" in f||"dragDrop" in f}(),bv=gF.splitLines=3!="\n\nb".split(/\n/).length?function(k){for(var h=0,m=[],j=k.length;j>=h;){var g=k.indexOf("\n",h);-1==g&&(g=k.length);var l=k.slice(h,"\r"==k.charAt(g-1)?g-1:g),f=l.indexOf("\r");-1!=f?(m.push(l.slice(0,f)),h+=f+1):(m.push(l),h=g+1)}return m}:function(f){return f.split(/\r\n?|\n/)},df=window.getSelection?function(g){try{return g.selectionStart!=g.selectionEnd}catch(f){return !1}}:function(g){try{var f=g.ownerDocument.selection.createRange()}catch(h){}return f&&f.parentElement()==g?0!=f.compareEndPoints("StartToEnd",f):!1},b5=function(){var f=eq("div");return"oncopy" in f?!0:(f.setAttribute("oncopy","return;"),"function"==typeof f.oncopy)}(),eD=null,cT=gF.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var f=0;10>f;f++){cT[f+48]=cT[f+96]=String(f)}for(var f=65;90>=f;f++){cT[f]=String.fromCharCode(f)}for(var f=1;12>=f;f++){cT[f+111]=cT[f+63235]="F"+f}}();var hK,dP=function(){function m(i){return 247>=i?h.charAt(i):i>=1424&&1524>=i?"R":i>=1536&&1773>=i?f.charAt(i-1536):i>=1774&&2220>=i?"r":i>=8192&&8203>=i?"w":8204==i?"b":"L"}function u(l,i,o){this.level=l,this.from=i,this.to=o}var h="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",k=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,q=/[LRr]/,j=/[Lb1n]/,v=/[1n]/,p="L";return function(F){if(!k.test(F)){return !1}for(var D,A=F.length,K=[],I=0;A>I;++I){K.push(D=m(F.charCodeAt(I)))}for(var I=0,M=p;A>I;++I){var D=K[I];"m"==D?K[I]=M:M=D}for(var I=0,E=p;A>I;++I){var D=K[I];"1"==D&&"r"==E?K[I]="n":q.test(D)&&(E=D,"r"==D&&(K[I]="R"))}for(var I=1,M=K[0];A-1>I;++I){var D=K[I];"+"==D&&"1"==M&&"1"==K[I+1]?K[I]="1":","!=D||M!=K[I+1]||"1"!=M&&"n"!=M||(K[I]=M),M=D}for(var I=0;A>I;++I){var D=K[I];if(","==D){K[I]="N"}else{if("%"==D){for(var G=I+1;A>G&&"%"==K[G];++G){}for(var J=I&&"!"==K[I-1]||A>G&&"1"==K[G]?"1":"N",z=I;G>z;++z){K[z]=J}I=G-1}}}for(var I=0,E=p;A>I;++I){var D=K[I];"L"==E&&"1"==D?K[I]="L":q.test(D)&&(E=D)}for(var I=0;A>I;++I){if(g.test(K[I])){for(var G=I+1;A>G&&g.test(K[G]);++G){}for(var o="L"==(I?K[I-1]:p),s="L"==(A>G?K[G]:p),J=o||s?"L":"R",z=I;G>z;++z){K[z]=J}I=G-1}}for(var N,t=[],I=0;A>I;){if(j.test(K[I])){var H=I;for(++I;A>I&&j.test(K[I]);++I){}t.push(new u(0,H,I))}else{var i=I,B=t.length;for(++I;A>I&&"L"!=K[I];++I){}for(var z=i;I>z;){if(v.test(K[z])){z>i&&t.splice(B,0,new u(1,i,z));var l=z;for(++z;I>z&&v.test(K[z]);++z){}t.splice(B,0,new u(2,l,z)),i=z}else{++z}}I>i&&t.splice(B,0,new u(1,i,I))}}return 1==t[0].level&&(N=F.match(/^\s+/))&&(t[0].from=N[0].length,t.unshift(new u(0,0,N[0].length))),1==hu(t).level&&(N=F.match(/\s+$/))&&(hu(t).to-=N[0].length,t.push(new u(0,A-N[0].length,A))),2==t[0].level&&t.unshift(new u(1,t[0].to,t[0].to)),t[0].level!=hu(t).level&&t.push(new u(t[0].level,A,A)),t}}();return gF.version="5.15.2",gF})},{}],11:[function(c,e,d){!function(f){"object"==typeof d&&"object"==typeof e?f(c("../../lib/codemirror"),c("../markdown/markdown"),c("../../addon/mode/overlay")):"function"==typeof b&&b.amd?b(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],f):f(CodeMirror)}(function(g){var f=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;g.defineMode("gfm",function(t,p){function k(i){return i.code=!1,null}var q=0,j={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(i){return{code:i.code,codeBlock:i.codeBlock,ateSpace:i.ateSpace}},token:function(r,s){if(s.combineTokens=null,s.codeBlock){return r.match(/^```+/)?(s.codeBlock=!1,null):(r.skipToEnd(),null)}if(r.sol()&&(s.code=!1),r.sol()&&r.match(/^```+/)){return r.skipToEnd(),s.codeBlock=!0,null}if("`"===r.peek()){r.next();var o=r.pos;r.eatWhile("`");var l=1+r.pos-o;return s.code?l===q&&(s.code=!1):(q=l,s.code=!0),null}if(s.code){return r.next(),null}if(r.eatSpace()){return s.ateSpace=!0,null}if((r.sol()||s.ateSpace)&&(s.ateSpace=!1,p.gitHubSpice!==!1)){if(r.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/)){return s.combineTokens=!0,"link"}if(r.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)){return s.combineTokens=!0,"link"}}return r.match(f)&&"]("!=r.string.slice(r.start-2,r.start)&&(0==r.start||/\W/.test(r.string.charAt(r.start-1)))?(s.combineTokens=!0,"link"):(r.next(),null)},blankLine:k},h={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var m in p){h[m]=p[m]}return h.name="markdown",g.overlayMode(g.getMode(t,h),j)},"markdown"),g.defineMIME("text/x-gfm","gfm")})},{"../../addon/mode/overlay":8,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(c,e,d){!function(f){"object"==typeof d&&"object"==typeof e?f(c("../../lib/codemirror"),c("../xml/xml"),c("../meta")):"function"==typeof b&&b.amd?b(["../../lib/codemirror","../xml/xml","../meta"],f):f(CodeMirror)}(function(f){f.defineMode("markdown",function(Y,af){function ab(k){if(f.findModeByName){var h=f.findModeByName(k);h&&(k=h.mime||h.mimes[0])}var g=f.getMode(Y,k);return"null"==g.name?null:g}function aj(h,g,i){return g.f=g.inline=i,i(h,g)}function ae(h,g,i){return g.f=g.block=i,i(h,g)}function aq(g){return !g||!/\S/.test(g.string)}function ah(g){return g.linkTitle=!1,g.em=!1,g.strong=!1,g.strikethrough=!1,g.quote=0,g.indentedCode=!1,ai&&g.f==ao&&(g.f=ad,g.block=Z),g.trailingSpace=0,g.trailingSpaceNewLine=!1,g.prevLine=g.thisLine,g.thisLine=null,null}function Z(h,n){var g=h.sol(),i=n.list!==!1,p=n.indentedCode;n.indentedCode=!1,i&&(n.indentationDiff>=0?(n.indentationDiff<4&&(n.indentation-=n.indentationDiff),n.list=null):n.indentation>0?n.list=null:n.list=!1);var k=null;if(n.indentationDiff>=4){return h.skipToEnd(),p||aq(n.prevLine)?(n.indentation-=4,n.indentedCode=!0,q.code):null}if(h.eatSpace()){return null}if((k=h.match(ac))&&k[1].length<=6){return n.header=k[1].length,af.highlightFormatting&&(n.formatting="header"),n.f=n.inline,ak(n)}if(!(aq(n.prevLine)||n.quote||i||p)&&(k=h.match(X))){return n.header="="==k[0].charAt(0)?1:2,af.highlightFormatting&&(n.formatting="header"),n.f=n.inline,ak(n)}if(h.eat(">")){return n.quote=g?1:n.quote+1,af.highlightFormatting&&(n.formatting="quote"),h.eatSpace(),ak(n)}if("["===h.peek()){return aj(h,n,J)}if(h.match(H,!0)){return n.hr=!0,q.hr}if((aq(n.prevLine)||i)&&(h.match(j,!1)||h.match(G,!1))){var m=null;for(h.match(j,!0)?m="ul":(h.match(G,!0),m="ol"),n.indentation=h.column()+h.current().length,n.list=!0;n.listStack&&h.column()<n.listStack[n.listStack.length-1];){n.listStack.pop()}return n.listStack.push(n.indentation),af.taskLists&&h.match(F,!1)&&(n.taskList=!0),n.f=n.inline,af.highlightFormatting&&(n.formatting=["list","list-"+m]),ak(n)}return af.fencedCodeBlocks&&(k=h.match(K,!0))?(n.fencedChars=k[1],n.localMode=ab(k[2]),n.localMode&&(n.localState=f.startState(n.localMode)),n.f=n.block=W,af.highlightFormatting&&(n.formatting="code-block"),n.code=-1,ak(n)):aj(h,n,n.inline)}function ao(h,l){var k=U.token(h,l.htmlState);if(!ai){var g=f.innerMode(U,l.htmlState);("xml"==g.mode.name&&null===g.state.tagStart&&!g.state.context&&g.state.tokenize.isInText||l.md_inside&&h.current().indexOf(">")>-1)&&(l.f=ad,l.block=Z,l.htmlState=null)}return k}function W(h,g){return g.fencedChars&&h.match(g.fencedChars,!1)?(g.localMode=g.localState=null,g.f=g.block=am,null):g.localMode?g.localMode.token(h,g.localState):(h.skipToEnd(),q.code)}function am(i,g){i.match(g.fencedChars),g.block=Z,g.f=ad,g.fencedChars=null,af.highlightFormatting&&(g.formatting="code-block"),g.code=1;var h=ak(g);return g.code=0,h}function ak(l){var h=[];if(l.formatting){h.push(q.formatting),"string"==typeof l.formatting&&(l.formatting=[l.formatting]);for(var k=0;k<l.formatting.length;k++){h.push(q.formatting+"-"+l.formatting[k]),"header"===l.formatting[k]&&h.push(q.formatting+"-"+l.formatting[k]+"-"+l.header),"quote"===l.formatting[k]&&(!af.maxBlockquoteDepth||af.maxBlockquoteDepth>=l.quote?h.push(q.formatting+"-"+l.formatting[k]+"-"+l.quote):h.push("error"))}}if(l.taskOpen){return h.push("meta"),h.length?h.join(" "):null}if(l.taskClosed){return h.push("property"),h.length?h.join(" "):null}if(l.linkHref?h.push(q.linkHref,"url"):(l.strong&&h.push(q.strong),l.em&&h.push(q.em),l.strikethrough&&h.push(q.strikethrough),l.linkText&&h.push(q.linkText),l.code&&h.push(q.code)),l.header&&h.push(q.header,q.header+"-"+l.header),l.quote&&(h.push(q.quote),!af.maxBlockquoteDepth||af.maxBlockquoteDepth>=l.quote?h.push(q.quote+"-"+l.quote):h.push(q.quote+"-"+af.maxBlockquoteDepth)),l.list!==!1){var g=(l.listStack.length-1)%3;g?1===g?h.push(q.list2):h.push(q.list3):h.push(q.list1)}return l.trailingSpaceNewLine?h.push("trailing-space-new-line"):l.trailingSpace&&h.push("trailing-space-"+(l.trailingSpace%2?"a":"b")),h.length?h.join(" "):null}function an(h,g){return h.match(D,!0)?ak(g):void 0}function ad(A,M){var R=M.text(A,M);if("undefined"!=typeof R){return R}if(M.list){return M.list=null,ak(M)}if(M.taskList){var au="x"!==A.match(F,!0)[1];return au?M.taskOpen=!0:M.taskClosed=!0,af.highlightFormatting&&(M.formatting="task"),M.taskList=!1,ak(M)}if(M.taskOpen=!1,M.taskClosed=!1,M.header&&A.match(/^#+$/,!0)){return af.highlightFormatting&&(M.formatting="header"),ak(M)}var O=A.sol(),E=A.next();if(M.linkTitle){M.linkTitle=!1;var w=E;"("===E&&(w=")"),w=(w+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var S="^\\s*(?:[^"+w+"\\\\]+|\\\\\\\\|\\\\.)"+w;if(A.match(new RegExp(S),!0)){return q.linkHref}}if("`"===E){var ar=M.formatting;af.highlightFormatting&&(M.formatting="code"),A.eatWhile("`");var N=A.current().length;if(0==M.code){return M.code=N,ak(M)}if(N==M.code){var o=ak(M);return M.code=0,o}return M.formatting=ar,ak(M)}if(M.code){return ak(M)}if("\\"===E&&(A.next(),af.highlightFormatting)){var m=ak(M),n=q.formatting+"-escape";return m?m+" "+n:n}if("!"===E&&A.match(/\[[^\]]*\] ?(?:\(|\[)/,!1)){return A.match(/\[[^\]]*\]/),M.inline=M.f=al,q.image}if("["===E&&A.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1)){return M.linkText=!0,af.highlightFormatting&&(M.formatting="link"),ak(M)}if("]"===E&&M.linkText&&A.match(/\(.*?\)| ?\[.*?\]/,!1)){af.highlightFormatting&&(M.formatting="link");var m=ak(M);return M.linkText=!1,M.inline=M.f=al,m}if("<"===E&&A.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){M.f=M.inline=ag,af.highlightFormatting&&(M.formatting="link");var m=ak(M);return m?m+=" ":m="",m+q.linkInline}if("<"===E&&A.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){M.f=M.inline=ag,af.highlightFormatting&&(M.formatting="link");var m=ak(M);return m?m+=" ":m="",m+q.linkEmail}if("<"===E&&A.match(/^(!--|\w)/,!1)){var at=A.string.indexOf(">",A.pos);if(-1!=at){var P=A.string.substring(A.start,at);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(P)&&(M.md_inside=!0)}return A.backUp(1),M.htmlState=f.startState(U),ae(A,M,ao)}if("<"===E&&A.match(/^\/\w*?>/)){return M.md_inside=!1,"tag"}var I=!1;if(!af.underscoresBreakWords&&"_"===E&&"_"!==A.peek()&&A.match(/(\w)/,!1)){var h=A.pos-2;if(h>=0){var g=A.string.charAt(h);"_"!==g&&g.match(/(\w)/,!1)&&(I=!0)}}if("*"===E||"_"===E&&!I){if(O&&" "===A.peek()){}else{if(M.strong===E&&A.eat(E)){af.highlightFormatting&&(M.formatting="strong");var o=ak(M);return M.strong=!1,o}if(!M.strong&&A.eat(E)){return M.strong=E,af.highlightFormatting&&(M.formatting="strong"),ak(M)}if(M.em===E){af.highlightFormatting&&(M.formatting="em");var o=ak(M);return M.em=!1,o}if(!M.em){return M.em=E,af.highlightFormatting&&(M.formatting="em"),ak(M)}}}else{if(" "===E&&(A.eat("*")||A.eat("_"))){if(" "===A.peek()){return ak(M)}A.backUp(1)}}if(af.strikethrough){if("~"===E&&A.eatWhile(E)){if(M.strikethrough){af.highlightFormatting&&(M.formatting="strikethrough");var o=ak(M);return M.strikethrough=!1,o}if(A.match(/^[^\s]/,!1)){return M.strikethrough=!0,af.highlightFormatting&&(M.formatting="strikethrough"),ak(M)}}else{if(" "===E&&A.match(/^~~/,!0)){if(" "===A.peek()){return ak(M)}A.backUp(2)}}}return" "===E&&(A.match(/ +$/,!1)?M.trailingSpace++:M.trailingSpace&&(M.trailingSpaceNewLine=!0)),ak(M)}function ag(l,h){var k=l.next();if(">"===k){h.f=h.inline=ad,af.highlightFormatting&&(h.formatting="link");var g=ak(h);return g?g+=" ":g="",g+q.linkInline}return l.match(/^[^>]+/,!0),q.linkInline}function al(i,g){if(i.eatSpace()){return null}var h=i.next();return"("===h||"["===h?(g.f=g.inline=V("("===h?")":"]",0),af.highlightFormatting&&(g.formatting="link-string"),g.linkHref=!0,ak(g)):"error"}function V(g){return function(k,l){var h=k.next();if(h===g){l.f=l.inline=ad,af.highlightFormatting&&(l.formatting="link-string");var m=ak(l);return l.linkHref=!1,m}return k.match(B[g]),l.linkHref=!0,ak(l)}}function J(h,g){return h.match(/^([^\]\\]|\\.)*\]:/,!1)?(g.f=Q,h.next(),af.highlightFormatting&&(g.formatting="link"),g.linkText=!0,ak(g)):aj(h,g,ad)}function Q(i,g){if(i.match(/^\]:/,!0)){g.f=g.inline=ap,af.highlightFormatting&&(g.formatting="link");var h=ak(g);return g.linkText=!1,h}return i.match(/^([^\]\\]|\\.)+/,!0),q.linkText}function ap(h,g){return h.eatSpace()?null:(h.match(/^[^\s]+/,!0),void 0===h.peek()?g.linkTitle=!0:h.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),g.f=g.inline=ad,q.linkHref+" url")}var U=f.getMode(Y,"text/html"),ai="null"==U.name;void 0===af.highlightFormatting&&(af.highlightFormatting=!1),void 0===af.maxBlockquoteDepth&&(af.maxBlockquoteDepth=0),void 0===af.underscoresBreakWords&&(af.underscoresBreakWords=!0),void 0===af.taskLists&&(af.taskLists=!1),void 0===af.strikethrough&&(af.strikethrough=!1),void 0===af.tokenTypeOverrides&&(af.tokenTypeOverrides={});var q={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var aa in q){q.hasOwnProperty(aa)&&af.tokenTypeOverrides[aa]&&(q[aa]=af.tokenTypeOverrides[aa])}var H=/^([*\-_])(?:\s*\1){2,}\s*$/,j=/^[*\-+]\s+/,G=/^[0-9]+([.)])\s+/,F=/^\[(x| )\](?=\s)/,ac=af.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,X=/^ *(?:\={1,}|-{1,})\s*$/,D=/^[^#!\[\]*_\\<>` "'(~]+/,K=new RegExp("^("+(af.fencedCodeBlocks===!0?"~~~+|```+":af.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),B={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},z={startState:function(){return{f:Z,prevLine:null,thisLine:null,block:Z,htmlState:null,indentation:0,inline:ad,text:an,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(g){return{f:g.f,prevLine:g.prevLine,thisLine:g.thisLine,block:g.block,htmlState:g.htmlState&&f.copyState(U,g.htmlState),indentation:g.indentation,localMode:g.localMode,localState:g.localMode?f.copyState(g.localMode,g.localState):null,inline:g.inline,text:g.text,formatting:!1,linkTitle:g.linkTitle,code:g.code,em:g.em,strong:g.strong,strikethrough:g.strikethrough,header:g.header,hr:g.hr,taskList:g.taskList,list:g.list,listStack:g.listStack.slice(0),quote:g.quote,indentedCode:g.indentedCode,trailingSpace:g.trailingSpace,trailingSpaceNewLine:g.trailingSpaceNewLine,md_inside:g.md_inside,fencedChars:g.fencedChars}},token:function(i,g){if(g.formatting=!1,i!=g.thisLine){var k=g.header||g.hr;if(g.header=0,g.hr=!1,i.match(/^\s*$/,!0)||k){if(ah(g),!k){return null}g.prevLine=null}g.prevLine=g.thisLine,g.thisLine=i,g.taskList=!1,g.trailingSpace=0,g.trailingSpaceNewLine=!1,g.f=g.block;var h=i.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(g.indentationDiff=Math.min(h-g.indentation,4),g.indentation=g.indentation+g.indentationDiff,h>0){return null}}return g.f(i,g)},innerMode:function(g){return g.block==ao?{state:g.htmlState,mode:U}:g.localState?{state:g.localState,mode:g.localMode}:{state:g,mode:z}},blankLine:ah,getType:ak,fold:"markdown"};return z},"xml"),f.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(c,e,d){!function(f){"object"==typeof d&&"object"==typeof e?f(c("../lib/codemirror")):"function"==typeof b&&b.amd?b(["../lib/codemirror"],f):f(CodeMirror)}(function(g){g.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var f=0;f<g.modeInfo.length;f++){var h=g.modeInfo[f];h.mimes&&(h.mime=h.mimes[0])}g.findModeByMIME=function(k){k=k.toLowerCase();for(var m=0;m<g.modeInfo.length;m++){var l=g.modeInfo[m];if(l.mime==k){return l}if(l.mimes){for(var j=0;j<l.mimes.length;j++){if(l.mimes[j]==k){return l}}}}},g.findModeByExtension=function(k){for(var m=0;m<g.modeInfo.length;m++){var l=g.modeInfo[m];if(l.ext){for(var j=0;j<l.ext.length;j++){if(l.ext[j]==k){return l}}}}},g.findModeByFileName=function(k){for(var p=0;p<g.modeInfo.length;p++){var l=g.modeInfo[p];if(l.file&&l.file.test(k)){return l}}var j=k.lastIndexOf("."),m=j>-1&&k.substring(j+1,k.length);return m?g.findModeByExtension(m):void 0},g.findModeByName=function(k){k=k.toLowerCase();for(var m=0;m<g.modeInfo.length;m++){var l=g.modeInfo[m];if(l.name.toLowerCase()==k){return l}if(l.alias){for(var j=0;j<l.alias.length;j++){if(l.alias[j].toLowerCase()==k){return l}}}}}})},{"../lib/codemirror":10}],14:[function(c,e,d){!function(f){"object"==typeof d&&"object"==typeof e?f(c("../../lib/codemirror")):"function"==typeof b&&b.amd?b(["../../lib/codemirror"],f):f(CodeMirror)}(function(g){var f={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},h={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};g.defineMode("xml",function(H,P){function J(o,l){function p(i){return l.tokenize=i,i(o,l)}var m=o.next();if("<"==m){return o.eat("!")?o.eat("[")?o.match("CDATA[")?p(F("atom","]]>")):null:o.match("--")?p(F("comment","-->")):o.match("DOCTYPE",!0,!0)?(o.eatWhile(/[\w\._\-]/),p(W(1))):null:o.eat("?")?(o.eatWhile(/[\w\._\-]/),l.tokenize=F("meta","?>"),"meta"):(j=o.eat("/")?"closeTag":"openTag",l.tokenize=Y,"tag bracket")}if("&"==m){var k;return k=o.eat("#")?o.eat("x")?o.eatWhile(/[a-fA-F\d]/)&&o.eat(";"):o.eatWhile(/[\d]/)&&o.eat(";"):o.eatWhile(/[\w\.\-:]/)&&o.eat(";"),k?"atom":"error"}return o.eatWhile(/[^&<]/),null}function Y(l,i){var m=l.next();if(">"==m||"/"==m&&l.eat(">")){return i.tokenize=J,j=">"==m?"endTag":"selfcloseTag","tag bracket"}if("="==m){return j="equals",null}if("<"==m){i.tokenize=J,i.state=V,i.tagName=i.tagStart=null;var k=i.tokenize(l,i);return k?k+" tag error":"tag error"}return/[\'\"]/.test(m)?(i.tokenize=N(m),i.stringStartCol=l.column(),i.tokenize(l,i)):(l.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function N(k){var i=function(l,m){for(;!l.eol();){if(l.next()==k){m.tokenize=Y;break}}return"string"};return i.isInAttribute=!0,i}function F(k,i){return function(m,l){for(;!m.eol();){if(m.match(i)){l.tokenize=J;break}m.next()}return k}}function W(i){return function(k,m){for(var l;null!=(l=k.next());){if("<"==l){return m.tokenize=W(i+1),m.tokenize(k,m)}if(">"==l){if(1==i){m.tokenize=J;break}return m.tokenize=W(i-1),m.tokenize(k,m)}}return"meta"}}function E(k,i,l){this.prev=k.context,this.tagName=i,this.indent=k.indented,this.startOfLine=l,(n.doNotIndent.hasOwnProperty(i)||k.context&&k.context.noIndent)&&(this.noIndent=!0)}function U(i){i.context&&(i.context=i.context.prev)}function Q(k,i){for(var l;;){if(!k.context){return}if(l=k.context.tagName,!n.contextGrabbers.hasOwnProperty(l)||!n.contextGrabbers[l].hasOwnProperty(i)){return}U(k)}}function V(k,i,l){return"openTag"==k?(l.tagStart=i.column(),I):"closeTag"==k?K:V}function I(k,i,l){return"word"==k?(l.tagName=i.current(),q="tag",z):(q="error",I)}function K(l,i,m){if("word"==l){var k=i.current();return m.context&&m.context.tagName!=k&&n.implicitlyClosed.hasOwnProperty(m.context.tagName)&&U(m),m.context&&m.context.tagName==k||n.matchClosing===!1?(q="tag",R):(q="tag error",D)}return q="error",D}function R(k,i,l){return"endTag"!=k?(q="error",R):(U(l),V)}function D(k,i,l){return q="error",R(k,i,l)}function z(o,l,p){if("word"==o){return q="attribute",A}if("endTag"==o||"selfcloseTag"==o){var m=p.tagName,k=p.tagStart;return p.tagName=p.tagStart=null,"selfcloseTag"==o||n.autoSelfClosers.hasOwnProperty(m)?Q(p,m):(Q(p,m),p.context=new E(p,m,k==p.indented)),V}return q="error",z}function A(k,i,l){return"equals"==k?X:(n.allowMissing||(q="error"),z(k,i,l))}function X(k,i,l){return"string"==k?B:"word"==k&&n.allowUnquoted?(q="string",z):(q="error",z(k,i,l))}function B(k,i,l){return"string"==k?B:z(k,i,l)}var O=H.indentUnit,n={},G=P.htmlMode?f:h;for(var t in G){n[t]=G[t]}for(var t in P){n[t]=P[t]}var j,q;return J.isInText=!0,{startState:function(k){var i={tokenize:J,state:V,indented:k||0,tagName:null,tagStart:null,context:null};return null!=k&&(i.baseIndent=k),i},token:function(k,i){if(!i.tagName&&k.sol()&&(i.indented=k.indentation()),k.eatSpace()){return null}j=null;var l=i.tokenize(k,i);return(l||j)&&"comment"!=l&&(q=null,i.state=i.state(j||l,k,i),q&&(l="error"==q?l+" error":q)),l},indent:function(o,v,u){var m=o.context;if(o.tokenize.isInAttribute){return o.tagStart==o.indented?o.stringStartCol+1:o.indented+O}if(m&&m.noIndent){return g.Pass}if(o.tokenize!=Y&&o.tokenize!=J){return u?u.match(/^(\s*)/)[0].length:0}if(o.tagName){return n.multilineTagIndentPastTag!==!1?o.tagStart+o.tagName.length+2:o.tagStart+O*(n.multilineTagIndentFactor||1)}if(n.alignCDATA&&/<!\[CDATA\[/.test(v)){return 0}var k=v&&/^<(\/)?([\w_:\.-]*)/.exec(v);if(k&&k[1]){for(;m;){if(m.tagName==k[2]){m=m.prev;break}if(!n.implicitlyClosed.hasOwnProperty(m.tagName)){break}m=m.prev}}else{if(k){for(;m;){var p=n.contextGrabbers[m.tagName];if(!p||!p.hasOwnProperty(k[2])){break}m=m.prev}}}for(;m&&m.prev&&!m.startOfLine;){m=m.prev}return m?m.indent+O:o.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml",skipAttribute:function(i){i.state==X&&(i.state=z)}}}),g.defineMIME("text/xml","xml"),g.defineMIME("application/xml","xml"),g.mimeModes.hasOwnProperty("text/html")||g.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":10}],15:[function(d,c,f){f.read=function(w,B,k,g,p){var j,z,m=8*p-g-1,C=(1<<m)-1,y=C>>1,A=-7,v=k?p-1:0,q=k?-1:1,x=w[B+v];for(v+=q,j=x&(1<<-A)-1,x>>=-A,A+=m;A>0;j=256*j+w[B+v],v+=q,A-=8){}for(z=j&(1<<-A)-1,j>>=-A,A+=g;A>0;z=256*z+w[B+v],v+=q,A-=8){}if(0===j){j=1-y}else{if(j===C){return z?NaN:(x?-1:1)*(1/0)}z+=Math.pow(2,g),j-=y}return(x?-1:1)*z*Math.pow(2,j-g)},f.write=function(A,F,q,g,x,k){var D,w,G,C=8*k-x-1,E=(1<<C)-1,z=E>>1,y=23===x?Math.pow(2,-24)-Math.pow(2,-77):0,B=g?0:k-1,j=g?1:-1,v=0>F||0===F&&0>1/F?1:0;for(F=Math.abs(F),isNaN(F)||F===1/0?(w=isNaN(F)?1:0,D=E):(D=Math.floor(Math.log(F)/Math.LN2),F*(G=Math.pow(2,-D))<1&&(D--,G*=2),F+=D+z>=1?y/G:y*Math.pow(2,1-z),F*G>=2&&(D++,G/=2),D+z>=E?(w=0,D=E):D+z>=1?(w=(F*G-1)*Math.pow(2,x),D+=z):(w=F*Math.pow(2,z-1)*Math.pow(2,x),D=0));x>=8;A[q+B]=255&w,B+=j,w/=256,x-=8){}for(D=D<<x|w,C+=x;C>0;A[q+B]=255&D,B+=j,D/=256,C-=8){}A[q+B-j]|=128*v}},{}],16:[function(f,c,g){var d={}.toString;c.exports=Array.isArray||function(h){return"[object Array]"==d.call(h)}},{}],17:[function(c,e,d){(function(f){(function(){function y(h){this.tokens=[],this.tokens.links={},this.options=h||n.defaults,this.rules=r.normal,this.options.gfm&&(this.options.tables?this.rules=r.tables:this.rules=r.gfm)}function m(i,h){if(this.options=h||n.defaults,this.links=i,this.rules=g.normal,this.renderer=this.options.renderer||new j,this.renderer.options=this.options,!this.links){throw new Error("Tokens array requires a `links` property.")}this.options.gfm?this.options.breaks?this.rules=g.breaks:this.rules=g.gfm:this.options.pedantic&&(this.rules=g.pedantic)}function j(h){this.options=h||{}}function w(h){this.tokens=[],this.token=null,this.options=h||n.defaults,this.options.renderer=this.options.renderer||new j,this.renderer=this.options.renderer,this.renderer.options=this.options}function k(i,h){return i.replace(h?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function z(h){return h.replace(/&([#\w]+);/g,function(l,i){return i=i.toLowerCase(),"colon"===i?":":"#"===i.charAt(0)?"x"===i.charAt(1)?String.fromCharCode(parseInt(i.substring(2),16)):String.fromCharCode(+i.substring(1)):""})}function v(i,h){return i=i.source,h=h||"",function l(p,o){return p?(o=o.source||o,o=o.replace(/(^|[^\[])\^/g,"$1"),i=i.replace(p,o),l):new RegExp(i,h)}}function x(){}function q(l){for(var h,o,i=1;i<arguments.length;i++){h=arguments[i];for(o in h){Object.prototype.hasOwnProperty.call(h,o)&&(l[o]=h[o])}}return l}function n(A,p,h){if(h||"function"==typeof p){h||(h=p,p=null),p=q({},n.defaults,p||{});var t,l,E=p.highlight,C=0;try{t=y.lex(A,p)}catch(D){return h(D)}l=t.length;var B=function(s){if(s){return p.highlight=E,h(s)}var i;try{i=w.parse(t,p)}catch(u){s=u}return p.highlight=E,s?h(s):h(null,i)};if(!E||E.length<3){return B()}if(delete p.highlight,!l){return B()}for(;C<t.length;C++){!function(i){return"code"!==i.type?--l||B():E(i.text,i.lang,function(o,s){return o?B(o):null==s||s===i.text?--l||B():(i.text=s,i.escaped=!0,void (--l||B()))})}(t[C])}}else{try{return p&&(p=q({},n.defaults,p)),w.parse(y.lex(A,p),p)}catch(D){if(D.message+="\nPlease report this to https://github.com/chjj/marked.",(p||n.defaults).silent){return"<p>An error occured:</p><pre>"+k(D.message+"",!0)+"</pre>"}throw D}}}var r={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:x,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:x,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:x,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};r.bullet=/(?:[*+-]|\d+\.)/,r.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,r.item=v(r.item,"gm")(/bull/g,r.bullet)(),r.list=v(r.list)(/bull/g,r.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+r.def.source+")")(),r.blockquote=v(r.blockquote)("def",r.def)(),r._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",r.html=v(r.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,r._tag)(),r.paragraph=v(r.paragraph)("hr",r.hr)("heading",r.heading)("lheading",r.lheading)("blockquote",r.blockquote)("tag","<"+r._tag)("def",r.def)(),r.normal=q({},r),r.gfm=q({},r.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),r.gfm.paragraph=v(r.paragraph)("(?!","(?!"+r.gfm.fences.source.replace("\\1","\\2")+"|"+r.list.source.replace("\\1","\\3")+"|")(),r.tables=q({},r.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),y.rules=r,y.lex=function(i,l){var h=new y(l);return h.lex(i)},y.prototype.lex=function(h){return h=h.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(h,!0)},y.prototype.token=function(E,I,A){for(var h,C,p,G,B,J,F,H,D,E=E.replace(/^ +$/gm,"");E;){if((p=this.rules.newline.exec(E))&&(E=E.substring(p[0].length),p[0].length>1&&this.tokens.push({type:"space"})),p=this.rules.code.exec(E)){E=E.substring(p[0].length),p=p[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?p:p.replace(/\n+$/,"")})}else{if(p=this.rules.fences.exec(E)){E=E.substring(p[0].length),this.tokens.push({type:"code",lang:p[2],text:p[3]||""})}else{if(p=this.rules.heading.exec(E)){E=E.substring(p[0].length),this.tokens.push({type:"heading",depth:p[1].length,text:p[2]})}else{if(I&&(p=this.rules.nptable.exec(E))){for(E=E.substring(p[0].length),J={type:"table",header:p[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:p[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:p[3].replace(/\n$/,"").split("\n")},H=0;H<J.align.length;H++){/^ *-+: *$/.test(J.align[H])?J.align[H]="right":/^ *:-+: *$/.test(J.align[H])?J.align[H]="center":/^ *:-+ *$/.test(J.align[H])?J.align[H]="left":J.align[H]=null}for(H=0;H<J.cells.length;H++){J.cells[H]=J.cells[H].split(/ *\| */)}this.tokens.push(J)}else{if(p=this.rules.lheading.exec(E)){E=E.substring(p[0].length),this.tokens.push({type:"heading",depth:"="===p[2]?1:2,text:p[1]})}else{if(p=this.rules.hr.exec(E)){E=E.substring(p[0].length),this.tokens.push({type:"hr"})}else{if(p=this.rules.blockquote.exec(E)){E=E.substring(p[0].length),this.tokens.push({type:"blockquote_start"}),p=p[0].replace(/^ *> ?/gm,""),this.token(p,I,!0),this.tokens.push({type:"blockquote_end"})}else{if(p=this.rules.list.exec(E)){for(E=E.substring(p[0].length),G=p[2],this.tokens.push({type:"list_start",ordered:G.length>1}),p=p[0].match(this.rules.item),h=!1,D=p.length,H=0;D>H;H++){J=p[H],F=J.length,J=J.replace(/^ *([*+-]|\d+\.) +/,""),~J.indexOf("\n ")&&(F-=J.length,J=this.options.pedantic?J.replace(/^ {1,4}/gm,""):J.replace(new RegExp("^ {1,"+F+"}","gm"),"")),this.options.smartLists&&H!==D-1&&(B=r.bullet.exec(p[H+1])[0],G===B||G.length>1&&B.length>1||(E=p.slice(H+1).join("\n")+E,H=D-1)),C=h||/\n\n(?!\s*$)/.test(J),H!==D-1&&(h="\n"===J.charAt(J.length-1),C||(C=h)),this.tokens.push({type:C?"loose_item_start":"list_item_start"}),this.token(J,!1,A),this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"})}else{if(p=this.rules.html.exec(E)){E=E.substring(p[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===p[1]||"script"===p[1]||"style"===p[1]),text:p[0]})}else{if(!A&&I&&(p=this.rules.def.exec(E))){E=E.substring(p[0].length),this.tokens.links[p[1].toLowerCase()]={href:p[2],title:p[3]}}else{if(I&&(p=this.rules.table.exec(E))){for(E=E.substring(p[0].length),J={type:"table",header:p[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:p[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:p[3].replace(/(?: *\| *)?\n$/,"").split("\n")},H=0;H<J.align.length;H++){/^ *-+: *$/.test(J.align[H])?J.align[H]="right":/^ *:-+: *$/.test(J.align[H])?J.align[H]="center":/^ *:-+ *$/.test(J.align[H])?J.align[H]="left":J.align[H]=null}for(H=0;H<J.cells.length;H++){J.cells[H]=J.cells[H].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(J)}else{if(I&&(p=this.rules.paragraph.exec(E))){E=E.substring(p[0].length),this.tokens.push({type:"paragraph",text:"\n"===p[1].charAt(p[1].length-1)?p[1].slice(0,-1):p[1]})}else{if(p=this.rules.text.exec(E)){E=E.substring(p[0].length),this.tokens.push({type:"text",text:p[0]})}else{if(E){throw new Error("Infinite loop on byte: "+E.charCodeAt(0))}}}}}}}}}}}}}}}return this.tokens};var g={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:x,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:x,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};g._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,g._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,g.link=v(g.link)("inside",g._inside)("href",g._href)(),g.reflink=v(g.reflink)("inside",g._inside)(),g.normal=q({},g),g.pedantic=q({},g.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),g.gfm=q({},g.normal,{escape:v(g.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:v(g.text)("]|","~]|")("|","|https?://|")()}),g.breaks=q({},g.gfm,{br:v(g.br)("{2,}","*")(),text:v(g.gfm.text)("{2,}","*")()}),m.rules=g,m.output=function(l,h,o){var i=new m(h,o);return i.output(l)},m.prototype.output=function(s){for(var l,A,p,h,u="";s;){if(h=this.rules.escape.exec(s)){s=s.substring(h[0].length),u+=h[1]}else{if(h=this.rules.autolink.exec(s)){s=s.substring(h[0].length),"@"===h[2]?(A=":"===h[1].charAt(6)?this.mangle(h[1].substring(7)):this.mangle(h[1]),p=this.mangle("mailto:")+A):(A=k(h[1]),p=A),u+=this.renderer.link(p,null,A)}else{if(this.inLink||!(h=this.rules.url.exec(s))){if(h=this.rules.tag.exec(s)){!this.inLink&&/^<a /i.test(h[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(h[0])&&(this.inLink=!1),s=s.substring(h[0].length),u+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(h[0]):k(h[0]):h[0]}else{if(h=this.rules.link.exec(s)){s=s.substring(h[0].length),this.inLink=!0,u+=this.outputLink(h,{href:h[2],title:h[3]}),this.inLink=!1}else{if((h=this.rules.reflink.exec(s))||(h=this.rules.nolink.exec(s))){if(s=s.substring(h[0].length),l=(h[2]||h[1]).replace(/\s+/g," "),l=this.links[l.toLowerCase()],!l||!l.href){u+=h[0].charAt(0),s=h[0].substring(1)+s;continue}this.inLink=!0,u+=this.outputLink(h,l),this.inLink=!1}else{if(h=this.rules.strong.exec(s)){s=s.substring(h[0].length),u+=this.renderer.strong(this.output(h[2]||h[1]))}else{if(h=this.rules.em.exec(s)){s=s.substring(h[0].length),u+=this.renderer.em(this.output(h[2]||h[1]))}else{if(h=this.rules.code.exec(s)){s=s.substring(h[0].length),u+=this.renderer.codespan(k(h[2],!0))}else{if(h=this.rules.br.exec(s)){s=s.substring(h[0].length),u+=this.renderer.br()}else{if(h=this.rules.del.exec(s)){s=s.substring(h[0].length),u+=this.renderer.del(this.output(h[1]))}else{if(h=this.rules.text.exec(s)){s=s.substring(h[0].length),u+=this.renderer.text(k(this.smartypants(h[0])))}else{if(s){throw new Error("Infinite loop on byte: "+s.charCodeAt(0))}}}}}}}}}}}else{s=s.substring(h[0].length),A=k(h[1]),p=A,u+=this.renderer.link(p,null,A)}}}}return u},m.prototype.outputLink=function(l,h){var o=k(h.href),i=h.title?k(h.title):null;return"!"!==l[0].charAt(0)?this.renderer.link(o,i,this.output(l[1])):this.renderer.image(o,i,k(l[1]))},m.prototype.smartypants=function(h){return this.options.smartypants?h.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):h},m.prototype.mangle=function(p){if(!this.options.mangle){return p}for(var l,s="",o=p.length,h=0;o>h;h++){l=p.charCodeAt(h),Math.random()>0.5&&(l="x"+l.toString(16)),s+="&#"+l+";"}return s},j.prototype.code=function(l,h,o){if(this.options.highlight){var i=this.options.highlight(l,h);null!=i&&i!==l&&(o=!0,l=i)}return h?'<pre><code class="'+this.options.langPrefix+k(h,!0)+'">'+(o?l:k(l,!0))+"\n</code></pre>\n":"<pre><code>"+(o?l:k(l,!0))+"\n</code></pre>"},j.prototype.blockquote=function(h){return"<blockquote>\n"+h+"</blockquote>\n"},j.prototype.html=function(h){return h},j.prototype.heading=function(i,h,l){return"<h"+h+' id="'+this.options.headerPrefix+l.toLowerCase().replace(/[^\w]+/g,"-")+'">'+i+"</h"+h+">\n"},j.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},j.prototype.list=function(i,h){var l=h?"ol":"ul";return"<"+l+">\n"+i+"</"+l+">\n"},j.prototype.listitem=function(h){return"<li>"+h+"</li>\n"},j.prototype.paragraph=function(h){return"<p>"+h+"</p>\n"},j.prototype.table=function(i,h){return"<table>\n<thead>\n"+i+"</thead>\n<tbody>\n"+h+"</tbody>\n</table>\n"},j.prototype.tablerow=function(h){return"<tr>\n"+h+"</tr>\n"},j.prototype.tablecell=function(l,h){var o=h.header?"th":"td",i=h.align?"<"+o+' style="text-align:'+h.align+'">':"<"+o+">";return i+l+"</"+o+">\n"},j.prototype.strong=function(h){return"<strong>"+h+"</strong>"},j.prototype.em=function(h){return"<em>"+h+"</em>"},j.prototype.codespan=function(h){return"<code>"+h+"</code>"},j.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},j.prototype.del=function(h){return"<del>"+h+"</del>"},j.prototype.link=function(s,l,A){if(this.options.sanitize){try{var p=decodeURIComponent(z(s)).replace(/[^\w:]/g,"").toLowerCase()}catch(h){return""}if(0===p.indexOf("javascript:")||0===p.indexOf("vbscript:")){return""}}var u='<a href="'+s+'"';return l&&(u+=' title="'+l+'"'),u+=">"+A+"</a>"},j.prototype.image=function(l,h,o){var i='<img src="'+l+'" alt="'+o+'"';return h&&(i+=' title="'+h+'"'),i+=this.options.xhtml?"/>":">"},j.prototype.text=function(h){return h},w.parse=function(l,h,o){var i=new w(h,o);return i.parse(l)},w.prototype.parse=function(i){this.inline=new m(i.links,this.options,this.renderer),this.tokens=i.reverse();for(var h="";this.next();){h+=this.tok()}return h},w.prototype.next=function(){return this.token=this.tokens.pop()},w.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},w.prototype.parseText=function(){for(var h=this.token.text;"text"===this.peek().type;){h+="\n"+this.next().text}return this.inline.output(h)},w.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var C,E,u,h,B,p="",D="";for(u="",C=0;C<this.token.header.length;C++){h={header:!0,align:this.token.align[C]},u+=this.renderer.tablecell(this.inline.output(this.token.header[C]),{header:!0,align:this.token.align[C]})}for(p+=this.renderer.tablerow(u),C=0;C<this.token.cells.length;C++){for(E=this.token.cells[C],u="",B=0;B<E.length;B++){u+=this.renderer.tablecell(this.inline.output(E[B]),{header:!1,align:this.token.align[B]})}D+=this.renderer.tablerow(u)}return this.renderer.table(p,D);case"blockquote_start":for(var D="";"blockquote_end"!==this.next().type;){D+=this.tok()}return this.renderer.blockquote(D);case"list_start":for(var D="",A=this.token.ordered;"list_end"!==this.next().type;){D+=this.tok()}return this.renderer.list(D,A);case"list_item_start":for(var D="";"list_item_end"!==this.next().type;){D+="text"===this.token.type?this.parseText():this.tok()}return this.renderer.listitem(D);case"loose_item_start":for(var D="";"list_item_end"!==this.next().type;){D+=this.tok()}return this.renderer.listitem(D);case"html":var F=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(F);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},x.exec=x,n.options=n.setOptions=function(h){return q(n.defaults,h),n},n.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new j,xhtml:!1},n.Parser=w,n.parser=w.parse,n.Renderer=j,n.Lexer=y,n.lexer=y.lex,n.InlineLexer=m,n.inlineLexer=m.output,n.parse=n,"undefined"!=typeof e&&"object"==typeof d?e.exports=n:"function"==typeof b&&b.amd?b(function(){return n}):this.marked=n}).call(function(){return this||("undefined"!=typeof window?window:f)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(d,c,f){(function(h,g){var e=function(v,A,k,p){if(p=p||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=p.flags||{},v){if(this.dictionary=v,"undefined"!=typeof window&&"chrome" in window&&"extension" in window.chrome&&"getURL" in window.chrome.extension){A||(A=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+v+"/"+v+".aff"))),k||(k=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+v+"/"+v+".dic")))}else{if(p.dictionaryPath){var j=p.dictionaryPath}else{if("undefined"!=typeof g){var j=g+"/dictionaries"}else{var j="./dictionaries"}}A||(A=this._readFile(j+"/"+v+"/"+v+".aff")),k||(k=this._readFile(j+"/"+v+"/"+v+".dic"))}this.rules=this._parseAFF(A),this.compoundRuleCodes={};for(var y=0,m=this.compoundRules.length;m>y;y++){for(var B=this.compoundRules[y],x=0,z=B.length;z>x;x++){this.compoundRuleCodes[B[x]]=[]}}"ONLYINCOMPOUND" in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(k);for(var y in this.compoundRuleCodes){0==this.compoundRuleCodes[y].length&&delete this.compoundRuleCodes[y]}for(var y=0,m=this.compoundRules.length;m>y;y++){for(var r=this.compoundRules[y],q="",x=0,z=r.length;z>x;x++){var w=r[x];q+=w in this.compoundRuleCodes?"("+this.compoundRuleCodes[w].join("|")+")":w}this.compoundRules[y]=new RegExp(q,"i")}}return this};e.prototype={load:function(j){for(var i in j){this[i]=j[i]}return this},_readFile:function(n,q){if(q||(q="utf8"),"undefined"!=typeof XMLHttpRequest){var m=new XMLHttpRequest;return m.open("GET",n,!1),m.overrideMimeType&&m.overrideMimeType("text/plain; charset="+q),m.send(null),m.responseText}if("undefined"!=typeof d){var u=d("fs");try{if(u.existsSync(n)){var k=u.statSync(n),j=u.openSync(n,"r"),p=new h(k.size);return u.readSync(j,p,0,p.length,null),p.toString(q,0,p.length)}console.log("Path "+n+" does not exist.")}catch(v){return console.log(v),""}}},_parseAFF:function(L){var z={};L=this._removeAffixComments(L);for(var E=L.split("\n"),B=0,H=E.length;H>B;B++){var D=E[B],P=D.split(/\s+/),G=P[0];if("PFX"==G||"SFX"==G){for(var A=P[1],N=P[2],w=parseInt(P[3],10),K=[],I=B+1,M=B+1+w;M>I;I++){var D=E[I],C=D.split(/\s+/),F=C[2],J=C[3].split("/"),q=J[0];"0"===q&&(q="");var j=this.parseRuleCodes(J[1]),k=C[4],O={};O.add=q,j.length>0&&(O.continuationClasses=j),"."!==k&&("SFX"===G?O.match=new RegExp(k+"$"):O.match=new RegExp("^"+k)),"0"!=F&&("SFX"===G?O.remove=new RegExp(F+"$"):O.remove=F),K.push(O)}z[A]={type:G,combineable:"Y"==N,entries:K},B+=w}else{if("COMPOUNDRULE"===G){for(var w=parseInt(P[1],10),I=B+1,M=B+1+w;M>I;I++){var D=E[I],C=D.split(/\s+/);this.compoundRules.push(C[1])}B+=w}else{if("REP"===G){var C=D.split(/\s+/);3===C.length&&this.replacementTable.push([C[1],C[2]])}else{this.flags[G]=P[1]}}}}return z},_removeAffixComments:function(i){return i=i.replace(/#.*$/gm,""),i=i.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),i=i.replace(/\n{2,}/g,"\n"),i=i.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(T){function E(k,i){k in H&&"object"==typeof H[k]||(H[k]=[]),H[k].push(i)}T=this._removeDicComments(T);for(var K=T.split("\n"),H={},O=1,J=K.length;J>O;O++){var X=K[O],M=X.split("/",2),F=M[0];if(M.length>1){var V=this.parseRuleCodes(M[1]);"NEEDAFFIX" in this.flags&&-1!=V.indexOf(this.flags.NEEDAFFIX)||E(F,V);for(var D=0,R=V.length;R>D;D++){var P=V[D],U=this.rules[P];if(U){for(var I=this._applyRule(F,U),L=0,Q=I.length;Q>L;L++){var B=I[L];if(E(B,[]),U.combineable){for(var q=D+1;R>q;q++){var z=V[q],W=this.rules[z];if(W&&W.combineable&&U.type!=W.type){for(var A=this._applyRule(B,W),N=0,j=A.length;j>N;N++){var G=A[N];E(G,[])}}}}}}P in this.compoundRuleCodes&&this.compoundRuleCodes[P].push(F)}}else{E(F.trim(),[])}}return H},_removeDicComments:function(i){return i=i.replace(/^\t.*$/gm,"")},parseRuleCodes:function(k){if(!k){return[]}if(!("FLAG" in this.flags)){return k.split("")}if("long"===this.flags.FLAG){for(var i=[],l=0,j=k.length;j>l;l+=2){i.push(k.substr(l,2))}return i}return"num"===this.flags.FLAG?textCode.split(","):void 0},_applyRule:function(v,z){for(var m=z.entries,j=[],q=0,k=m.length;k>q;q++){var x=m[q];if(!x.match||v.match(x.match)){var p=v;if(x.remove&&(p=p.replace(x.remove,"")),"SFX"===z.type?p+=x.add:p=x.add+p,j.push(p),"continuationClasses" in x){for(var A=0,w=x.continuationClasses.length;w>A;A++){var y=this.rules[x.continuationClasses[A]];y&&(j=j.concat(this._applyRule(p,y)))}}}}return j},check:function(k){var i=k.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(i)){return !0}if(i.toUpperCase()===i){var l=i[0]+i.substring(1).toLowerCase();if(this.hasFlag(l,"KEEPCASE")){return !1}if(this.checkExact(l)){return !0}}var j=i.toLowerCase();if(j!==i){if(this.hasFlag(j,"KEEPCASE")){return !1}if(this.checkExact(j)){return !0}}return !1},checkExact:function(k){var i=this.dictionaryTable[k];if("undefined"==typeof i){if("COMPOUNDMIN" in this.flags&&k.length>=this.flags.COMPOUNDMIN){for(var l=0,j=this.compoundRules.length;j>l;l++){if(k.match(this.compoundRules[l])){return !0}}}return !1}if("object"==typeof i){for(var l=0,j=i.length;j>l;l++){if(!this.hasFlag(k,"ONLYINCOMPOUND",i[l])){return !0}}return !1}},hasFlag:function(j,i,k){if(i in this.flags){if("undefined"==typeof k){var k=Array.prototype.concat.apply([],this.dictionaryTable[j])}if(k&&-1!==k.indexOf(this.flags[i])){return !0}}return !1},alphabet:"",suggest:function(u,x){function m(I){for(var M=[],C=0,z=I.length;z>C;C++){for(var F=I[C],B=[],K=0,E=F.length+1;E>K;K++){B.push([F.substring(0,K),F.substring(K,F.length)])}for(var N=[],K=0,E=B.length;E>K;K++){var L=B[K];L[1]&&N.push(L[0]+L[1].substring(1))}for(var H=[],K=0,E=B.length;E>K;K++){var L=B[K];L[1].length>1&&H.push(L[0]+L[1][1]+L[1][0]+L[1].substring(2))}for(var G=[],K=0,E=B.length;E>K;K++){var L=B[K];if(L[1]){for(var J=0,A=v.alphabet.length;A>J;J++){G.push(L[0]+v.alphabet[J]+L[1].substring(1))}}}for(var D=[],K=0,E=B.length;E>K;K++){var L=B[K];if(L[1]){for(var J=0,A=v.alphabet.length;A>J;J++){G.push(L[0]+v.alphabet[J]+L[1])}}}M=M.concat(N),M=M.concat(H),M=M.concat(G),M=M.concat(D)}return M}function j(l){for(var i=[],o=0;o<l.length;o++){v.check(l[o])&&i.push(l[o])}return i}function q(B){function t(l,i){return l[1]<i[1]?-1:1}for(var n=m([B]),D=m(n),r=j(n).concat(j(D)),F={},E=0,A=r.length;A>E;E++){r[E] in F?F[r[E]]+=1:F[r[E]]=1}var z=[];for(var E in F){z.push([E,F[E]])}z.sort(t).reverse();for(var C=[],E=0,A=Math.min(x,z.length);A>E;E++){v.hasFlag(z[E][0],"NOSUGGEST")||C.push(z[E][0])}return C}if(x||(x=5),this.check(u)){return[]}for(var k=0,w=this.replacementTable.length;w>k;k++){var p=this.replacementTable[k];if(-1!==u.indexOf(p[0])){var y=u.replace(p[0],p[1]);if(this.check(y)){return[y]}}}var v=this;return v.alphabet="abcdefghijklmnopqrstuvwxyz",q(u)}},"undefined"!=typeof c&&(c.exports=e)}).call(this,d("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(f,c,g){var d=f("codemirror");d.commands.tabAndIndentMarkdownList=function(l){var j=l.listSelections(),p=j[0].head,k=l.getStateAfter(p.line),h=k.list!==!1;if(h){return void l.execCommand("indentMore")}if(l.options.indentWithTabs){l.execCommand("insertTab")}else{var m=Array(l.options.tabSize+1).join(" ");l.replaceSelection(m)}},d.commands.shiftTabAndUnindentMarkdownList=function(l){var j=l.listSelections(),p=j[0].head,k=l.getStateAfter(p.line),h=k.list!==!1;if(h){return void l.execCommand("indentLess")}if(l.options.indentWithTabs){l.execCommand("insertTab")}else{var m=Array(l.options.tabSize+1).join(" ");l.replaceSelection(m)}}},{codemirror:10}],20:[function(aV,aG,aM){function aI(c){return c=ae?c.replace("Ctrl","Cmd"):c.replace("Cmd","Ctrl")}function aR(f,c,g){f=f||{};var d=document.createElement("a");return c=void 0==c?!0:c,f.title&&c&&(d.title=aZ(f.title,f.action,g),ae&&(d.title=d.title.replace("Ctrl",""),d.title=d.title.replace("Alt",""))),d.tabIndex=-1,d.className=f.className,d}function aL(){var c=document.createElement("i");return c.className="separator",c.innerHTML="|",c}function aZ(f,d,h){var c,g=f;return d&&(c=aa(d),h[c]&&(g+=" ("+aI(h[c])+")")),g}function aO(j,g){g=g||j.getCursor("start");var m=j.getTokenAt(g);if(!m.type){return{}}for(var h,f,k=m.type.split(" "),d={},c=0;c<k.length;c++){h=k[c],"strong"===h?d.bold=!0:"variable-2"===h?(f=j.getLine(g.line),/^\s*\d+\.\s/.test(f)?d["ordered-list"]=!0:d["unordered-list"]=!0):"atom"===h?d.quote=!0:"em"===h?d.italic=!0:"quote"===h?d.quote=!0:"strikethrough"===h?d.strikethrough=!0:"comment"===h?d.code=!0:"link"===h?d.link=!0:"tag"===h?d.image=!0:h.match(/^header(\-[1-6])?$/)&&(d[h.replace("header","heading")]=!0)}return d}function aH(g){var d=g.codemirror;d.setOption("fullScreen",!d.getOption("fullScreen")),d.getOption("fullScreen")?(ad=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=ad;var h=d.getWrapperElement();/fullscreen/.test(h.previousSibling.className)?h.previousSibling.className=h.previousSibling.className.replace(/\s*fullscreen\b/,""):h.previousSibling.className+=" fullscreen";var f=g.toolbarElements.fullscreen;/active/.test(f.className)?f.className=f.className.replace(/\s*active\s*/g,""):f.className+=" active";var c=d.getWrapperElement().nextSibling;/editor-preview-active-side/.test(c.className)&&ak(g)}function aX(c){ai(c,"bold",c.options.blockStyles.bold)}function aF(c){ai(c,"italic",c.options.blockStyles.italic)}function aU(c){ai(c,"strikethrough","~~")}function aS(a5){function J(c){if("object"!=typeof c){throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof c+": "+c}return c.styles&&c.styles[2]&&-1!==c.styles[2].indexOf("formatting-code-block")}function W(c){return c.state.base.base||c.state.base}function P(h,g,f,k,d){f=f||h.getLineHandle(g),k=k||h.getTokenAt({line:g,ch:1}),d=d||!!f.text&&h.getTokenAt({line:g,ch:f.text.length-1});var c=k.type?k.type.split(" "):[];return d&&W(d).indentedCode?"indented":-1===c.indexOf("comment")?!1:W(k).fencedChars||W(d).fencedChars||J(f)?"fenced":"single"}function a1(k,p,f,c){var h=p.line+1,d=f.line+1,m=p.line!==f.line,g=c+"\n",u="\n"+c;m&&d++,m&&0===f.ch&&(u=c+"\n",d--),au(k,!1,[g,u]),k.setSelection({line:h,ch:0},{line:d,ch:0})}var V,a9,Y,K=a5.options.blockStyles.code,a7=a5.codemirror,I=a7.getCursor("start"),a4=a7.getCursor("end"),a2=a7.getTokenAt({line:I.line,ch:I.ch||1}),a6=a7.getLineHandle(I.line),U=P(a7,I.line,a6,a2);if("single"===U){var X=a6.text.slice(0,I.ch).replace("`",""),a3=a6.text.slice(I.ch).replace("`","");a7.replaceRange(X+a3,{line:I.line,ch:0},{line:I.line,ch:99999999999999}),I.ch--,I!==a4&&a4.ch--,a7.setSelection(I,a4),a7.focus()}else{if("fenced"===U){if(I.line!==a4.line||I.ch!==a4.ch){for(V=I.line;V>=0&&(a6=a7.getLineHandle(V),!J(a6));V--){}var H,E,F,a8,G=a7.getTokenAt({line:V,ch:1}),Z=W(G).fencedChars;J(a7.getLineHandle(I.line))?(H="",E=I.line):J(a7.getLineHandle(I.line-1))?(H="",E=I.line-1):(H=Z+"\n",E=I.line),J(a7.getLineHandle(a4.line))?(F="",a8=a4.line,0===a4.ch&&(a8+=1)):0!==a4.ch&&J(a7.getLineHandle(a4.line+1))?(F="",a8=a4.line+1):(F=Z+"\n",a8=a4.line+1),0===a4.ch&&(a8-=1),a7.operation(function(){a7.replaceRange(F,{line:a8,ch:0},{line:a8+(F?0:1),ch:0}),a7.replaceRange(H,{line:E,ch:0},{line:E+(H?0:1),ch:0})}),a7.setSelection({line:E+(H?1:0),ch:0},{line:a8+(H?1:-1),ch:0}),a7.focus()}else{var q=I.line;if(J(a7.getLineHandle(I.line))&&("fenced"===P(a7,I.line+1)?(V=I.line,q=I.line+1):(a9=I.line,q=I.line-1)),void 0===V){for(V=q;V>=0&&(a6=a7.getLineHandle(V),!J(a6));V--){}}if(void 0===a9){for(Y=a7.lineCount(),a9=q;Y>a9&&(a6=a7.getLineHandle(a9),!J(a6));a9++){}}a7.operation(function(){a7.replaceRange("",{line:V,ch:0},{line:V+1,ch:0}),a7.replaceRange("",{line:a9-1,ch:0},{line:a9,ch:0})}),a7.focus()}}else{if("indented"===U){if(I.line!==a4.line||I.ch!==a4.ch){V=I.line,a9=a4.line,0===a4.ch&&a9--}else{for(V=I.line;V>=0;V--){if(a6=a7.getLineHandle(V),!a6.text.match(/^\s*$/)&&"indented"!==P(a7,V,a6)){V+=1;break}}for(Y=a7.lineCount(),a9=I.line;Y>a9;a9++){if(a6=a7.getLineHandle(a9),!a6.text.match(/^\s*$/)&&"indented"!==P(a7,a9,a6)){a9-=1;break}}}var O=a7.getLineHandle(a9+1),D=O&&a7.getTokenAt({line:a9+1,ch:O.text.length-1}),j=D&&W(D).indentedCode;j&&a7.replaceRange("\n",{line:a9+1,ch:0});for(var B=V;a9>=B;B++){a7.indentLine(B,"subtract")}a7.focus()}else{var z=I.line===a4.line&&I.ch===a4.ch&&0===I.ch,R=I.line!==a4.line;z||R?a1(a7,I,a4,K):au(a7,!1,["`","`"])}}}}function aW(d){var c=d.codemirror;ap(c,"quote")}function aK(d){var c=d.codemirror;aj(c,"smaller")}function aN(d){var c=d.codemirror;aj(c,"bigger")}function aT(d){var c=d.codemirror;aj(c,void 0,1)}function aE(d){var c=d.codemirror;aj(c,void 0,2)}function aB(d){var c=d.codemirror;aj(c,void 0,3)}function aC(d){var c=d.codemirror;ap(c,"unordered-list")}function aY(d){var c=d.codemirror;ap(c,"ordered-list")}function aD(d){var c=d.codemirror;ah(c)}function aP(g){var d=g.codemirror,h=aO(d),f=g.options,c="http://";return f.promptURLs&&(c=prompt(f.promptTexts.link),!c)?!1:void au(d,h.link,f.insertTexts.link,c)}function ag(g){var d=g.codemirror,h=aO(d),f=g.options,c="http://";return f.promptURLs&&(c=prompt(f.promptTexts.image),!c)?!1:void au(d,h.image,f.insertTexts.image,c)}function aw(f){var c=f.codemirror,g=aO(c),d=f.options;au(c,g.table,d.insertTexts.table)}function am(f){var c=f.codemirror,g=aO(c),d=f.options;au(c,g.image,d.insertTexts.horizontalRule)}function af(d){var c=d.codemirror;c.undo(),c.focus()}function al(d){var c=d.codemirror;c.redo(),c.focus()}function ak(k){var s=k.codemirror,g=s.getWrapperElement(),d=g.nextSibling,j=k.toolbarElements["side-by-side"],f=!1;/editor-preview-active-side/.test(d.className)?(d.className=d.className.replace(/\s*editor-preview-active-side\s*/g,""),j.className=j.className.replace(/\s*active\s*/g,""),g.className=g.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){s.getOption("fullScreen")||aH(k),d.className+=" editor-preview-active-side"},1),j.className+=" active",g.className+=" CodeMirror-sided",f=!0);var p=g.lastChild;if(/editor-preview-active/.test(p.className)){p.className=p.className.replace(/\s*editor-preview-active\s*/g,"");var h=k.toolbarElements.preview,m=g.previousSibling;h.className=h.className.replace(/\s*active\s*/g,""),m.className=m.className.replace(/\s*disabled-for-preview*/g,"")}var q=function(){d.innerHTML=k.options.previewRender(k.value(),d)};s.sideBySideRenderingFunction||(s.sideBySideRenderingFunction=q),f?(d.innerHTML=k.options.previewRender(k.value(),d),s.on("update",s.sideBySideRenderingFunction)):s.off("update",s.sideBySideRenderingFunction),s.refresh()}function ay(h){var f=h.codemirror,k=f.getWrapperElement(),g=k.previousSibling,d=h.options.toolbar?h.toolbarElements.preview:!1,j=k.lastChild;j&&/editor-preview/.test(j.className)||(j=document.createElement("div"),j.className="editor-preview",k.appendChild(j)),/editor-preview-active/.test(j.className)?(j.className=j.className.replace(/\s*editor-preview-active\s*/g,""),d&&(d.className=d.className.replace(/\s*active\s*/g,""),g.className=g.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){j.className+=" editor-preview-active"},1),d&&(d.className+=" active",g.className+=" disabled-for-preview")),j.innerHTML=h.options.previewRender(h.value(),j);var c=f.getWrapperElement().nextSibling;/editor-preview-active-side/.test(c.className)&&ak(h)}function au(j,m,f,c){if(!/editor-preview-active/.test(j.getWrapperElement().lastChild.className)){var h,d=f[0],k=f[1],g=j.getCursor("start"),p=j.getCursor("end");c&&(k=k.replace("#url#",c)),m?(h=j.getLine(g.line),d=h.slice(0,g.ch),k=h.slice(g.ch),j.replaceRange(d+k,{line:g.line,ch:0})):(h=j.getSelection(),j.replaceSelection(d+h+k),g.ch+=d.length,g!==p&&(p.ch+=d.length)),j.setSelection(g,p),j.focus()}}function aj(g,d,j){if(!/editor-preview-active/.test(g.getWrapperElement().lastChild.className)){for(var f=g.getCursor("start"),c=g.getCursor("end"),h=f.line;h<=c.line;h++){!function(k){var e=g.getLine(k),l=e.search(/[^#]/);e=void 0!==d?0>=l?"bigger"==d?"###### "+e:"# "+e:6==l&&"smaller"==d?e.substr(7):1==l&&"bigger"==d?e.substr(2):"bigger"==d?e.substr(1):"#"+e:1==j?0>=l?"# "+e:l==j?e.substr(l+1):"# "+e.substr(l+1):2==j?0>=l?"## "+e:l==j?e.substr(l+1):"## "+e.substr(l+1):0>=l?"### "+e:l==j?e.substr(l+1):"### "+e.substr(l+1),g.replaceRange(e,{line:k,ch:0},{line:k,ch:99999999999999})}(h)}g.focus()}}function ap(j,f){if(!/editor-preview-active/.test(j.getWrapperElement().lastChild.className)){for(var l=aO(j),h=j.getCursor("start"),d=j.getCursor("end"),k={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},c={quote:"> ","unordered-list":"* ","ordered-list":"1. "},g=h.line;g<=d.line;g++){!function(m){var e=j.getLine(m);e=l[f]?e.replace(k[f],"$1"):c[f]+e,j.replaceRange(e,{line:m,ch:0},{line:m,ch:99999999999999})}(g)}j.focus()}}function ai(l,v,h,d){if(!/editor-preview-active/.test(l.codemirror.getWrapperElement().lastChild.className)){d="undefined"==typeof d?h:d;var j,g=l.codemirror,p=aO(g),w=h,m=d,q=g.getCursor("start"),k=g.getCursor("end");p[v]?(j=g.getLine(q.line),w=j.slice(0,q.ch),m=j.slice(q.ch),"bold"==v?(w=w.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),m=m.replace(/(\*\*|__)/,"")):"italic"==v?(w=w.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),m=m.replace(/(\*|_)/,"")):"strikethrough"==v&&(w=w.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),m=m.replace(/(\*\*|~~)/,"")),g.replaceRange(w+m,{line:q.line,ch:0},{line:q.line,ch:99999999999999}),"bold"==v||"strikethrough"==v?(q.ch-=2,q!==k&&(k.ch-=2)):"italic"==v&&(q.ch-=1,q!==k&&(k.ch-=1))):(j=g.getSelection(),"bold"==v?(j=j.split("**").join(""),j=j.split("__").join("")):"italic"==v?(j=j.split("*").join(""),j=j.split("_").join("")):"strikethrough"==v&&(j=j.split("~~").join("")),g.replaceSelection(w+j+m),q.ch+=h.length,k.ch=q.ch+j.length),g.setSelection(q,k),g.focus()}}function ah(g){if(!/editor-preview-active/.test(g.getWrapperElement().lastChild.className)){for(var d,h=g.getCursor("start"),f=g.getCursor("end"),c=h.line;c<=f.line;c++){d=g.getLine(c),d=d.replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),g.replaceRange(d,{line:c,ch:0},{line:c,ch:99999999999999})}}}function av(d,c){for(var f in c){c.hasOwnProperty(f)&&(c[f] instanceof Array?d[f]=c[f].concat(d[f] instanceof Array?d[f]:[]):null!==c[f]&&"object"==typeof c[f]&&c[f].constructor===Object?d[f]=av(d[f]||{},c[f]):d[f]=c[f])}return d}function aq(d){for(var c=1;c<arguments.length;c++){d=av(d,arguments[c])}return d}function ac(g){var d=/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,h=g.match(d),f=0;if(null===h){return f}for(var c=0;c<h.length;c++){f+=h[c].charCodeAt(0)>=19968?h[c].length:1}return f}function ax(g){g=g||{},g.parent=this;var d=!0;if(g.autoDownloadFontAwesome===!1&&(d=!1),g.autoDownloadFontAwesome!==!0){for(var j=document.styleSheets,f=0;f<j.length;f++){j[f].href&&j[f].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(d=!1)}}if(d){var c=document.createElement("link");c.rel="stylesheet",c.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(c)}if(g.element){this.element=g.element}else{if(null===g.element){return void console.log("SimpleMDE: Error. No element was found.")}}if(void 0===g.toolbar){g.toolbar=[];for(var h in an){an.hasOwnProperty(h)&&(-1!=h.indexOf("separator-")&&g.toolbar.push("|"),(an[h]["default"]===!0||g.showIcons&&g.showIcons.constructor===Array&&-1!=g.showIcons.indexOf(h))&&g.toolbar.push(h))}}g.hasOwnProperty("status")||(g.status=["autosave","lines","words","cursor"]),g.previewRender||(g.previewRender=function(i){return this.parent.markdown(i)}),g.parsingConfig=aq({highlightFormatting:!0},g.parsingConfig||{}),g.insertTexts=aq({},ab,g.insertTexts||{}),g.promptTexts=Q,g.blockStyles=aq({},ao,g.blockStyles||{}),g.shortcuts=aq({},ar,g.shortcuts||{}),void 0!=g.autosave&&void 0!=g.autosave.unique_id&&""!=g.autosave.unique_id&&(g.autosave.uniqueId=g.autosave.unique_id),this.options=g,this.render(),!g.initialValue||this.options.autosave&&this.options.autosave.foundSavedValue===!0||this.value(g.initialValue)}function a0(){if("object"!=typeof localStorage){return !1}try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(c){return !1}return !0}var at=aV("codemirror");aV("codemirror/addon/edit/continuelist.js"),aV("./codemirror/tablist"),aV("codemirror/addon/display/fullscreen.js"),aV("codemirror/mode/markdown/markdown.js"),aV("codemirror/addon/mode/overlay.js"),aV("codemirror/addon/display/placeholder.js"),aV("codemirror/addon/selection/mark-selection.js"),aV("codemirror/mode/gfm/gfm.js"),aV("codemirror/mode/xml/xml.js");var aA=aV("codemirror-spell-checker"),aQ=aV("marked"),ae=/Mac/.test(navigator.platform),aJ={toggleBold:aX,toggleItalic:aF,drawLink:aP,toggleHeadingSmaller:aK,toggleHeadingBigger:aN,drawImage:ag,toggleBlockquote:aW,toggleOrderedList:aY,toggleUnorderedList:aC,toggleCodeBlock:aS,togglePreview:ay,toggleStrikethrough:aU,toggleHeading1:aT,toggleHeading2:aE,toggleHeading3:aB,cleanBlock:aD,drawTable:aw,drawHorizontalRule:am,undo:af,redo:al,toggleSideBySide:ak,toggleFullScreen:aH},ar={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},aa=function(d){for(var c in aJ){if(aJ[c]===d){return c}}return null},az=function(){var c=!1;return function(d){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(d)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(d.substr(0,4)))&&(c=!0)}(navigator.userAgent||navigator.vendor||window.opera),c},ad="",an={bold:{name:"bold",action:aX,className:"fa fa-bold",title:"Bold","default":!0},italic:{name:"italic",action:aF,className:"fa fa-italic",title:"Italic","default":!0},strikethrough:{name:"strikethrough",action:aU,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:aK,className:"fa fa-header",title:"Heading","default":!0},"heading-smaller":{name:"heading-smaller",action:aK,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:aN,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:aT,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:aE,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:aB,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:aS,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:aW,className:"fa fa-quote-left",title:"Quote","default":!0},"unordered-list":{name:"unordered-list",action:aC,className:"fa fa-list-ul",title:"Generic List","default":!0},"ordered-list":{name:"ordered-list",action:aY,className:"fa fa-list-ol",title:"Numbered List","default":!0},"clean-block":{name:"clean-block",action:aD,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:aP,className:"fa fa-link",title:"Create Link","default":!0},image:{name:"image",action:ag,className:"fa fa-picture-o",title:"Insert Image","default":!0},table:{name:"table",action:aw,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:am,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:ay,className:"fa fa-eye no-disable",title:"Toggle Preview","default":!0},"side-by-side":{name:"side-by-side",action:ak,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side","default":!0},fullscreen:{name:"fullscreen",action:aH,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen","default":!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide","default":!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:af,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:al,className:"fa fa-repeat no-disable",title:"Redo"}},ab={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},Q={link:"URL for the link:",image:"URL of the image:"},ao={bold:"**",code:"```",italic:"*"};ax.prototype.markdown=function(d){if(aQ){var c={};return this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?c.breaks=!1:c.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0&&window.hljs&&(c.highlight=function(f){return window.hljs.highlightAuto(f).value}),aQ.setOptions(c),aQ(d)}},ax.prototype.render=function(j){if(j||(j=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==j){this.element=j;var q=this.options,f=this,h={};for(var d in q.shortcuts){null!==q.shortcuts[d]&&null!==aJ[d]&&!function(c){h[aI(q.shortcuts[c])]=function(){aJ[c](f)}}(d)}h.Enter="newlineAndIndentContinueMarkdownList",h.Tab="tabAndIndentMarkdownList",h["Shift-Tab"]="shiftTabAndUnindentMarkdownList",h.Esc=function(c){c.getOption("fullScreen")&&aH(f)},document.addEventListener("keydown",function(c){c=c||window.event,27==c.keyCode&&f.codemirror.getOption("fullScreen")&&aH(f)},!1);var m,g;if(q.spellChecker!==!1?(m="spell-checker",g=q.parsingConfig,g.name="gfm",g.gitHubSpice=!1,aA({codeMirrorInstance:at})):(m=q.parsingConfig,m.name="gfm",m.gitHubSpice=!1),this.codemirror=at.fromTextArea(j,{mode:m,backdrop:g,theme:"paper",tabSize:void 0!=q.tabSize?q.tabSize:2,indentUnit:void 0!=q.tabSize?q.tabSize:2,indentWithTabs:q.indentWithTabs!==!1,lineNumbers:!1,autofocus:q.autofocus===!0,extraKeys:h,lineWrapping:q.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:q.placeholder||j.getAttribute("placeholder")||"",styleSelectedText:void 0!=q.styleSelectedText?q.styleSelectedText:!0}),q.forceSync===!0){var k=this.codemirror;k.on("change",function(){k.save()})}this.gui={},q.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),q.status!==!1&&(this.gui.statusbar=this.createStatusbar()),void 0!=q.autosave&&q.autosave.enabled===!0&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var p=this.codemirror;setTimeout(function(){p.refresh()}.bind(p),0)}},ax.prototype.autosave=function(){if(a0()){var h=this;if(void 0==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId){return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature")}null!=h.element.form&&void 0!=h.element.form&&h.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+h.options.autosave.uniqueId)}),this.options.autosave.loaded!==!0&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,h.value());var f=document.getElementById("autosaved");if(null!=f&&void 0!=f&&""!=f){var k=new Date,g=k.getHours(),d=k.getMinutes(),j="am",c=g;c>=12&&(c=g-12,j="pm"),0==c&&(c=12),d=10>d?"0"+d:d,f.innerHTML="Autosaved: "+c+":"+d+" "+j}this.autosaveTimeoutId=setTimeout(function(){h.autosave()},this.options.autosave.delay||10000)}else{console.log("SimpleMDE: localStorage not available, cannot autosave")}},ax.prototype.clearAutosavedValue=function(){if(a0()){if(void 0==this.options.autosave||void 0==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId){return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value")}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else{console.log("SimpleMDE: localStorage not available, cannot autosave")}},ax.prototype.createSideBySide=function(){var g=this.codemirror,d=g.getWrapperElement(),h=d.nextSibling;h&&/editor-preview-side/.test(h.className)||(h=document.createElement("div"),h.className="editor-preview-side",d.parentNode.insertBefore(h,d.nextSibling));var f=!1,c=!1;return g.on("scroll",function(k){if(f){return void (f=!1)}c=!0;var j=k.getScrollInfo().height-k.getScrollInfo().clientHeight,l=parseFloat(k.getScrollInfo().top)/j,i=(h.scrollHeight-h.clientHeight)*l;h.scrollTop=i}),h.onscroll=function(){if(c){return void (c=!1)}f=!0;var i=h.scrollHeight-h.clientHeight,j=parseFloat(h.scrollTop)/i,e=(g.getScrollInfo().height-g.getScrollInfo().clientHeight)*j;g.scrollTo(0,e)},h},ax.prototype.createToolbar=function(i){if(i=i||this.options.toolbar,i&&0!==i.length){var m;for(m=0;m<i.length;m++){void 0!=an[i[m]]&&(i[m]=an[i[m]])}var g=document.createElement("div");g.className="editor-toolbar";var d=this,k={};for(d.toolbar=i,m=0;m<i.length;m++){if(("guide"!=i[m].name||d.options.toolbarGuideIcon!==!1)&&!(d.options.hideIcons&&-1!=d.options.hideIcons.indexOf(i[m].name)||("fullscreen"==i[m].name||"side-by-side"==i[m].name)&&az())){if("|"===i[m]){for(var o=!1,j=m+1;j<i.length;j++){"|"===i[j]||d.options.hideIcons&&-1!=d.options.hideIcons.indexOf(i[j].name)||(o=!0)}if(!o){continue}}!function(f){var c;c="|"===f?aL():aR(f,d.options.toolbarTips,d.options.shortcuts),f.action&&("function"==typeof f.action?c.onclick=function(e){e.preventDefault(),f.action(d)}:"string"==typeof f.action&&(c.href=f.action,c.target="_blank")),k[f.name||f]=c,g.appendChild(c)}(i[m])}}d.toolbarElements=k;var l=this.codemirror;l.on("cursorActivity",function(){var f=aO(l);for(var c in k){!function(e){var p=k[e];f[e]?p.className+=" active":"fullscreen"!=e&&"side-by-side"!=e&&(p.className=p.className.replace(/\s*active\s*/g,""))}(c)}});var h=l.getWrapperElement();return h.parentNode.insertBefore(g,h),g}},ax.prototype.createStatusbar=function(p){p=p||this.options.status;var x=this.options,h=this.codemirror;if(p&&0!==p.length){var d,k,g,v=[];for(d=0;d<p.length;d++){if(k=void 0,g=void 0,"object"==typeof p[d]){v.push({className:p[d].className,defaultValue:p[d].defaultValue,onUpdate:p[d].onUpdate})}else{var j=p[d];"words"===j?(g=function(c){c.innerHTML=ac(h.getValue())},k=function(c){c.innerHTML=ac(h.getValue())}):"lines"===j?(g=function(c){c.innerHTML=h.lineCount()},k=function(c){c.innerHTML=h.lineCount()}):"cursor"===j?(g=function(c){c.innerHTML="0:0"},k=function(f){var c=h.getCursor();f.innerHTML=c.line+":"+c.ch}):"autosave"===j&&(g=function(c){void 0!=x.autosave&&x.autosave.enabled===!0&&c.setAttribute("id","autosaved")}),v.push({className:j,defaultValue:g,onUpdate:k})}}var y=document.createElement("div");for(y.className="editor-statusbar",d=0;d<v.length;d++){var q=v[d],w=document.createElement("span");w.className=q.className,"function"==typeof q.defaultValue&&q.defaultValue(w),"function"==typeof q.onUpdate&&this.codemirror.on("update",function(f,c){return function(){c.onUpdate(f)}}(w,q)),y.appendChild(w)}var m=this.codemirror.getWrapperElement();return m.parentNode.insertBefore(y,m.nextSibling),y}},ax.prototype.value=function(c){return void 0===c?this.codemirror.getValue():(this.codemirror.getDoc().setValue(c),this)},ax.toggleBold=aX,ax.toggleItalic=aF,ax.toggleStrikethrough=aU,ax.toggleBlockquote=aW,ax.toggleHeadingSmaller=aK,ax.toggleHeadingBigger=aN,ax.toggleHeading1=aT,ax.toggleHeading2=aE,ax.toggleHeading3=aB,ax.toggleCodeBlock=aS,ax.toggleUnorderedList=aC,ax.toggleOrderedList=aY,ax.cleanBlock=aD,ax.drawLink=aP,ax.drawImage=ag,ax.drawTable=aw,ax.drawHorizontalRule=am,ax.undo=af,ax.redo=al,ax.togglePreview=ay,ax.toggleSideBySide=ak,ax.toggleFullScreen=aH,ax.prototype.toggleBold=function(){aX(this)},ax.prototype.toggleItalic=function(){aF(this)},ax.prototype.toggleStrikethrough=function(){aU(this)},ax.prototype.toggleBlockquote=function(){aW(this)},ax.prototype.toggleHeadingSmaller=function(){aK(this)},ax.prototype.toggleHeadingBigger=function(){aN(this)},ax.prototype.toggleHeading1=function(){aT(this)},ax.prototype.toggleHeading2=function(){aE(this)},ax.prototype.toggleHeading3=function(){aB(this)},ax.prototype.toggleCodeBlock=function(){aS(this)},ax.prototype.toggleUnorderedList=function(){aC(this)},ax.prototype.toggleOrderedList=function(){aY(this)},ax.prototype.cleanBlock=function(){aD(this)},ax.prototype.drawLink=function(){aP(this)},ax.prototype.drawImage=function(){ag(this)},ax.prototype.drawTable=function(){aw(this)},ax.prototype.drawHorizontalRule=function(){am(this)},ax.prototype.undo=function(){af(this)},ax.prototype.redo=function(){al(this)},ax.prototype.togglePreview=function(){ay(this)},ax.prototype.toggleSideBySide=function(){ak(this)},ax.prototype.toggleFullScreen=function(){aH(this)},ax.prototype.isPreviewActive=function(){var d=this.codemirror,c=d.getWrapperElement(),f=c.lastChild;return/editor-preview-active/.test(f.className)},ax.prototype.isSideBySideActive=function(){var d=this.codemirror,c=d.getWrapperElement(),f=c.nextSibling;return/editor-preview-active-side/.test(f.className)},ax.prototype.isFullscreenActive=function(){var c=this.codemirror;return c.getOption("fullScreen")},ax.prototype.getState=function(){var c=this.codemirror;return aO(c)},ax.prototype.toTextArea=function(){var d=this.codemirror,c=d.getWrapperElement();c.parentNode&&(this.gui.toolbar&&c.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&c.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&c.parentNode.removeChild(this.gui.sideBySide)),d.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},aG.exports=ax},{"./codemirror/tablist":19,codemirror:10,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:17}]},{},[20])(20)});